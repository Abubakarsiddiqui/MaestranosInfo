{"version":3,"sources":["scripts/app.js"],"names":["this","App","angular","module","call","config","ImpacRoutesProvider","IMPAC_CONFIG","data","mnoHub","paths","mnohub_api","impacApi","protocol","host","dashboards","index","show","widgets","update","del","kpis","configureRoutes","ImpacThemingProvider","options","dataNotFoundConfig","mainMessage","linkUrl","linkTarget","dhbConfig","designerMode","enabled","dhbLabelName","dhbErrorsConfig","firstTimeCreated","note","dhbSelectorConfig","pdfModeEnabled","addDhbEnabled","deleteDhbEnabled","selectorType","dhbSettings","syncApps","dhbKpisConfig","enableKpis","alertsConfig","enableAlerts","configure","ImpacAssetsProvider","defaultImagesPath","dataNotFound","run","ImpacLinking","ImpacConfigSvc","user","getUserData","organizations","getOrganizations","pusher","key","pusher_key","linkData","$logProvider","toastrConfig","debugEnabled","timeOut","positionClass","preventDuplicates","progressBar","$httpProvider","interceptors","push","$q","$window","$injector","$log","responseError","rejection","toastr","get","status","location","href","error","info","defer","promise","reject","$translateProvider","LOCALES","useStaticFilesLoader","files","prefix","suffix","preferredLanguage","fallbackLanguage","useMissingTranslationHandlerLog","useSanitizeValueStrategy","useMessageFormatInterpolation","$breadcrumbProvider","setOptions","template","constant","value","label","userChanged","staffChanged","staffAdded","subTenantAdded","subTenantChanged","locales","id","name","controller","$scope","$sce","INTERCOM_ID","MnoeAdminConfig","isIntercomEnabled","intercom","trustAsHtml","$stateProvider","$urlRouterProvider","MnoeAdminConfigProvider","adminConfig","state","abstract","templateUrl","controllerAs","pageTitle","url","ncyBreadcrumb","resolve","skip","MnoeCurrentUser","skipIfNotAdmin","skipCondition","RoutingHelper","REVIEWS_CONFIG","skipUnlessCondition","QUESTIONS_CONFIG","views","@dashboard","$get","isAuditLogEnabled","isFinanceEnabled","isStaffEnabled","skipIfNotAdminRole","isSubTenantEnabled","isOrganizationManagementEnabled","otherwise","$rootScope","APP_NAME","app_name","$on","window","scrollTo","$templateCache","put","$location","flash","message","search","JSON","parse","type","msg","_","capitalize","timeout","$timeout","IntercomSvc","getUser","then","init","console","version","$cookies","MnoeMarketplace","MnoErrorsHandler","STAFF_PAGE_AUTH","main","errorHandler","staffPageAuthorized","isReviewingEnabled","areQuestionsEnabled","isDashboardTemplatesEnabled","trustSrc","src","trustAsResourceUrl","exit","logout","service","userData","Intercom","app_id","user_id","email","admin_role","surname","created_at","widget","activator","user_hash","logOut","_self","isConnected","instance","stack","isOauthConnected","oauth_keys_valid","oAuthConnectPath","extra_params","redirect","encodeURIComponent","pathname","hash","uid","canBeDataSynced","dataSyncPath","canBeDisconnected","disconnectPath","$uibModal","modalDefaults","modalOptions","closeButtonText","closeButtonTextExtraData","actionButtonText","actionButtonTextExtraData","headerText","headerTextExtraData","bodyText","bodyTextExtraData","actionCb","backdrop","keyboard","modalFade","showModal","customModalOptions","customModalDefaults","tempModalDefaults","tempModalOptions","extend","$uibModalInstance","ok","isLoading","response","close","dismiss","open","result","errorCache","processServerError","serverError","form","ref","startsWith","each","errors","$setValidity","errorMessage","join","resetErrors","onlyServerError","every","$error","v","k","directive","ITEMS_PER_PAGE","restrict","scope","totalItems","onChangeCb","nbItemsValues","nbItems","page","link","pagination","maxPages","onPageChange","factory","Restangular","inflector","withConfig","RestangularProvider","setBaseUrl","setDefaultHeaders","Accept","setFullResponse","addResponseInterceptor","operation","what","deferred","extractedData","singularize","MnoeApiSvc","marketplaceApi","marketplacePromise","oneUrl","getApps","component","bindings","MnoeAuditEvents","fetchEvents","updateSort","vm","events","sort","offset","list","pageChangedCb","callServer","tableState","sortState","predicate","reverse","limit","loading","headers","ADMIN_PANEL_CONFIG","ADMIN_ROLES","PAYMENT_CONFIG","ORGANIZATION_MANAGEMENT","DEVISE_CONFIG","adminRoles","audit_log","isImpersonationEnabled","impersonation","disabled","staff","finance","isAppManagementEnabled","apps_management","customer_management","organization","isRegistrationEnabled","registration","isUserManagementEnabled","sub_tenant","isAccountManagerEnabled","account_manager","isPaymentEnabled","billing_disabled","payment_disabled","billing","dashboard_templates","dashboardTemplatesDatesFormat","dates_format","MnoeDashboardTemplates","fetchDashboardTemplates","updateSearch","datesFormat","dashboardTemplates","searchingState","attr","predicateObject","openDeleteModal","dashboardTemplateId","modalInstance","size","templates","toggleTemplatePublished","review","closeModal","submitIteraction","commentText","replyText","$filter","MnoeOrganizations","elem","attrs","displayCurrentState","fetchOrganizations","setAllOrganizationsList","setLastOrganizationsList","setSearchOrganizationsList","view","params","sub_tenant_id","mnoe_sub_tenant_id","account_manager_id","switchState","widgetTitle","switchLinkTitle","searchChange","length","searchMode","terms","toLowerCase","name.like","displayNormalState","displayList","searchToLowerCase","filter","contains","$watch","newVal","MnoeReviews","restric","fetchQuestions","editmode","listOfQuestions","statuses","openCommentModal","openEditModal","question","updateDescription","openEditAnswerModal","answer","openQuestionReplyModal","replyQuestion","answers","unshift","app_answer","listQuestions","updateRating","fetchReviews","listOfReviews","reviewNoEdited","copy","success","reviewEdited","app_review","description","openFeedbackReplyModal","replyFeedback","comments","app_comment","listFeedbacks","MnoeUsers","MnoConfirm","MnoeObservables","OBS_KEYS","fetchStaffs","onStaffAdded","onStaffChanged","listOfStaff","getAdminRoleLabel","find","roles","role","updateStaff","refreshUser","remove","staff_name","removeStaff","extraData","staffs","oneAdminLeft","registerCb","$onDestroy","unsubscribe","_elem","_attrs","MnoeSubTenants","fetchSubTenants","listOfSubTenant","subTenant","sub_tenant_name","$translate","fetchUsers","setAllUsersList","setLastUsersList","setSearchUsersList","users","surname.like","email.like","impersonationDisabledText","allow_impersonation","sendInvitation","isSendingInvite","inviteUser","username","impersonateUser","err","firstOrgId","userOrgs","isEmpty","currentOrgId","observersCallbacks","cb","notifyObservers","object","forEach","callback","pull","$state","condition","go","updateUsersCounter","invoices","inviteUserModal","totalCount","registerListChangeCb","ImpacDashboardsSvc","createDashboard","dashboard","merge","published","create","savedDhb","dashboardId","MnoeInvoices","MnoeTenantInvoices","currentBillingAmount","lastInvoicingAmount","lastPortfolioAmount","lastCommissionAmount","tenantInvoices","inArrears","org","category","replace","moment","organisationKpiLocale","count","kpi","outstandingAmount","$stateParams","dashboardLoaded","loaded","parseInt","setCurrentDashboard","currentDashboard","getCurrentDashboard","callbackRegistered","dashboardChanged","MnoAppsInstances","orgId","hasDisconnectedApps","createUserModal","members","plain","updateStatus","map","active_apps","app","nid","countBy","openAddAppModal","windowClass","openRemoveAppModal","splice","isSaving","isAdmin","staffId","admin_role_was","subTenantName","subTenants","adminRoleName","r","sub_tenants","updateStaffAction","client_ids","updateClientsModal","createModal","subTenantId","clients","updateAccountManagerModal","account_managers","userId","all","MnoeAdminApiSvc","terminate","one","notifyListObservers","observerCallbacks","getList","order_by","listPromise","indexOf","item","i","l","userPromise","admin_roles","assign","togglePublished","templateId","getDashboards","dhb","isDefined","load","customGET","post","patch","question_id","feedback_id","pick","doDELETE","_getStaffs","addUser","addStaff","doPOST","sendSignupEmail","$httpParamSerializer","perform","versions","connect","xero_country","countries","payroll","mnoAppInstances","connectAppInstance","modalInfo","$document","appSearch","toggleApp","checked","submitOrganisation","$invalid","element","document","getElementById","scrollToElementAnimated","app_nids","marketplace","apps","organization_name","scrollTopAnimated","USER_ROLES","onSubmit","onCancel","modal_height","innerHeight","selectedApp","modal","displayError","activeAppNids","filtered_apps","includes","closeError","addApps","appNidsToAdd","union","active_apps_nids","nb_active_apps","nb_apps_to_add","intersection","app_nid","arrayOfApps","difference","ListOfApps","MnoeAppInstances","deleteApp","len","selectedOrganizations","val","ref1","results","staffAlreadyExists","showError","method","onEmailChange","selectedUsers","account_manager_ids","staff_roles"],"mappings":"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","file":"../../scripts/app-3f0eb646cd.js","sourcesContent":["/**\n * mnoe-frontend-admin - MnoEnterprise Admin Panel\n * @version v1.0.5\n * @git git@github.com:maestrano/mnoe-admin-panel.git\n */\n(function() {\n  this.App = angular.module('frontendAdmin', ['mnoEnterprise.defaultConfiguration', 'mnoEnterprise.configuration', 'ngAnimate', 'ngAria', 'ngCookies', 'ngMessages', 'restangular', 'ui.router', 'ui.bootstrap', 'toastr', 'ncy-angular-breadcrumb', 'platanus.inflector', 'smart-table', 'angularMoment', 'duScroll', 'ngPageTitle', 'mnoUiElements', 'pascalprecht.translate', 'ngSanitize', 'maestrano.impac', 'ui.toggle']);\n\n}).call(this);\n\n(function() {\n  angular.module('frontendAdmin').config([\"ImpacRoutesProvider\", \"IMPAC_CONFIG\", function(ImpacRoutesProvider, IMPAC_CONFIG) {\n    var data, mnoHub;\n    mnoHub = IMPAC_CONFIG.paths.mnohub_api;\n    data = {\n      mnoHub: mnoHub,\n      impacApi: IMPAC_CONFIG.protocol + \"://\" + IMPAC_CONFIG.host + \"/api\",\n      dashboards: {\n        index: mnoHub + \"/admin/impac/dashboard_templates\",\n        show: mnoHub + \"/admin/impac/dashboard_templates/:id\"\n      },\n      widgets: {\n        update: mnoHub + \"/admin/impac/widgets/:id\",\n        del: mnoHub + \"/admin/impac/widgets/:id\"\n      },\n      kpis: {\n        index: mnoHub + \"/impac/kpis\",\n        update: mnoHub + \"/admin/impac/kpis/:id\",\n        del: mnoHub + \"/admin/impac/kpis/:id\"\n      }\n    };\n    return ImpacRoutesProvider.configureRoutes(data);\n  }]).config([\"ImpacThemingProvider\", function(ImpacThemingProvider) {\n    var options;\n    options = {\n      dataNotFoundConfig: {\n        mainMessage: 'mnoe_admin_panel.impac.data_not_found_config.custom_message',\n        linkUrl: '#!/marketplace',\n        linkTarget: '_self'\n      },\n      dhbConfig: {\n        designerMode: {\n          enabled: true,\n          dhbLabelName: 'Template'\n        }\n      },\n      dhbErrorsConfig: {\n        firstTimeCreated: {\n          note: ''\n        }\n      },\n      dhbSelectorConfig: {\n        pdfModeEnabled: false,\n        addDhbEnabled: false,\n        deleteDhbEnabled: false,\n        selectorType: 'dropdown'\n      },\n      dhbSettings: {\n        syncApps: {\n          show: function() {\n            return false;\n          }\n        }\n      },\n      dhbKpisConfig: {\n        enableKpis: true\n      },\n      alertsConfig: {\n        enableAlerts: false\n      }\n    };\n    return ImpacThemingProvider.configure(options);\n  }]).config([\"ImpacAssetsProvider\", function(ImpacAssetsProvider) {\n    var options;\n    options = {\n      defaultImagesPath: '/dashboard/images',\n      dataNotFound: '/dashboard/images/data_not_found'\n    };\n    return ImpacAssetsProvider.configure(options);\n  }]).run([\"ImpacLinking\", \"ImpacConfigSvc\", \"IMPAC_CONFIG\", function(ImpacLinking, ImpacConfigSvc, IMPAC_CONFIG) {\n    var data;\n    data = {\n      user: ImpacConfigSvc.getUserData,\n      organizations: ImpacConfigSvc.getOrganizations\n    };\n    if ((IMPAC_CONFIG.pusher != null) && (IMPAC_CONFIG.pusher.key != null)) {\n      data.pusher_key = IMPAC_CONFIG.pusher.key;\n    }\n    return ImpacLinking.linkData(data);\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.config([\"$logProvider\", \"toastrConfig\", function($logProvider, toastrConfig) {\n    $logProvider.debugEnabled(true);\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    return toastrConfig.progressBar = true;\n  }]).config([\"$httpProvider\", function($httpProvider) {\n    return $httpProvider.interceptors.push([\"$q\", \"$window\", \"$injector\", \"$log\", function($q, $window, $injector, $log) {\n      return {\n        responseError: function(rejection) {\n          var toastr;\n          toastr = $injector.get('toastr');\n          switch (rejection.status) {\n            case 401:\n              $window.location.href = \"/\";\n              toastr.error(\"You are no longer connected or not an administrator, you will be redirected to the dashboard.\");\n              return $log.error(\"User is not connected!\");\n            case 403:\n              if (rejection.data.error && rejection.data.error === \"Your password is expired. Please renew your password.\") {\n                $log.info('[PasswordExpiredInterceptor] Password Expired!');\n                $window.location.href = \"/mnoe/auth/users/password_expired\";\n                return $q.defer().promise;\n              } else {\n                return $q.reject(rejection);\n              }\n              break;\n            case 429:\n            case 503:\n              toastr.error(\"mnoe_admin_panel.errors.\" + rejection.status + \".description\", \"mnoe_admin_panel.errors.\" + rejection.status + \".title\");\n              $log.info('[MnoHubErrorInterceptor] MnoHub error, redirecting to error page');\n              $window.location.href = \"/mnoe/errors/\" + rejection.status;\n              return $q.defer().promise;\n            default:\n              return $q.reject(rejection);\n          }\n        }\n      };\n    }]);\n  }]).config([\"$translateProvider\", \"LOCALES\", function($translateProvider, LOCALES) {\n    $translateProvider.useStaticFilesLoader({\n      files: [\n        {\n          prefix: 'locales/',\n          suffix: '.json'\n        }, {\n          prefix: 'locales/impac/',\n          suffix: '.json'\n        }\n      ]\n    });\n    $translateProvider.preferredLanguage(LOCALES.preferredLanguage);\n    $translateProvider.fallbackLanguage(LOCALES.fallbackLanguage);\n    $translateProvider.useMissingTranslationHandlerLog();\n    $translateProvider.useSanitizeValueStrategy('sanitize');\n    return $translateProvider.useMessageFormatInterpolation();\n  }]).config([\"$breadcrumbProvider\", function($breadcrumbProvider) {\n    return $breadcrumbProvider.setOptions({\n      template: '<ol class=\"breadcrumb\">\\n  <li ng-repeat=\"step in steps\" ng-class=\"{active: $last}\" ng-switch=\"$last || !!step.abstract\">\\n    <a ng-switch-when=\"false\" href=\"{{step.ncyBreadcrumbLink}}\">{{step.ncyBreadcrumbLabel | translate}}</a>\\n  <span ng-switch-when=\"true\">{{step.ncyBreadcrumbLabel | translate}}</span>\\n  </li>\\n</ol>'\n    });\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.constant('USER_ROLES', [\n    {\n      value: 'Member',\n      label: 'mnoe_admin_panel.constants.user_roles.member'\n    }, {\n      value: 'Admin',\n      label: 'mnoe_admin_panel.constants.user_roles.admin'\n    }, {\n      value: 'Super Admin',\n      label: 'mnoe_admin_panel.constants.user_roles.super_admin'\n    }\n  ]).constant('ADMIN_ROLES', [\n    {\n      value: 'admin',\n      label: 'mnoe_admin_panel.constants.admin_roles.admin'\n    }, {\n      value: 'sub_tenant_admin',\n      label: 'mnoe_admin_panel.constants.admin_roles.sub_tenant_admin'\n    }, {\n      value: 'staff',\n      label: 'mnoe_admin_panel.constants.admin_roles.staff'\n    }\n  ]).constant('STAFF_PAGE_AUTH', ['admin', 'sub_tenant_admin']).constant('OBS_KEYS', {\n    userChanged: 'userListChanged',\n    staffChanged: 'staffListChanged',\n    staffAdded: 'staffAdded',\n    subTenantAdded: 'subTenantAdded',\n    subTenantChanged: 'subTenantListChanged'\n  }).constant('LOCALES', {\n    locales: [\n      {\n        id: 'en-AU',\n        name: 'English (Australia)'\n      }\n    ],\n    preferredLanguage: 'en-AU',\n    fallbackLanguage: 'en-AU'\n  });\n\n}).call(this);\n\n(function() {\n  this.App.controller('IndexController', [\"$scope\", \"$sce\", \"INTERCOM_ID\", \"MnoeAdminConfig\", function($scope, $sce, INTERCOM_ID, MnoeAdminConfig) {\n    'ngInject';\n    if (MnoeAdminConfig.isIntercomEnabled()) {\n      $scope.intercom = $sce.trustAsHtml(\"<script>\\n  window.intercomSettings = {\\n    app_id: \\\"\" + INTERCOM_ID + \"\\\"\\n  };\\n</script>\\n<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic===\\\"function\\\"){ic('reattach_activator');\\n  ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];\\n  i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');\\n  s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/\" + INTERCOM_ID + \"';\\n  var x=d.getElementsByTagName('script')[0];\\n  x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()\\n</script>\");\n    }\n  }]);\n\n}).call(this);\n\n(function() {\n  angular.module('mnoEnterprise.defaultConfiguration', []).constant('REVIEWS_CONFIG', {\n    enabled: false\n  }).constant('ADMIN_PANEL_CONFIG', {}).constant('QUESTIONS_CONFIG', {\n    enabled: false\n  }).constant('DEVISE_CONFIG', {});\n\n}).call(this);\n\n(function() {\n  this.App.config([\"$stateProvider\", \"$urlRouterProvider\", \"MnoeAdminConfigProvider\", function($stateProvider, $urlRouterProvider, MnoeAdminConfigProvider) {\n    'ngInject';\n    var adminConfig;\n    $stateProvider.state('dashboard', {\n      abstract: true,\n      templateUrl: 'app/views/dashboard.layout.html',\n      controller: 'DashboardController',\n      controllerAs: 'main'\n    }).state('dashboard.home', {\n      data: {\n        pageTitle: 'Home'\n      },\n      url: '/home',\n      templateUrl: 'app/views/home/home.html',\n      controller: 'HomeController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.home.title'\n      }\n    }).state('dashboard.reviews', {\n      data: {\n        pageTitle: 'Reviews'\n      },\n      url: '/reviews',\n      templateUrl: 'app/views/reviews/reviews.html',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.reviews.title'\n      },\n      resolve: {\n        skip: [\"MnoeCurrentUser\", function(MnoeCurrentUser) {\n          return MnoeCurrentUser.skipIfNotAdmin();\n        }],\n        skipCondition: [\"RoutingHelper\", \"REVIEWS_CONFIG\", function(RoutingHelper, REVIEWS_CONFIG) {\n          return RoutingHelper.skipUnlessCondition(REVIEWS_CONFIG && REVIEWS_CONFIG.enabled);\n        }]\n      }\n    }).state('dashboard.questions', {\n      data: {\n        pageTitle: 'Questions'\n      },\n      url: '/questions',\n      templateUrl: 'app/views/questions/questions.html',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.questions.title'\n      },\n      resolve: {\n        skip: [\"MnoeCurrentUser\", function(MnoeCurrentUser) {\n          return MnoeCurrentUser.skipIfNotAdmin();\n        }],\n        skipCondition: [\"RoutingHelper\", \"QUESTIONS_CONFIG\", function(RoutingHelper, QUESTIONS_CONFIG) {\n          return RoutingHelper.skipUnlessCondition(QUESTIONS_CONFIG && QUESTIONS_CONFIG.enabled);\n        }]\n      }\n    }).state('dashboard.customers', {\n      data: {\n        pageTitle: 'Customers'\n      },\n      url: '/customers',\n      templateUrl: 'app/views/customers/customers.html',\n      controller: 'CustomersController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.customers.title'\n      }\n    }).state('dashboard.customers.user', {\n      data: {\n        pageTitle: 'User'\n      },\n      url: '^/user/:userId',\n      views: {\n        '@dashboard': {\n          templateUrl: 'app/views/user/user.html',\n          controller: 'UserController',\n          controllerAs: 'vm'\n        }\n      },\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.user.title'\n      }\n    }).state('dashboard.customers.organization', {\n      data: {\n        pageTitle: 'Organization'\n      },\n      url: '^/organization/:orgId',\n      views: {\n        '@dashboard': {\n          templateUrl: 'app/views/organization/organization.html',\n          controller: 'OrganizationController',\n          controllerAs: 'vm'\n        }\n      },\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.organization.title'\n      }\n    }).state('dashboard.customers.connect-app', {\n      url: '^/customers/:orgId/connect-apps',\n      views: {\n        '@dashboard': {\n          templateUrl: 'app/views/customers/connect-app/connect-app.html',\n          controller: 'ConnectAppController',\n          controllerAs: 'vm'\n        }\n      },\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.customers.connect_app.title'\n      }\n    }).state('dashboard.dashboard-templates', {\n      url: '/dashboard-templates',\n      templateUrl: 'app/views/dashboard-templates/dashboard-templates.html',\n      controller: 'DashboardTemplatesController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.dashboard_templates.title'\n      }\n    }).state('dashboard.dashboard-templates-show', {\n      url: '/dashboard-templates/:dashboardId',\n      templateUrl: 'app/views/impac/impac.html',\n      controller: 'ImpacController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'mnoe_admin_panel.dashboard.impac.title'\n      }\n    });\n    adminConfig = MnoeAdminConfigProvider.$get();\n    if (adminConfig.isAuditLogEnabled()) {\n      $stateProvider.state('dashboard.audit-log', {\n        data: {\n          pageTitle: 'Audit Log'\n        },\n        url: '/audit-log',\n        templateUrl: 'app/views/audit-log/audit-log.html',\n        controller: 'AuditLogController',\n        controllerAs: 'vm',\n        ncyBreadcrumb: {\n          label: 'mnoe_admin_panel.dashboard.audit_log.title'\n        }\n      });\n    }\n    if (adminConfig.isFinanceEnabled()) {\n      $stateProvider.state('dashboard.finance', {\n        data: {\n          pageTitle: 'Finance'\n        },\n        url: '/finance',\n        templateUrl: 'app/views/finance/finance.html',\n        controller: 'FinanceController',\n        controllerAs: 'vm',\n        ncyBreadcrumb: {\n          label: 'mnoe_admin_panel.dashboard.finance.title'\n        }\n      });\n    }\n    if (adminConfig.isStaffEnabled()) {\n      $stateProvider.state('dashboard.staffs', {\n        data: {\n          pageTitle: 'Staffs'\n        },\n        url: '/staffs',\n        templateUrl: 'app/views/staffs/staffs.html',\n        controller: 'StaffsController',\n        controllerAs: 'vm',\n        ncyBreadcrumb: {\n          label: 'mnoe_admin_panel.dashboard.staffs.title'\n        },\n        resolve: {\n          skip: [\"MnoeCurrentUser\", function(MnoeCurrentUser) {\n            return MnoeCurrentUser.skipIfNotAdminRole(['admin', 'sub_tenant_admin']);\n          }]\n        }\n      }).state('dashboard.staff', {\n        data: {\n          pageTitle: 'Division'\n        },\n        url: '^/staff/:staffId',\n        views: {\n          '@dashboard': {\n            templateUrl: 'app/views/staff/staff.html',\n            controller: 'StaffController',\n            controllerAs: 'vm'\n          }\n        },\n        ncyBreadcrumb: {\n          label: 'mnoe_admin_panel.dashboard.staffs.title'\n        },\n        resolve: {\n          skip: [\"MnoeCurrentUser\", function(MnoeCurrentUser) {\n            return MnoeCurrentUser.skipIfNotAdminRole(['admin', 'sub_tenant_admin']);\n          }]\n        }\n      }).state('dashboard.sub-tenants', {\n        data: {\n          pageTitle: 'Divisions'\n        },\n        url: '/sub-tenants',\n        templateUrl: 'app/views/sub-tenants/sub-tenants.html',\n        controller: 'SubTenantsController',\n        controllerAs: 'vm',\n        ncyBreadcrumb: {\n          label: 'mnoe_admin_panel.dashboard.sub_tenants.title'\n        },\n        resolve: {\n          skip: [\"MnoeCurrentUser\", \"MnoeAdminConfig\", function(MnoeCurrentUser, MnoeAdminConfig) {\n            return MnoeCurrentUser.skipIfNotAdminRole(['admin']) || !MnoeAdminConfig.isSubTenantEnabled();\n          }]\n        }\n      }).state('dashboard.sub-tenant', {\n        data: {\n          pageTitle: 'Division'\n        },\n        url: '^/sub-tenant/:subTenantId',\n        views: {\n          '@dashboard': {\n            templateUrl: 'app/views/sub-tenant/sub-tenant.html',\n            controller: 'SubTenantController',\n            controllerAs: 'vm'\n          }\n        },\n        ncyBreadcrumb: {\n          label: 'mnoe_admin_panel.dashboard.sub_tenant.title'\n        }\n      });\n    }\n    if (adminConfig.isOrganizationManagementEnabled()) {\n      $stateProvider.state('dashboard.customers.create-step-1', {\n        url: '^/customers/create-customer',\n        views: {\n          '@dashboard': {\n            templateUrl: 'app/views/customers/create-step-1/create-step-1.html',\n            controller: 'CreateStep1Controller',\n            controllerAs: 'vm'\n          }\n        },\n        ncyBreadcrumb: {\n          label: 'mnoe_admin_panel.dashboard.customers.create_customer.title'\n        }\n      });\n    }\n    return $urlRouterProvider.otherwise('/home');\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.run([\"$rootScope\", \"APP_NAME\", function($rootScope, APP_NAME) {\n    return $rootScope.app_name = APP_NAME;\n  }]).run([\"$rootScope\", function($rootScope) {\n    return $rootScope.$on('$viewContentLoaded', function() {\n      return window.scrollTo(0, 0);\n    });\n  }]).run([\"$templateCache\", function($templateCache) {\n    return $templateCache.put('directives/toast/toast.html', '<div class=\"{{toastClass}} {{toastType}}\" ng-click=\"tapToast()\">\\n  <div ng-switch on=\"allowHtml\">\\n    <div ng-switch-default ng-if=\"title\" class=\"{{titleClass}}\" aria-label=\"{{title | translate}}\">{{title | translate:extraData}}</div>\\n    <div ng-switch-default class=\"{{messageClass}}\" aria-label=\"{{message | translate:extraData}}\">{{message | translate:extraData}}</div>\\n    <div ng-switch-when=\"true\" ng-if=\"title\" class=\"{{titleClass}}\" ng-bind-html=\"title | translate:extraData\"></div>\\n    <div ng-switch-when=\"true\" class=\"{{messageClass}}\" ng-bind-html=\"message | translate:extraData\"></div>\\n  </div>\\n  <progress-bar ng-if=\"progressBar\"></progress-bar>\\n</div>');\n  }]).run([\"toastr\", \"$location\", function(toastr, $location) {\n    var flash, message;\n    if (flash = $location.search().flash) {\n      message = JSON.parse(flash);\n      toastr[message.type](message.msg, _.capitalize(message.type), {\n        timeout: 10000\n      });\n      return $location.search('flash', null);\n    }\n  }]).run([\"$rootScope\", \"$timeout\", \"IntercomSvc\", \"MnoeCurrentUser\", function($rootScope, $timeout, IntercomSvc, MnoeCurrentUser) {\n    $timeout(function() {\n      return MnoeCurrentUser.getUser().then(function(user) {\n        return IntercomSvc.init(user);\n      });\n    });\n    return $rootScope.$on(\"$stateChangeStart\", function() {\n      return IntercomSvc.update();\n    });\n  }]);\n\n}).call(this);\n\n(function () {console.info(\"MnoEnterprise Admin Panel - v1.0.5\"); window[\"mnoe\"] = {\"version\": \"1.0.5\"};}).call();\n(function() {\n  this.App.controller('DashboardController', [\"$scope\", \"$cookies\", \"$sce\", \"MnoeMarketplace\", \"MnoErrorsHandler\", \"MnoeCurrentUser\", \"MnoeAdminConfig\", \"STAFF_PAGE_AUTH\", \"REVIEWS_CONFIG\", \"QUESTIONS_CONFIG\", function($scope, $cookies, $sce, MnoeMarketplace, MnoErrorsHandler, MnoeCurrentUser, MnoeAdminConfig, STAFF_PAGE_AUTH, REVIEWS_CONFIG, QUESTIONS_CONFIG) {\n    'ngInject';\n    var main;\n    main = this;\n    main.errorHandler = MnoErrorsHandler;\n    main.staffPageAuthorized = STAFF_PAGE_AUTH;\n    main.isReviewingEnabled = REVIEWS_CONFIG && REVIEWS_CONFIG.enabled;\n    main.areQuestionsEnabled = QUESTIONS_CONFIG && QUESTIONS_CONFIG.enabled;\n    main.isFinanceEnabled = MnoeAdminConfig.isFinanceEnabled();\n    main.isSubTenantEnabled = MnoeAdminConfig.isSubTenantEnabled();\n    main.isDashboardTemplatesEnabled = MnoeAdminConfig.isDashboardTemplatesEnabled();\n    main.adminConfig = MnoeAdminConfig;\n    main.trustSrc = function(src) {\n      return $sce.trustAsResourceUrl(src);\n    };\n    MnoeCurrentUser.getUser().then(main.user = MnoeCurrentUser.user);\n    main.exit = function() {\n      return MnoeCurrentUser.logout();\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('IntercomSvc', [\"$window\", \"INTERCOM_ID\", function($window, INTERCOM_ID) {\n    this.init = function(user) {\n      var userData;\n      if ($window.Intercom) {\n        userData = {\n          app_id: INTERCOM_ID,\n          user_id: user.id,\n          email: user.email,\n          admin_role: user.admin_role,\n          name: user.name,\n          surname: user.surname,\n          created_at: user.created_at,\n          widget: {\n            activator: \"#IntercomDefaultWidget\"\n          }\n        };\n        if (user.user_hash) {\n          userData.user_hash = user.user_hash;\n        }\n        return $window.Intercom('boot', userData);\n      }\n    };\n    this.update = function() {\n      if ($window.Intercom) {\n        return $window.Intercom('update');\n      }\n    };\n    this.logOut = function() {\n      if ($window.Intercom) {\n        return $window.Intercom('shutdown');\n      }\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoAppsInstances', function() {\n    var _self;\n    _self = this;\n    this.isConnected = function(instance) {\n      return instance.stack === 'cube' || instance.stack === 'cloud' || _self.isOauthConnected(instance);\n    };\n    this.isOauthConnected = function(instance) {\n      return instance.stack === 'connector' && instance.oauth_keys_valid;\n    };\n    this.oAuthConnectPath = function(instance, extra_params) {\n      var redirect;\n      if (extra_params == null) {\n        extra_params = '';\n      }\n      redirect = window.encodeURIComponent(\"\" + location.pathname + location.hash);\n      return \"/mnoe/webhook/oauth/\" + instance.uid + \"/authorize?redirect_path=\" + redirect + \"&\" + extra_params;\n    };\n    this.canBeDataSynced = function(instance) {\n      return instance.stack === 'connector' && instance.oauth_keys_valid;\n    };\n    this.dataSyncPath = function(instance) {\n      return \"/mnoe/webhook/oauth/\" + instance.uid + \"/sync\";\n    };\n    this.canBeDisconnected = function(instance) {\n      return instance.stack === 'connector' && instance.oauth_keys_valid;\n    };\n    this.disconnectPath = function(instance) {\n      return \"/mnoe/webhook/oauth/\" + instance.uid + \"/disconnect\";\n    };\n    return this;\n  });\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoConfirm', [\"$uibModal\", \"$q\", function($uibModal, $q) {\n    var _self, modalDefaults, modalOptions;\n    _self = this;\n    modalOptions = {\n      closeButtonText: 'mnoe_admin_panel.dashboard.mno_confirm.close',\n      closeButtonTextExtraData: {},\n      actionButtonText: 'mnoe_admin_panel.dashboard.mno_confirm.ok',\n      actionButtonTextExtraData: {},\n      headerText: 'mnoe_admin_panel.dashboard.mno_confirm.proceed',\n      headerTextExtraData: {},\n      bodyText: 'mnoe_admin_panel.dashboard.mno_confirm.perform',\n      bodyTextExtraData: {},\n      actionCb: $q.resolve,\n      type: 'primary'\n    };\n    modalDefaults = {\n      backdrop: true,\n      keyboard: true,\n      modalFade: true,\n      templateUrl: 'app/components/mno-confirm/mno-confirm.html'\n    };\n    this.showModal = function(customModalOptions, customModalDefaults) {\n      if (customModalDefaults == null) {\n        customModalDefaults = null;\n      }\n      if (customModalDefaults == null) {\n        customModalDefaults = {};\n      }\n      customModalDefaults.backdrop = 'static';\n      return _self.show(customModalOptions, customModalDefaults);\n    };\n    this.show = function(customModalOptions, customModalDefaults) {\n      var tempModalDefaults, tempModalOptions;\n      if (customModalDefaults == null) {\n        customModalDefaults = null;\n      }\n      tempModalDefaults = {};\n      tempModalOptions = {};\n      angular.extend(tempModalOptions, modalOptions, customModalOptions);\n      angular.extend(tempModalDefaults, modalDefaults, customModalDefaults);\n      if (!tempModalDefaults.controller) {\n        tempModalDefaults.controller = [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n          'ngInject';\n          $scope.modalOptions = tempModalOptions;\n          $scope.modalOptions.ok = function() {\n            $scope.modalOptions.isLoading = true;\n            return $scope.modalOptions.actionCb().then(function(response) {\n              return $uibModalInstance.close(response);\n            })[\"finally\"](function() {\n              return $scope.modalOptions.isLoading = false;\n            });\n          };\n          return $scope.modalOptions.close = function() {\n            return $uibModalInstance.dismiss('cancel');\n          };\n        }];\n      }\n      return $uibModal.open(tempModalDefaults).result;\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoErrorsHandler', [\"$log\", function($log) {\n    var _self, errorCache;\n    _self = this;\n    errorCache = null;\n    this.processServerError = function(serverError, form) {\n      var ref;\n      $log.error('An error occurred:', serverError);\n      if (_.startsWith(serverError.data, '<!DOCTYPE html>')) {\n        return;\n      }\n      if ((400 <= (ref = serverError.status) && ref <= 499)) {\n        errorCache = serverError;\n        return _.each(errorCache.data, function(errors, key) {\n          return _.each(errors, function() {\n            if (form[key] != null) {\n              return form[key].$setValidity('server', false);\n            } else {\n              return $log.error('MnoErrorsHandler: cannot find field:' + key);\n            }\n          });\n        });\n      }\n    };\n    this.errorMessage = function(name) {\n      var result;\n      result = [];\n      if (errorCache != null) {\n        _.each(errorCache.data[name], function(msg) {\n          return result.push(msg);\n        });\n      }\n      return result.join(', ');\n    };\n    this.resetErrors = function(form) {\n      if (errorCache != null) {\n        _.each(errorCache.data, function(errors, key) {\n          return _.each(errors, function() {\n            if (form[key] != null) {\n              return form[key].$setValidity('server', null);\n            }\n          });\n        });\n        return errorCache = null;\n      }\n    };\n    this.onlyServerError = function(form) {\n      return _.every(form.$error, function(v, k) {\n        return k === 'server';\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.constant('ITEMS_PER_PAGE', [10, 20, 50, 100]);\n\n  this.App.directive('mnoPagination', [\"ITEMS_PER_PAGE\", function(ITEMS_PER_PAGE) {\n    return {\n      restrict: 'AE',\n      scope: {\n        totalItems: '=',\n        onChangeCb: '&',\n        nbItemsValues: '=?',\n        nbItems: '=',\n        page: '=',\n        isLoading: '=?'\n      },\n      templateUrl: 'app/components/mno-pagination/mno-pagination.html',\n      link: function(scope) {\n        scope.pagination = {\n          maxPages: 7\n        };\n        if (!scope.nbItemsValues) {\n          scope.nbItemsValues = ITEMS_PER_PAGE;\n        }\n        return scope.onPageChange = function() {\n          return scope.onChangeCb({\n            nbItems: scope.nbItems,\n            page: scope.page\n          });\n        };\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.factory('MnoeApiSvc', [\"$log\", \"Restangular\", \"inflector\", function($log, Restangular, inflector) {\n    return Restangular.withConfig(function(RestangularProvider) {\n      RestangularProvider.setBaseUrl('/mnoe/jpi/v1');\n      RestangularProvider.setDefaultHeaders({\n        Accept: \"application/json\"\n      });\n      RestangularProvider.setFullResponse(true);\n      return RestangularProvider.addResponseInterceptor(function(data, operation, what, url, response, deferred) {\n        var extractedData;\n        if (_.startsWith(what, '/')) {\n          return data;\n        }\n        extractedData = null;\n        if (operation === 'getList') {\n          extractedData = data[what];\n        } else if (operation === 'get' || operation === 'put' || operation === 'post') {\n          what = inflector.singularize(what);\n          extractedData = data[what];\n        } else {\n          extractedData = data;\n        }\n        return extractedData;\n      });\n    });\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeMarketplace', [\"$log\", \"MnoeApiSvc\", function($log, MnoeApiSvc) {\n    var _self, marketplaceApi, marketplacePromise;\n    _self = this;\n    marketplaceApi = MnoeApiSvc.oneUrl('/marketplace');\n    marketplacePromise = null;\n    this.getApps = function() {\n      if (marketplacePromise != null) {\n        return marketplacePromise;\n      }\n      return marketplacePromise = marketplaceApi.get();\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.component('mnoeAuditEventsList', {\n    templateUrl: 'app/components/mnoe-audit-events-list/mnoe-audit-events-list.html',\n    bindings: {},\n    controller: [\"$log\", \"MnoeAuditEvents\", function($log, MnoeAuditEvents) {\n      var fetchEvents, updateSort, vm;\n      vm = this;\n      vm.events = {\n        search: {},\n        sort: \"created_at.desc\",\n        nbItems: 20,\n        offset: 0,\n        page: 1,\n        list: [],\n        pageChangedCb: function(nbItems, page) {\n          vm.events.nbItems = nbItems;\n          vm.events.page = page;\n          vm.events.offset = (page - 1) * nbItems;\n          return fetchEvents(nbItems, vm.events.offset);\n        }\n      };\n      vm.callServer = function(tableState) {\n        vm.events.sort = updateSort(tableState.sort);\n        return fetchEvents(vm.events.nbItems, vm.events.offset, vm.events.sort);\n      };\n      updateSort = function(sortState) {\n        var sort;\n        if (sortState == null) {\n          sortState = {};\n        }\n        sort = \"created_at.desc\";\n        if (sortState.predicate) {\n          sort = sortState.predicate;\n          if (sortState.reverse) {\n            sort += \".desc\";\n          } else {\n            sort += \".asc\";\n          }\n        }\n        return sort;\n      };\n      fetchEvents = function(limit, offset, sort) {\n        if (sort == null) {\n          sort = vm.events.sort;\n        }\n        vm.events.loading = true;\n        return MnoeAuditEvents.list(limit, offset, sort).then(function(response) {\n          vm.events.totalItems = response.headers('x-total-count');\n          return vm.events.list = response.data;\n        })[\"finally\"](function() {\n          return vm.events.loading = false;\n        });\n      };\n    }]\n  });\n\n}).call(this);\n\n(function() {\n  this.App.factory('MnoeAdminConfig', [\"$log\", \"ADMIN_PANEL_CONFIG\", \"ADMIN_ROLES\", \"INTERCOM_ID\", \"PAYMENT_CONFIG\", \"ORGANIZATION_MANAGEMENT\", \"DEVISE_CONFIG\", function($log, ADMIN_PANEL_CONFIG, ADMIN_ROLES, INTERCOM_ID, PAYMENT_CONFIG, ORGANIZATION_MANAGEMENT, DEVISE_CONFIG) {\n    var _self;\n    _self = this;\n    this.adminRoles = function() {\n      if (this.isSubTenantEnabled()) {\n        return ADMIN_ROLES;\n      } else {\n        return _.reject(ADMIN_ROLES, {\n          value: 'sub_tenant_admin'\n        });\n      }\n    };\n    this.isAuditLogEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.audit_log) {\n        return ADMIN_PANEL_CONFIG.audit_log.enabled;\n      } else {\n        return true;\n      }\n    };\n    this.isIntercomEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.intercom != null) {\n        return ADMIN_PANEL_CONFIG.intercom.enabled && (INTERCOM_ID != null);\n      } else {\n        return false;\n      }\n    };\n    this.isImpersonationEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.impersonation) {\n        return !ADMIN_PANEL_CONFIG.impersonation.disabled;\n      } else {\n        return true;\n      }\n    };\n    this.isStaffEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.staff != null) {\n        return ADMIN_PANEL_CONFIG.staff.enabled;\n      } else {\n        return true;\n      }\n    };\n    this.isFinanceEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.finance != null) {\n        return ADMIN_PANEL_CONFIG.finance.enabled;\n      } else {\n        return true;\n      }\n    };\n    this.isAppManagementEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.apps_management != null) {\n        return ADMIN_PANEL_CONFIG.apps_management.enabled;\n      } else {\n        return true;\n      }\n    };\n    this.isOrganizationManagementEnabled = function() {\n      if ((ADMIN_PANEL_CONFIG.customer_management != null) && (ADMIN_PANEL_CONFIG.customer_management.organization != null)) {\n        return ADMIN_PANEL_CONFIG.customer_management.organization.enabled;\n      } else {\n        return true;\n      }\n    };\n    this.isRegistrationEnabled = function() {\n      var ref;\n      if (((ref = DEVISE_CONFIG.registration) != null ? ref.disabled : void 0) != null) {\n        return !DEVISE_CONFIG.registration.disabled;\n      } else {\n        return true;\n      }\n    };\n    this.isUserManagementEnabled = function() {\n      if ((ADMIN_PANEL_CONFIG.customer_management != null) && (ADMIN_PANEL_CONFIG.customer_management.user != null)) {\n        return ADMIN_PANEL_CONFIG.customer_management.user.enabled;\n      } else {\n        return true;\n      }\n    };\n    this.isSubTenantEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.sub_tenant != null) {\n        return ADMIN_PANEL_CONFIG.sub_tenant.enabled;\n      } else {\n        return false;\n      }\n    };\n    this.isAccountManagerEnabled = function() {\n      if (ADMIN_PANEL_CONFIG.account_manager != null) {\n        return ADMIN_PANEL_CONFIG.account_manager.enabled;\n      } else {\n        return false;\n      }\n    };\n    this.isPaymentEnabled = function() {\n      var billing_disabled, payment_disabled;\n      payment_disabled = (PAYMENT_CONFIG != null) && PAYMENT_CONFIG.disabled;\n      billing_disabled = (ORGANIZATION_MANAGEMENT != null) && (ORGANIZATION_MANAGEMENT.billing != null) && !ORGANIZATION_MANAGEMENT.billing.enabled;\n      return !(payment_disabled || billing_disabled);\n    };\n    this.isDashboardTemplatesEnabled = function() {\n      return (ADMIN_PANEL_CONFIG.dashboard_templates != null) && ADMIN_PANEL_CONFIG.dashboard_templates.enabled;\n    };\n    this.dashboardTemplatesDatesFormat = function() {\n      return (ADMIN_PANEL_CONFIG.dashboard_templates != null) && ADMIN_PANEL_CONFIG.dashboard_templates.dates_format || 'L';\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.component('mnoeDashboardTemplatesList', {\n    templateUrl: 'app/components/mnoe-dashboard-templates-list/mnoe-dashboard-templates-list.html',\n    controller: [\"$uibModal\", \"toastr\", \"MnoeDashboardTemplates\", \"MnoeAdminConfig\", function($uibModal, toastr, MnoeDashboardTemplates, MnoeAdminConfig) {\n      var fetchDashboardTemplates, updateSearch, updateSort, vm;\n      vm = this;\n      vm.datesFormat = MnoeAdminConfig.dashboardTemplatesDatesFormat();\n      vm.dashboardTemplates = {\n        search: {},\n        sort: \"name\",\n        nbItems: 10,\n        page: 1,\n        pageChangedCb: function(nbItems, page) {\n          var offset;\n          vm.dashboardTemplates.nbItems = nbItems;\n          vm.dashboardTemplates.page = page;\n          offset = (page - 1) * nbItems;\n          return fetchDashboardTemplates(nbItems, offset);\n        }\n      };\n      vm.callServer = function(tableState) {\n        var search, sort;\n        sort = updateSort(tableState.sort);\n        search = updateSearch(tableState.search);\n        return fetchDashboardTemplates(vm.dashboardTemplates.nbItems, vm.dashboardTemplates.offset, sort, search);\n      };\n      updateSort = function(sortState) {\n        var sort;\n        if (sortState == null) {\n          sortState = {};\n        }\n        sort = \"name\";\n        if (sortState.predicate) {\n          sort = sortState.predicate;\n          if (sortState.reverse) {\n            sort += \".desc\";\n          } else {\n            sort += \".asc\";\n          }\n        }\n        return vm.dashboardTemplates.sort = sort;\n      };\n      updateSearch = function(searchingState) {\n        var attr, ref, search, value;\n        if (searchingState == null) {\n          searchingState = {};\n        }\n        search = {};\n        if (searchingState.predicateObject) {\n          ref = searchingState.predicateObject;\n          for (attr in ref) {\n            value = ref[attr];\n            search['where[' + attr + '.like]'] = value + '%';\n          }\n        }\n        return vm.dashboardTemplates.search = search;\n      };\n      vm.openDeleteModal = function(dashboardTemplateId) {\n        var modalInstance;\n        modalInstance = $uibModal.open({\n          templateUrl: 'app/views/dashboard-templates/modals/delete-dashboard-template-modal.html',\n          controller: 'deleteDashboardTemplateCtrl',\n          size: 'lg',\n          resolve: {\n            dashboardTemplateId: dashboardTemplateId\n          }\n        });\n        return modalInstance.result.then(function(result) {\n          if (result) {\n            return fetchDashboardTemplates();\n          }\n        });\n      };\n      fetchDashboardTemplates = function(limit, offset, sort, search) {\n        if (sort == null) {\n          sort = vm.dashboardTemplates.sort;\n        }\n        if (search == null) {\n          search = vm.dashboardTemplates.search;\n        }\n        vm.dashboardTemplates.loading = true;\n        return MnoeDashboardTemplates.templates(limit, offset, sort, search).then(function(response) {\n          vm.dashboardTemplates.totalItems = response.headers('x-total-count');\n          return vm.dashboardTemplates.list = response.data;\n        })[\"finally\"](function() {\n          return vm.dashboardTemplates.loading = false;\n        });\n      };\n      vm.toggleTemplatePublished = function(id) {\n        return MnoeDashboardTemplates.toggleTemplatePublished(id);\n      };\n    }]\n  });\n\n}).call(this);\n\n(function() {\n  angular.module('frontendAdmin').controller('CommentEditModal', [\"$scope\", \"$uibModalInstance\", \"review\", function($scope, $uibModalInstance, review) {\n    $scope.review = review;\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.close(review);\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  angular.module('frontendAdmin').controller('CommentModal', [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n    $scope.commentText = '';\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.dismiss();\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  angular.module('frontendAdmin').controller('FeedbackReplyModal', [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n    $scope.replyText = '';\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.close($scope.replyText);\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  angular.module('frontendAdmin').controller('QuestionReplyModal', [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n    $scope.replyText = '';\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.close($scope.replyText);\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.directive('mnoeOrganizationsList', [\"$filter\", \"$log\", \"MnoeOrganizations\", \"MnoeCurrentUser\", \"MnoeAdminConfig\", function($filter, $log, MnoeOrganizations, MnoeCurrentUser, MnoeAdminConfig) {\n    return {\n      restrict: 'E',\n      scope: {\n        list: '='\n      },\n      templateUrl: 'app/components/mnoe-organizations-list/mnoe-organizations-list.html',\n      link: function(scope, elem, attrs) {\n        var displayCurrentState, fetchOrganizations, setAllOrganizationsList, setLastOrganizationsList, setSearchOrganizationsList;\n        scope.state = attrs.view;\n        scope.organizations = {\n          search: '',\n          nbItems: 10,\n          page: 1,\n          pageChangedCb: function(nbItems, page) {\n            var offset;\n            scope.organizations.nbItems = nbItems;\n            scope.organizations.page = page;\n            offset = (page - 1) * nbItems;\n            return fetchOrganizations(nbItems, offset);\n          }\n        };\n        fetchOrganizations = function(limit, offset, sort) {\n          if (sort == null) {\n            sort = 'name';\n          }\n          scope.organizations.loading = true;\n          return MnoeCurrentUser.getUser().then(function() {\n            var params;\n            params = MnoeAdminConfig.isAccountManagerEnabled() ? {\n              sub_tenant_id: MnoeCurrentUser.user.mnoe_sub_tenant_id,\n              account_manager_id: MnoeCurrentUser.user.id\n            } : {};\n            return MnoeOrganizations.list(limit, offset, sort, params).then(function(response) {\n              scope.organizations.totalItems = response.headers('x-total-count');\n              return scope.organizations.list = response.data;\n            })[\"finally\"](function() {\n              return scope.organizations.loading = false;\n            });\n          });\n        };\n        scope.switchState = function() {\n          scope.state = attrs.view = attrs.view === 'all' ? 'last' : 'all';\n          return displayCurrentState();\n        };\n        displayCurrentState = function() {\n          if (attrs.view === 'all') {\n            setAllOrganizationsList();\n            return fetchOrganizations(scope.organizations.nbItems, 0);\n          } else if (attrs.view === 'last') {\n            setLastOrganizationsList();\n            return fetchOrganizations(scope.organizations.nbItems, 0, 'created_at.desc');\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        setAllOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'mnoe_admin_panel.dashboard.organization.widget.list.all_organizations.title';\n          return scope.organizations.switchLinkTitle = 'mnoe_admin_panel.dashboard.organization.widget.list.all_users.switch_link_title';\n        };\n        setLastOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'mnoe_admin_panel.dashboard.organization.widget.list.last_organizations.title';\n          return scope.organizations.switchLinkTitle = 'mnoe_admin_panel.dashboard.organization.widget.list.last_organizations.switch_link_title';\n        };\n        scope.searchChange = function() {\n          if (scope.organizations.search.length >= 3) {\n            scope.searchMode = true;\n            return setSearchOrganizationsList(scope.organizations.search);\n          } else if (scope.searchMode) {\n            scope.searchMode = false;\n            return displayCurrentState();\n          }\n        };\n        setSearchOrganizationsList = function(search) {\n          var terms;\n          scope.organizations.loading = true;\n          scope.organizations.widgetTitle = 'mnoe_admin_panel.dashboard.organization.widget.list.search_users.title';\n          delete scope.organizations.switchLinkTitle;\n          search = scope.organizations.search.toLowerCase();\n          terms = {\n            'name.like': \"%\" + search + \"%\"\n          };\n          return MnoeOrganizations.search(terms).then(function(response) {\n            scope.organizations.totalItems = response.headers('x-total-count');\n            return scope.organizations.list = $filter('orderBy')(response.data, 'name');\n          })[\"finally\"](function() {\n            return scope.organizations.loading = false;\n          });\n        };\n        return displayCurrentState();\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.directive('mnoeOrganizationsLocalList', [\"$filter\", \"$log\", function($filter, $log) {\n    return {\n      restrict: 'E',\n      scope: {\n        list: '='\n      },\n      templateUrl: 'app/components/mnoe-organizations-local-list/mnoe-organizations-local-list.html',\n      link: function(scope, elem, attrs) {\n        var displayNormalState, setAllOrganizationsList, setLastOrganizationsList, setSearchOrganizationsList;\n        scope.organizations = {\n          displayList: [],\n          widgetTitle: 'mnoe_admin_panel.dashboard.organization.widget.local_list.loading_users.title',\n          search: ''\n        };\n        setAllOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'mnoe_admin_panel.dashboard.organization.widget.local_list.all_organizations.title';\n          scope.organizations.switchLinkTitle = 'mnoe_admin_panel.dashboard.organization.widget.local_list.all_organizations.switch_link_title';\n          return scope.organizations.displayList = $filter('orderBy')(scope.list, 'email');\n        };\n        setLastOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'mnoe_admin_panel.dashboard.organization.widget.local_list.last_organizations.title';\n          scope.organizations.switchLinkTitle = 'mnoe_admin_panel.dashboard.organization.widget.local_list.last_organizations.switch_link_title';\n          scope.organizations.displayList = $filter('orderBy')(scope.list, '-created_at');\n          return scope.organizations.displayList = $filter('limitTo')(scope.organizations.displayList, 10);\n        };\n        setSearchOrganizationsList = function() {\n          var searchToLowerCase;\n          scope.organizations.widgetTitle = 'mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.title';\n          delete scope.organizations.switchLinkTitle;\n          searchToLowerCase = scope.organizations.search.toLowerCase();\n          scope.organizations.displayList = _.filter(scope.list, function(user) {\n            var email, name, surname;\n            if (user.email) {\n              email = _.contains(user.email.toLowerCase(), searchToLowerCase);\n            }\n            if (user.name) {\n              name = _.contains(user.name.toLowerCase(), searchToLowerCase);\n            }\n            if (user.surname) {\n              surname = _.contains(user.surname.toLowerCase(), searchToLowerCase);\n            }\n            return email || name || surname;\n          });\n          return scope.organizations.displayList = $filter('orderBy')(scope.organizations.displayList, 'email');\n        };\n        displayNormalState = function() {\n          if (attrs.view === 'all') {\n            return setAllOrganizationsList();\n          } else if (attrs.view === 'last') {\n            return setLastOrganizationsList();\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        scope.switchState = function() {\n          if (attrs.view === 'all') {\n            attrs.view = 'last';\n          } else {\n            attrs.view = 'all';\n          }\n          return displayNormalState();\n        };\n        scope.searchChange = function() {\n          if (scope.organizations.search === '') {\n            return displayNormalState();\n          } else {\n            return setSearchOrganizationsList();\n          }\n        };\n        return scope.$watch('list', function(newVal) {\n          if (newVal) {\n            return displayNormalState();\n          }\n        }, true);\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.directive('mnoeQuestionsList', [\"$filter\", \"$log\", \"$uibModal\", \"MnoeReviews\", function($filter, $log, $uibModal, MnoeReviews) {\n    return {\n      restric: 'E',\n      scope: {},\n      templateUrl: 'app/components/mnoe-questions-list/mnoe-questions-list.html',\n      link: function(scope) {\n        var fetchQuestions;\n        scope.editmode = [];\n        scope.listOfQuestions = [];\n        scope.statuses = [\n          {\n            value: 'approved',\n            label: 'mnoe_admin_panel.dashboard.questions_list.status_label.approved'\n          }, {\n            value: 'rejected',\n            label: 'mnoe_admin_panel.dashboard.questions_list.status_label.rejected'\n          }\n        ];\n        scope.openCommentModal = function() {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-modals/comment-modal.html',\n            controller: 'CommentModal'\n          });\n        };\n        scope.openEditModal = function(question) {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-modals/question-edit-modal.html',\n            controller: 'CommentEditModal',\n            resolve: {\n              review: question\n            }\n          }).result.then(function(question) {\n            return MnoeReviews.updateDescription(question);\n          });\n        };\n        scope.openEditAnswerModal = function(answer) {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-modals/answer-edit-modal.html',\n            controller: 'CommentEditModal',\n            resolve: {\n              review: answer\n            }\n          }).result.then(function(answer) {\n            return MnoeReviews.updateDescription(answer);\n          });\n        };\n        scope.openQuestionReplyModal = function(question) {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-modals/question-reply-modal.html',\n            controller: 'QuestionReplyModal'\n          }).result.then(function(replyText) {\n            return MnoeReviews.replyQuestion(question.id, replyText).then(function(response) {\n              return question.answers.unshift(response.data.app_answer);\n            });\n          });\n        };\n        fetchQuestions = function() {\n          return MnoeReviews.listQuestions().then(function(response) {\n            return scope.listOfQuestions = response.data;\n          });\n        };\n        scope.update = function(question) {\n          return MnoeReviews.updateRating(question).then(function(response) {\n            return delete scope.editmode[question.id];\n          });\n        };\n        fetchQuestions();\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.directive('mnoeReviewsList', [\"$filter\", \"$log\", \"$uibModal\", \"MnoeReviews\", function($filter, $log, $uibModal, MnoeReviews) {\n    return {\n      restric: 'E',\n      scope: {},\n      templateUrl: 'app/components/mnoe-reviews-list/mnoe-reviews-list.html',\n      link: function(scope) {\n        var fetchReviews;\n        scope.editmode = [];\n        scope.listOfReviews = [];\n        scope.statuses = [\n          {\n            value: 'approved',\n            label: 'mnoe_admin_panel.dashboard.reviews_list.status_label.approved'\n          }, {\n            value: 'rejected',\n            label: 'mnoe_admin_panel.dashboard.reviews_list.status_label.rejected'\n          }\n        ];\n        scope.openCommentModal = function() {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-modals/comment-modal.html',\n            controller: 'CommentModal'\n          });\n        };\n        scope.openEditModal = function(review) {\n          var reviewNoEdited;\n          reviewNoEdited = review;\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-modals/comment-edit-modal.html',\n            controller: 'CommentEditModal',\n            resolve: {\n              review: angular.copy(review)\n            }\n          }).result.then(function(review) {\n            return MnoeReviews.updateDescription(review).then(function(success) {\n              var reviewEdited;\n              reviewEdited = success.data.app_review;\n              return reviewNoEdited.description = reviewEdited.description;\n            });\n          });\n        };\n        scope.openFeedbackReplyModal = function(review) {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-modals/feedback-reply-modal.html',\n            controller: 'FeedbackReplyModal'\n          }).result.then(function(replyText) {\n            return MnoeReviews.replyFeedback(review.id, replyText).then(function(response) {\n              return review.comments.unshift(response.data.app_comment);\n            });\n          });\n        };\n        fetchReviews = function() {\n          return MnoeReviews.listFeedbacks().then(function(response) {\n            return scope.listOfReviews = response.data;\n          });\n        };\n        scope.update = function(review) {\n          return MnoeReviews.updateRating(review).then(function(response) {\n            return delete scope.editmode[review.id];\n          });\n        };\n        fetchReviews();\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.component('mnoeStaffsList', {\n    templateUrl: 'app/components/mnoe-staffs-list/mnoe-staffs-list.html',\n    controller: [\"$filter\", \"$log\", \"MnoeUsers\", \"MnoeCurrentUser\", \"MnoConfirm\", \"MnoeObservables\", \"MnoeAdminConfig\", \"OBS_KEYS\", \"toastr\", function($filter, $log, MnoeUsers, MnoeCurrentUser, MnoConfirm, MnoeObservables, MnoeAdminConfig, OBS_KEYS, toastr) {\n      var fetchStaffs, onStaffAdded, onStaffChanged, updateSearch, updateSort, vm;\n      vm = this;\n      vm.listOfStaff = [];\n      vm.callServer = function(tableState) {\n        var search, sort;\n        sort = updateSort(tableState.sort);\n        search = updateSearch(tableState.search);\n        return fetchStaffs(vm.staff.nbItems, vm.staff.offset, sort, search);\n      };\n      updateSort = function(sortState) {\n        var sort;\n        if (sortState == null) {\n          sortState = {};\n        }\n        sort = \"surname\";\n        if (sortState.predicate) {\n          sort = sortState.predicate;\n          if (sortState.reverse) {\n            sort += \".desc\";\n          } else {\n            sort += \".asc\";\n          }\n        }\n        vm.staff.sort = sort;\n        return sort;\n      };\n      updateSearch = function(searchingState) {\n        var attr, ref, search, value;\n        if (searchingState == null) {\n          searchingState = {};\n        }\n        search = {};\n        if (searchingState.predicateObject) {\n          ref = searchingState.predicateObject;\n          for (attr in ref) {\n            value = ref[attr];\n            if (attr === \"admin_role\") {\n              search['where[admin_role.in][]'] = [value];\n            } else {\n              search['where[' + attr + '.like]'] = value + '%';\n            }\n          }\n        }\n        vm.staff.search = search;\n        return search;\n      };\n      vm.getAdminRoleLabel = function(admin_role) {\n        return _.find(vm.staff.roles, function(role) {\n          return role.value === admin_role;\n        }).label;\n      };\n      vm.staff = {\n        editmode: [],\n        search: {},\n        sort: \"surname\",\n        nbItems: 10,\n        page: 1,\n        roles: MnoeAdminConfig.adminRoles(),\n        pageChangedCb: function(nbItems, page) {\n          var offset;\n          vm.staff.nbItems = nbItems;\n          vm.staff.page = page;\n          offset = (page - 1) * nbItems;\n          return fetchStaffs(nbItems, offset);\n        },\n        update: function(staff) {\n          return MnoeUsers.updateStaff(staff).then(function(response) {\n            updateSort();\n            updateSearch();\n            delete vm.staff.editmode[staff.id];\n            return MnoeCurrentUser.refreshUser();\n          }, function(error) {\n            $log.error('Error while saving user', error);\n            return toastr.error('mnoe_admin_panel.dashboard.staffs.widget.list.toastr_error');\n          });\n        },\n        remove: function(staff) {\n          var modalOptions;\n          modalOptions = {\n            closeButtonText: 'mnoe_admin_panel.dashboard.staffs.modal.remove_staff.cancel',\n            actionButtonText: 'mnoe_admin_panel.dashboard.staffs.modal.remove_staff.delete',\n            headerText: 'mnoe_admin_panel.dashboard.staffs.modal.remove_staff.proceed',\n            headerTextExtraData: {\n              staff_name: staff.name + \" \" + staff.surname\n            },\n            bodyText: 'mnoe_admin_panel.dashboard.staffs.modal.remove_staff.perform'\n          };\n          return MnoConfirm.showModal(modalOptions).then(function() {\n            MnoeUsers.removeStaff(staff.id).then(function() {\n              return toastr.success('mnoe_admin_panel.dashboard.staffs.widget.list.toastr_success', {\n                extraData: {\n                  staff_name: staff.name + \" \" + staff.surname\n                }\n              });\n            });\n            return function(error) {\n              $log.error('Error while removing user', error);\n              return toastr.error('mnoe_admin_panel.dashboard.staff.modal.remove_staff.toastr_error');\n            };\n          });\n        }\n      };\n      fetchStaffs = function(limit, offset, sort, search) {\n        if (sort == null) {\n          sort = vm.staff.sort;\n        }\n        if (search == null) {\n          search = vm.staff.search;\n        }\n        vm.staff.loading = true;\n        if (MnoeCurrentUser.user.admin_role === 'sub_tenant_admin') {\n          search['where[mnoe_sub_tenant_id]'] = MnoeCurrentUser.user.mnoe_sub_tenant_id;\n        }\n        return MnoeUsers.staffs(limit, offset, sort, search).then(function(response) {\n          vm.staff.totalItems = response.headers('x-total-count');\n          vm.listOfStaff = response.data;\n          return vm.staff.oneAdminLeft = _.filter(response.data, {\n            'admin_role': 'admin'\n          }).length === 1;\n        })[\"finally\"](function() {\n          return vm.staff.loading = false;\n        });\n      };\n      onStaffAdded = function() {\n        return fetchStaffs(vm.staff.nbItems, vm.staff.offset);\n      };\n      onStaffChanged = function() {\n        return fetchStaffs(vm.staff.nbItems, vm.staff.offset);\n      };\n      MnoeObservables.registerCb(OBS_KEYS.staffAdded, onStaffAdded);\n      MnoeObservables.registerCb(OBS_KEYS.staffChanged, onStaffChanged);\n      this.$onDestroy = function() {\n        MnoeObservables.unsubscribe(OBS_KEYS.staffAdded, onStaffAdded);\n        return MnoeObservables.unsubscribe(OBS_KEYS.staffChanged, onStaffChanged);\n      };\n    }]\n  });\n\n}).call(this);\n\n(function() {\n  this.App.directive('mnoeStaffsLocalList', [\"MnoeAdminConfig\", function(MnoeAdminConfig) {\n    return {\n      restrict: 'E',\n      scope: {\n        list: '='\n      },\n      templateUrl: 'app/components/mnoe-staffs-local-list/mnoe-staffs-local-list.html',\n      link: function(scope, _elem, _attrs) {\n        return scope.getAdminRoleLabel = function(staff) {\n          return _.find(MnoeAdminConfig.adminRoles(), function(role) {\n            return role.value === staff.admin_role;\n          }).label;\n        };\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.component('mnoeSubTenantsList', {\n    templateUrl: 'app/components/mnoe-sub-tenants-list/mnoe-sub-tenants-list.html',\n    bindings: {\n      view: '@'\n    },\n    controller: [\"$filter\", \"$log\", \"toastr\", \"MnoeSubTenants\", \"MnoConfirm\", \"MnoeObservables\", \"OBS_KEYS\", function($filter, $log, toastr, MnoeSubTenants, MnoConfirm, MnoeObservables, OBS_KEYS) {\n      var fetchSubTenants, updateSort, vm;\n      vm = this;\n      vm.listOfSubTenant = [];\n      vm.callServer = function(tableState) {\n        var sort;\n        sort = updateSort(tableState.sort);\n        return fetchSubTenants(vm.subTenant.nbItems, vm.subTenant.offset, sort);\n      };\n      updateSort = function(sortState) {\n        var sort;\n        if (sortState == null) {\n          sortState = {};\n        }\n        sort = \"name\";\n        if (sortState.predicate) {\n          sort = sortState.predicate;\n          if (sortState.reverse) {\n            sort += \".desc\";\n          } else {\n            sort += \".asc\";\n          }\n        }\n        vm.subTenant.sort = sort;\n        return sort;\n      };\n      vm.subTenant = {\n        editmode: [],\n        search: {},\n        sort: \"name\",\n        nbItems: 10,\n        page: 1,\n        pageChangedCb: function(nbItems, page) {\n          var offset;\n          vm.subTenant.nbItems = nbItems;\n          vm.subTenant.page = page;\n          offset = (page - 1) * nbItems;\n          return fetchSubTenants(nbItems, offset);\n        },\n        update: function(subTenant) {\n          return MnoeSubTenants.update(subTenant).then(function() {\n            toastr.success('mnoe_admin_panel.dashboard.sub_tenants.update_sub_tenant.toastr_success', {\n              extraData: {\n                sub_tenant_name: subTenant.name\n              }\n            });\n            return delete vm.subTenant.editmode[subTenant.id];\n          }, function(error) {\n            $log.error('Error while updating subTenant', error);\n            return toastr.error('mnoe_admin_panel.dashboard.sub_tenants.update_sub_tenant.toastr_error');\n          });\n        },\n        remove: function(subTenant) {\n          var modalOptions;\n          modalOptions = {\n            closeButtonText: 'mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.cancel',\n            actionButtonText: 'mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.delete',\n            headerText: 'mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.proceed',\n            headerTextExtraData: {\n              sub_tenant_name: subTenant.name\n            },\n            bodyText: 'mnoe_admin_panel.dashboard.sub_tenants.modal.remove_sub_tenant.perform'\n          };\n          return MnoConfirm.showModal(modalOptions).then(function() {\n            MnoeSubTenants[\"delete\"](subTenant.id).then(function() {\n              return toastr.success('mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.toastr_success', {\n                extraData: {\n                  sub_tenant_name: subTenant.name\n                }\n              });\n            });\n            return function(error) {\n              $log.error('Error while deleting subTenant', error);\n              return toastr.error('mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.toastr_success');\n            };\n          });\n        }\n      };\n      fetchSubTenants = function(limit, offset, sort) {\n        if (sort == null) {\n          sort = vm.subTenant.sort;\n        }\n        vm.subTenant.loading = true;\n        return MnoeSubTenants.list(limit, offset, sort).then(function(response) {\n          vm.subTenant.totalItems = response.headers('x-total-count');\n          return vm.listOfSubTenant = response.data;\n        })[\"finally\"](function() {\n          return vm.subTenant.loading = false;\n        });\n      };\n      MnoeObservables.registerCb(OBS_KEYS.subTenantAdded, function() {\n        return fetchSubTenants(vm.subTenant.nbItems, vm.subTenant.offset);\n      });\n      MnoeObservables.registerCb(OBS_KEYS.subTenantChanged, function() {\n        return fetchSubTenants(vm.subTenant.nbItems, vm.subTenant.offset);\n      });\n    }]\n  });\n\n}).call(this);\n\n(function() {\n  this.App.directive('mnoeUsersList', [\"$filter\", \"$log\", \"$translate\", \"MnoeUsers\", \"MnoeCurrentUser\", \"MnoeAdminConfig\", function($filter, $log, $translate, MnoeUsers, MnoeCurrentUser, MnoeAdminConfig) {\n    return {\n      restrict: 'E',\n      scope: {},\n      templateUrl: 'app/components/mnoe-users-list/mno-users-list.html',\n      link: function(scope, elem, attrs) {\n        var displayCurrentState, fetchUsers, setAllUsersList, setLastUsersList, setSearchUsersList;\n        scope.state = attrs.view;\n        scope.users = {\n          search: '',\n          nbItems: 10,\n          page: 1,\n          pageChangedCb: function(nbItems, page) {\n            var offset;\n            scope.users.nbItems = nbItems;\n            scope.users.page = page;\n            offset = (page - 1) * nbItems;\n            return fetchUsers(nbItems, offset);\n          }\n        };\n        fetchUsers = function(limit, offset, sort) {\n          if (sort == null) {\n            sort = 'surname';\n          }\n          scope.users.loading = true;\n          return MnoeCurrentUser.getUser().then(function() {\n            var params;\n            params = MnoeAdminConfig.isAccountManagerEnabled() ? {\n              sub_tenant_id: MnoeCurrentUser.user.mnoe_sub_tenant_id,\n              account_manager_id: MnoeCurrentUser.user.id\n            } : {};\n            return MnoeUsers.list(limit, offset, sort, params).then(function(response) {\n              scope.users.totalItems = response.headers('x-total-count');\n              return scope.users.list = response.data;\n            })[\"finally\"](function() {\n              return scope.users.loading = false;\n            });\n          });\n        };\n        scope.switchState = function() {\n          scope.state = attrs.view = attrs.view === 'all' ? 'last' : 'all';\n          return displayCurrentState();\n        };\n        displayCurrentState = function() {\n          if (attrs.view === 'all') {\n            setAllUsersList();\n            return fetchUsers(scope.users.nbItems, 0);\n          } else if (attrs.view === 'last') {\n            setLastUsersList();\n            return fetchUsers(10, 0, 'created_at.desc');\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        setAllUsersList = function() {\n          scope.users.widgetTitle = 'mnoe_admin_panel.dashboard.users.widget.list.all_users.title';\n          return scope.users.switchLinkTitle = 'mnoe_admin_panel.dashboard.users.widget.list.all_users.switch_link_title';\n        };\n        setLastUsersList = function() {\n          scope.users.widgetTitle = 'mnoe_admin_panel.dashboard.users.widget.list.last_users.title';\n          return scope.users.switchLinkTitle = 'mnoe_admin_panel.dashboard.users.widget.list.last_users.switch_link_title';\n        };\n        scope.searchChange = function() {\n          if (scope.users.search.length >= 3) {\n            scope.searchMode = true;\n            return setSearchUsersList(scope.users.search);\n          } else if (scope.searchMode) {\n            scope.searchMode = false;\n            return displayCurrentState();\n          }\n        };\n        setSearchUsersList = function(search) {\n          var terms;\n          scope.users.loading = true;\n          scope.users.widgetTitle = 'mnoe_admin_panel.dashboard.users.widget.list.search_users.title';\n          delete scope.users.switchLinkTitle;\n          search = scope.users.search.toLowerCase();\n          terms = {\n            'surname.like': search + \"%\",\n            'name.like': search + \"%\",\n            'email.like': \"%\" + search + \"%\"\n          };\n          return MnoeUsers.search(terms).then(function(response) {\n            scope.users.totalItems = response.headers('x-total-count');\n            return scope.users.list = $filter('orderBy')(response.data, 'email');\n          })[\"finally\"](function() {\n            return scope.users.loading = false;\n          });\n        };\n        return displayCurrentState();\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.directive('mnoeUsersLocalList', [\"$window\", \"$filter\", \"$log\", \"toastr\", \"MnoeAdminConfig\", \"MnoeUsers\", \"MnoErrorsHandler\", function($window, $filter, $log, toastr, MnoeAdminConfig, MnoeUsers, MnoErrorsHandler) {\n    return {\n      restrict: 'E',\n      scope: {\n        list: '=',\n        organization: '='\n      },\n      templateUrl: 'app/components/mnoe-users-local-list/mnoe-users-local-list.html',\n      link: function(scope, elem, attrs) {\n        var displayNormalState, setAllUsersList, setLastUsersList, setSearchUsersList;\n        scope.users = {\n          displayList: [],\n          widgetTitle: 'mnoe_admin_panel.dashboard.users.widget.local_list.loading_users.title',\n          search: ''\n        };\n        scope.isImpersonationEnabled = MnoeAdminConfig.isImpersonationEnabled();\n        setAllUsersList = function() {\n          scope.users.widgetTitle = 'mnoe_admin_panel.dashboard.users.widget.local_list.all_users.title';\n          scope.users.switchLinkTitle = 'mnoe_admin_panel.dashboard.users.widget.local_list.all_users.switch_link_title';\n          return scope.users.displayList = $filter('orderBy')(scope.list, 'email');\n        };\n        setLastUsersList = function() {\n          scope.users.widgetTitle = 'mnoe_admin_panel.dashboard.users.widget.local_list.last_users.title';\n          scope.users.switchLinkTitle = 'mnoe_admin_panel.dashboard.users.widget.local_list.last_users.switch_link_title';\n          scope.users.displayList = $filter('orderBy')(scope.list, '-created_at');\n          return scope.users.displayList = $filter('limitTo')(scope.users.displayList, 10);\n        };\n        setSearchUsersList = function() {\n          var searchToLowerCase;\n          scope.users.widgetTitle = 'mnoe_admin_panel.dashboard.users.widget.local_list.search_users.title';\n          delete scope.users.switchLinkTitle;\n          searchToLowerCase = scope.users.search.toLowerCase();\n          scope.users.displayList = _.filter(scope.list, function(user) {\n            var email, name, surname;\n            if (user.email) {\n              email = _.contains(user.email.toLowerCase(), searchToLowerCase);\n            }\n            if (user.name) {\n              name = _.contains(user.name.toLowerCase(), searchToLowerCase);\n            }\n            if (user.surname) {\n              surname = _.contains(user.surname.toLowerCase(), searchToLowerCase);\n            }\n            return email || name || surname;\n          });\n          return scope.users.displayList = $filter('orderBy')(scope.users.displayList, 'email');\n        };\n        displayNormalState = function() {\n          if (attrs.view === 'all') {\n            return setAllUsersList();\n          } else if (attrs.view === 'last') {\n            return setLastUsersList();\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        scope.impersonationDisabledText = function(user) {\n          if (user.admin_role) {\n            return \"mnoe_admin_panel.dashboard.users.widget.local_list.disabled_tooltip_for_role\";\n          }\n          if (!user.allow_impersonation) {\n            return \"mnoe_admin_panel.dashboard.users.widget.local_list.disabled_tooltip_for_impersonation\";\n          }\n          return false;\n        };\n        scope.switchState = function() {\n          if (attrs.view === 'all') {\n            attrs.view = 'last';\n          } else {\n            attrs.view = 'all';\n          }\n          return displayNormalState();\n        };\n        scope.searchChange = function() {\n          if (scope.users.search === '') {\n            return displayNormalState();\n          } else {\n            return setSearchUsersList();\n          }\n        };\n        scope.sendInvitation = function(user) {\n          user.isSendingInvite = true;\n          return MnoeUsers.inviteUser(scope.organization, user).then(function(response) {\n            toastr.success('mnoe_admin_panel.dashboard.users.widget.local_list.toastr_success', {\n              extraData: {\n                username: user.name + \" \" + user.surname\n              }\n            });\n            return user.status = response.data.user.status;\n          }, function(error) {\n            toastr.error('mnoe_admin_panel.dashboard.users.widget.local_list.toastr_error', {\n              extraData: {\n                username: user.name + \" \" + user.surname\n              }\n            });\n            return MnoErrorsHandler.processServerError(error);\n          })[\"finally\"](function() {\n            return user.isSendingInvite = false;\n          });\n        };\n        scope.impersonateUser = function(user) {\n          var redirect, url;\n          if (user) {\n            redirect = window.encodeURIComponent(\"\" + location.pathname + location.hash);\n            url = \"/mnoe/impersonate/user/\" + user.id + \"?redirect_path=\" + redirect + \"&dhbRefId=\" + scope.organization.id;\n            return $window.location.href = url;\n          }\n        };\n        return scope.$watch('list', function(newVal) {\n          if (newVal) {\n            return displayNormalState();\n          }\n        }, true);\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('ImpacConfigSvc', [\"$log\", \"$q\", \"MnoeCurrentUser\", \"MnoeOrganizations\", function($log, $q, MnoeCurrentUser, MnoeOrganizations) {\n    var _self;\n    _self = this;\n    this.getUserData = function() {\n      return MnoeCurrentUser.getUser();\n    };\n    this.getOrganizations = function() {\n      var userOrgsPromise;\n      return userOrgsPromise = MnoeCurrentUser.getUser().then(function(user) {\n        var err, firstOrgId, userOrgs;\n        userOrgs = user.organizations;\n        if (_.isEmpty(userOrgs)) {\n          $log.error(err = {\n            message: \"Unable to retrieve user organizations\"\n          });\n          return $q.reject(err);\n        } else {\n          firstOrgId = userOrgs[0].id;\n          return $q.resolve({\n            organizations: userOrgs,\n            currentOrgId: firstOrgId\n          });\n        }\n      });\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeObservables', function() {\n    var _self, observersCallbacks;\n    _self = this;\n    observersCallbacks = {};\n    this.registerCb = function(name, cb) {\n      if (_.isEmpty(observersCallbacks[name])) {\n        observersCallbacks[name] = [];\n      }\n      return observersCallbacks[name].push(cb);\n    };\n    this.notifyObservers = function(name, object) {\n      return _.forEach(observersCallbacks[name], function(callback) {\n        return callback(object);\n      });\n    };\n    this.unsubscribe = function(name, cb) {\n      _.pull(observersCallbacks[name], cb);\n      if (_.isEmpty(observersCallbacks[name])) {\n        return delete observersCallbacks[name];\n      }\n    };\n  });\n\n}).call(this);\n\n(function() {\n  this.App.service('RoutingHelper', [\"$state\", \"$q\", function($state, $q) {\n    var _self;\n    _self = this;\n    this.skipUnlessCondition = function(condition) {\n      if (condition) {\n        return $q.resolve();\n      } else {\n        $timeout(function() {\n          return $state.go('dashboard.home');\n        });\n        return $q.reject();\n      }\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('AuditLogController', function() {\n    'ngInject';\n    var vm;\n    vm = this;\n  });\n\n}).call(this);\n\n(function() {\n  this.App.controller('CustomersController', [\"$scope\", \"$uibModal\", \"MnoeUsers\", \"MnoeOrganizations\", \"MnoeObservables\", \"OBS_KEYS\", function($scope, $uibModal, MnoeUsers, MnoeOrganizations, MnoeObservables, OBS_KEYS) {\n    'ngInject';\n    var updateUsersCounter, vm;\n    vm = this;\n    vm.users = {};\n    vm.organizations = {};\n    vm.invoices = {};\n    vm.inviteUserModal = function() {\n      return $uibModal.open({\n        templateUrl: 'app/views/customers/invite-user-modal/invite-user.html',\n        controller: 'InviteUserController',\n        controllerAs: 'vm'\n      });\n    };\n    updateUsersCounter = function(response) {\n      vm.users.totalCount = response.headers('x-total-count');\n    };\n    MnoeObservables.registerCb(OBS_KEYS.userChanged, updateUsersCounter);\n    MnoeOrganizations.registerListChangeCb(function(promise) {\n      return promise.then(function(response) {\n        return vm.organizations.totalCount = response.headers('x-total-count');\n      });\n    });\n    $scope.$on('$destroy', function() {\n      return MnoeObservables.unsubscribe(OBS_KEYS.userChanged, updateUsersCounter);\n    });\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('DashboardTemplatesController', [\"$state\", \"ImpacDashboardsSvc\", function($state, ImpacDashboardsSvc) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.createDashboard = function(dashboard) {\n      angular.merge(dashboard, {\n        published: false\n      });\n      return ImpacDashboardsSvc.create(dashboard).then(function(savedDhb) {\n        return $state.go('dashboard.dashboard-templates-show', {\n          dashboardId: savedDhb.id\n        });\n      });\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('FinanceController', [\"$filter\", \"MnoeInvoices\", \"MnoeTenantInvoices\", \"MnoeOrganizations\", function($filter, MnoeInvoices, MnoeTenantInvoices, MnoeOrganizations) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.invoices = {};\n    vm.organizations = {};\n    MnoeInvoices.currentBillingAmount().then(function(response) {\n      return vm.invoices.currentBillingAmount = response.data;\n    });\n    MnoeInvoices.lastInvoicingAmount().then(function(response) {\n      return vm.invoices.lastInvoicingAmount = response.data;\n    });\n    MnoeInvoices.lastPortfolioAmount().then(function(response) {\n      return vm.invoices.lastPortfolioAmount = response.data;\n    });\n    MnoeInvoices.lastCommissionAmount().then(function(response) {\n      return vm.invoices.lastCommissionAmount = response.data;\n    });\n    MnoeTenantInvoices.list().then(function(response) {\n      vm.invoices.tenantInvoices = response.data;\n      return vm.invoices.tenantInvoices = $filter('orderBy')(vm.invoices.tenantInvoices, '-started_at');\n    });\n    MnoeOrganizations.inArrears().then(function(response) {\n      vm.organizations.inArrears = response.data;\n      _.forEach(vm.organizations.inArrears, function(org) {\n        return org.category = _.capitalize(org.category.replace(\"_\", \" \"));\n      });\n      return vm.organizations.inArrears = $filter('orderBy')(vm.organizations.inArrears, '-started_at');\n    });\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('HomeController', [\"moment\", \"MnoeUsers\", \"MnoeOrganizations\", \"MnoeInvoices\", \"MnoeAdminConfig\", function(moment, MnoeUsers, MnoeOrganizations, MnoeInvoices, MnoeAdminConfig) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.users = {};\n    vm.organizations = {};\n    vm.invoices = {};\n    if (MnoeAdminConfig.isPaymentEnabled()) {\n      vm.organisationKpiLocale = 'mnoe_admin_panel.dashboard.home.kpi.organizations.finance_text';\n    } else {\n      vm.organisationKpiLocale = 'mnoe_admin_panel.dashboard.home.kpi.organizations.link_text';\n    }\n    MnoeUsers.count().then(function(response) {\n      return vm.users.kpi = response.data;\n    });\n    MnoeOrganizations.count().then(function(response) {\n      return vm.organizations.kpi = response.data;\n    });\n    if (MnoeAdminConfig.isFinanceEnabled()) {\n      MnoeInvoices.lastInvoicingAmount().then(function(response) {\n        return vm.invoices.lastInvoicingAmount = response.data;\n      });\n    }\n    if (MnoeAdminConfig.isFinanceEnabled()) {\n      MnoeInvoices.outstandingAmount().then(function(response) {\n        return vm.invoices.outstandingAmount = response.data;\n      });\n    }\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('ImpacController', [\"$rootScope\", \"$stateParams\", \"MnoeDashboardTemplates\", \"ImpacDashboardsSvc\", function($rootScope, $stateParams, MnoeDashboardTemplates, ImpacDashboardsSvc) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.dashboardLoaded = false;\n    $rootScope.$watch(function() {\n      return vm.dashboardLoaded;\n    }, function(loaded) {\n      var dashboardId;\n      if (loaded) {\n        dashboardId = parseInt($stateParams.dashboardId);\n        ImpacDashboardsSvc.setCurrentDashboard(dashboardId);\n        return vm.currentDashboard = ImpacDashboardsSvc.getCurrentDashboard();\n      }\n    });\n    if (!vm.callbackRegistered) {\n      ImpacDashboardsSvc.dashboardChanged().then(null, null, function() {\n        return vm.dashboardLoaded = true;\n      });\n      vm.callbackRegistered = true;\n    }\n    vm.toggleTemplatePublished = function(id) {\n      return MnoeDashboardTemplates.toggleTemplatePublished(id);\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('OrganizationController', [\"$filter\", \"$stateParams\", \"$uibModal\", \"toastr\", \"MnoeOrganizations\", \"MnoeUsers\", \"MnoAppsInstances\", function($filter, $stateParams, $uibModal, toastr, MnoeOrganizations, MnoeUsers, MnoAppsInstances) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.orgId = $stateParams.orgId;\n    vm.users = {};\n    vm.hasDisconnectedApps = false;\n    vm.status = {};\n    vm.users.createUserModal = function() {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/organization/create-user-modal/create-user.html',\n        controller: 'CreateUserController',\n        controllerAs: 'vm',\n        resolve: {\n          organization: vm.organization\n        }\n      });\n      return modalInstance.result.then(function(user) {\n        return vm.organization.members.push(user);\n      });\n    };\n    MnoeOrganizations.get($stateParams.orgId).then(function(response) {\n      vm.organization = response.data.plain();\n      vm.organization.invoices = $filter('orderBy')(vm.organization.invoices, '-started_at');\n      return vm.updateStatus();\n    });\n    vm.updateStatus = function() {\n      vm.status = {};\n      _.map(vm.organization.active_apps, function(app) {\n        return vm.status[app.nid] = MnoAppsInstances.isConnected(app);\n      });\n      return vm.hasDisconnectedApps = false in _.countBy(vm.status);\n    };\n    vm.openAddAppModal = function() {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/organization/add-app-modal/add-app-modal.html',\n        controller: 'AddAppModalCtrl',\n        controllerAs: 'vm',\n        backdrop: 'static',\n        windowClass: 'add-app-modal',\n        size: 'lg',\n        resolve: {\n          organization: vm.organization\n        }\n      });\n      return modalInstance.result.then(function(organization) {\n        vm.organization = angular.copy(organization);\n        return vm.updateStatus();\n      });\n    };\n    vm.openRemoveAppModal = function(app, index) {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/organization/remove-app-modal/remove-app-modal.html',\n        controller: 'RemoveAppModalCtrl',\n        controllerAs: 'vm',\n        backdrop: 'static',\n        windowClass: 'remove-app-modal',\n        size: 'md',\n        resolve: {\n          app: app\n        }\n      });\n      return modalInstance.result.then(function(result) {\n        if (result) {\n          vm.organization.active_apps.splice(index, 1);\n          return vm.updateStatus();\n        }\n      });\n    };\n    return vm;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('StaffController', [\"$log\", \"$stateParams\", \"$window\", \"$uibModal\", \"toastr\", \"MnoConfirm\", \"MnoeAdminConfig\", \"MnoeCurrentUser\", \"MnoeUsers\", \"MnoeSubTenants\", function($log, $stateParams, $window, $uibModal, toastr, MnoConfirm, MnoeAdminConfig, MnoeCurrentUser, MnoeUsers, MnoeSubTenants) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.isSaving = false;\n    vm.adminRoles = MnoeAdminConfig.adminRoles();\n    MnoeCurrentUser.getUser().then(function() {\n      return vm.isAdmin = MnoeCurrentUser.user.admin_role === 'admin';\n    });\n    vm.isSubTenantEnabled = MnoeAdminConfig.isSubTenantEnabled();\n    vm.isAccountManagerEnabled = MnoeAdminConfig.isAccountManagerEnabled();\n    MnoeUsers.get($stateParams.staffId).then(function(response) {\n      vm.staff = response.data;\n      vm.staff.admin_role_was = vm.staff.admin_role;\n      vm.staff.subTenantName = function() {\n        return _.find(vm.subTenants, function(subTenant) {\n          return subTenant.id === vm.staff.mnoe_sub_tenant_id;\n        }).name;\n      };\n      vm.staff.adminRoleName = function() {\n        return _.find(vm.adminRoles, function(role) {\n          return role.value === vm.staff.admin_role;\n        }).label;\n      };\n      if (vm.staff.mnoe_sub_tenant_id) {\n        return MnoeSubTenants.get(vm.staff.mnoe_sub_tenant_id).then(function(r) {\n          return vm.staff.subTenants = r.data.sub_tenants;\n        });\n      }\n    });\n    MnoeSubTenants.list(null, null, null).then(function(response) {\n      return vm.subTenants = response.data;\n    });\n    vm.updateStaff = function() {\n      var modalOptions, updateStaffAction;\n      vm.isSaving = true;\n      updateStaffAction = function() {\n        return MnoeUsers.updateStaff(vm.staff).then(function(response) {\n          vm.staff = response.data.user;\n          vm.staff.admin_role_was = vm.staff.admin_role;\n          return toastr.success(\"mnoe_admin_panel.dashboard.staff.update_staff.toastr_success\", {\n            extraData: {\n              staff_name: vm.staff.name + \" \" + vm.staff.surname\n            }\n          });\n        }, function(error) {\n          toastr.error(\"mnoe_admin_panel.dashboard.staff.update_staff.toastr_error\", {\n            extraData: {\n              staff_name: vm.staff.name + \" \" + vm.staff.surname\n            }\n          });\n          return $log.error(\"An error occurred while updating staff:\", error);\n        })[\"finally\"](function() {\n          return vm.isSaving = false;\n        });\n      };\n      if (vm.staff.admin_role_was === 'staff' && vm.staff.admin_role !== 'staff' && vm.staff.client_ids.length) {\n        modalOptions = {\n          closeButtonText: 'mnoe_admin_panel.dashboard.staff.update_staff_role.cancel',\n          actionButtonText: 'mnoe_admin_panel.dashboard.staff.update_staff_role.action',\n          headerText: 'mnoe_admin_panel.dashboard.staff.update_staff_role.proceed',\n          bodyText: 'mnoe_admin_panel.dashboard.staff.update_staff_role.perform'\n        };\n        return MnoConfirm.showModal(modalOptions).then(updateStaffAction)[\"finally\"](function() {\n          return vm.isSaving = false;\n        });\n      } else {\n        return updateStaffAction();\n      }\n    };\n    vm.updateClientsModal = function() {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/staff/update-staff-clients-modal/update-staff-clients.html',\n        controller: 'UpdateStaffClientsController',\n        controllerAs: 'vm',\n        resolve: {\n          staff: function() {\n            return vm.staff;\n          }\n        }\n      });\n      return modalInstance.result.then(function(staff) {\n        return vm.staff = staff;\n      });\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('StaffsController', [\"$filter\", \"$stateParams\", \"$uibModal\", function($filter, $stateParams, $uibModal) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.staff = {\n      createModal: function() {\n        return $uibModal.open({\n          templateUrl: 'app/views/staffs/create-staff-modal/create-staff.html',\n          controller: 'CreateStaffController',\n          controllerAs: 'vm'\n        });\n      }\n    };\n    return vm;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('SubTenantController', [\"$stateParams\", \"$window\", \"$uibModal\", \"MnoeSubTenants\", function($stateParams, $window, $uibModal, MnoeSubTenants) {\n    'ngInject';\n    var vm;\n    vm = this;\n    MnoeSubTenants.get($stateParams.subTenantId).then(function(response) {\n      return vm.subTenant = response.data;\n    });\n    vm.updateClientsModal = function() {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/sub-tenant/update-clients-modal/update-clients.html',\n        controller: 'UpdateClientsController',\n        controllerAs: 'vm',\n        resolve: {\n          subTenant: function() {\n            return vm.subTenant;\n          }\n        }\n      });\n      return modalInstance.result.then(function(clients) {\n        return vm.subTenant.clients = clients;\n      });\n    };\n    vm.updateAccountManagerModal = function() {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/sub-tenant/update-account-managers-modal/update-account-managers.html',\n        controller: 'UpdateAccountManagersController',\n        controllerAs: 'vm',\n        resolve: {\n          subTenant: function() {\n            return vm.subTenant;\n          }\n        }\n      });\n      return modalInstance.result.then(function(account_managers) {\n        return vm.subTenant.account_managers = account_managers;\n      });\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('SubTenantsController', [\"$stateParams\", \"$window\", \"$uibModal\", \"MnoeSubTenants\", function($stateParams, $window, $uibModal, MnoeSubTenants) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.createModal = function() {\n      return $uibModal.open({\n        templateUrl: 'app/views/sub-tenants/create-sub-tenant-modal/create-sub-tenant.html',\n        controller: 'CreateSubTenantController',\n        controllerAs: 'vm'\n      });\n    };\n    MnoeSubTenants.get($stateParams.subTenantId).then(function(response) {\n      return vm.subTenant = response.data;\n    });\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('UserController', [\"$stateParams\", \"$window\", \"MnoeUsers\", function($stateParams, $window, MnoeUsers) {\n    'ngInject';\n    var vm;\n    vm = this;\n    MnoeUsers.get($stateParams.userId).then(function(response) {\n      return vm.user = response.data;\n    });\n    vm.impersonateUser = function() {\n      var redirect, url;\n      if (vm.user) {\n        redirect = window.encodeURIComponent(\"\" + location.pathname + location.hash);\n        url = \"/mnoe/impersonate/user/\" + vm.user.id + \"?redirect_path=\" + redirect;\n        return $window.location.href = url;\n      }\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.factory('MnoeAdminApiSvc', [\"MnoeApiSvc\", function(MnoeApiSvc) {\n    return MnoeApiSvc.all('admin');\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeAppInstances', [\"MnoeAdminApiSvc\", \"toastr\", function(MnoeAdminApiSvc, toastr) {\n    var _self;\n    _self = this;\n    this.terminate = function(id) {\n      return MnoeAdminApiSvc.one('app_instances', id).remove().then(function(response) {}, function(error) {\n        return toastr.error('mnoe_admin_panel.dashboard.organization.remove_app.toastr_error');\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeAuditEvents', [\"MnoeAdminApiSvc\", function(MnoeAdminApiSvc) {\n    var _self, notifyListObservers, observerCallbacks;\n    _self = this;\n    this.list = function(limit, offset, sort) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all(\"audit_events\").getList({\n        order_by: sort,\n        limit: limit,\n        offset: offset\n      }).then(function(response) {\n        notifyListObservers(promise);\n        return response;\n      });\n    };\n    observerCallbacks = [];\n    this.registerListChangeCb = function(callback) {\n      return observerCallbacks.push(callback);\n    };\n    notifyListObservers = function(listPromise) {\n      return _.forEach(observerCallbacks, function(callback) {\n        return callback(listPromise);\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  var indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  this.App.service('MnoeCurrentUser', [\"$window\", \"$state\", \"$q\", \"$timeout\", \"IntercomSvc\", \"MnoeApiSvc\", function($window, $state, $q, $timeout, IntercomSvc, MnoeApiSvc) {\n    var _self, userPromise;\n    _self = this;\n    userPromise = null;\n    this.user = {};\n    this.getUser = function() {\n      if (userPromise != null) {\n        return userPromise;\n      }\n      return userPromise = MnoeApiSvc.one('current_user').get().then(function(response) {\n        angular.copy(response.data, _self.user);\n        return response.data;\n      });\n    };\n    this.skipIfNotAdmin = function() {\n      return this.skipIfNotAdminRole(['admin']);\n    };\n    this.skipIfNotAdminRole = function(admin_roles) {\n      var deferred;\n      deferred = $q.defer();\n      _self.getUser().then(function() {\n        var ref;\n        if ((_self.user.admin_role != null) && (ref = _self.user.admin_role, indexOf.call(admin_roles, ref) >= 0)) {\n          return deferred.resolve();\n        } else {\n          $timeout(function() {\n            return $state.go('dashboard.home');\n          });\n          return deferred.reject();\n        }\n      });\n      return deferred;\n    };\n    this.logout = function() {\n      IntercomSvc.logOut();\n      return _self.getUser().then(function(response) {\n        if ((response.organizations != null) && response.organizations.length > 0) {\n          return $window.location.assign(\"/dashboard/\");\n        } else {\n          return $window.location.assign(\"/dashboard/#!/logout\");\n        }\n      });\n    };\n    this.refreshUser = function() {\n      userPromise = null;\n      return _self.getUser().then(function() {\n        return _self.skipIfNotAdmin();\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeDashboardTemplates', [\"MnoeAdminApiSvc\", \"ImpacDashboardsSvc\", function(MnoeAdminApiSvc, ImpacDashboardsSvc) {\n    var _self, togglePublished;\n    _self = this;\n    this.list = function(limit, offset, sort) {\n      return MnoeAdminApiSvc.all(\"/impac/dashboard_templates\").getList({\n        order_by: sort,\n        limit: limit,\n        offset: offset\n      });\n    };\n    this.templates = function(limit, offset, sort, params) {\n      if (params == null) {\n        params = {};\n      }\n      params[\"order_by\"] = sort;\n      params[\"limit\"] = limit;\n      params[\"offset\"] = offset;\n      return MnoeAdminApiSvc.all(\"/impac/dashboard_templates\").getList(params);\n    };\n    this[\"delete\"] = function(dashboardTemplateId) {\n      return MnoeAdminApiSvc.one(\"/impac/dashboard_templates\", dashboardTemplateId).remove();\n    };\n    this.search = function(terms) {\n      return MnoeAdminApiSvc.all(\"/impac/dashboard_templates\").getList({\n        terms: terms\n      });\n    };\n    togglePublished = function(templateId) {\n      var template;\n      template = _.find(ImpacDashboardsSvc.getDashboards(), function(dhb) {\n        return dhb.id === templateId;\n      });\n      if (template == null) {\n        return;\n      }\n      return ImpacDashboardsSvc.update(templateId, {\n        published: !template.published\n      });\n    };\n    this.toggleTemplatePublished = function(templateId) {\n      if (!angular.isDefined(ImpacDashboardsSvc.getDashboards())) {\n        return togglePublished(templateId);\n      }\n      return ImpacDashboardsSvc.load().then(function() {\n        return togglePublished(templateId);\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeInvoices', [\"MnoeAdminApiSvc\", function(MnoeAdminApiSvc) {\n    var _self;\n    _self = this;\n    this.currentBillingAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('current_billing_amount');\n    };\n    this.lastInvoicingAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('last_invoicing_amount');\n    };\n    this.outstandingAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('outstanding_amount');\n    };\n    this.lastPortfolioAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('last_portfolio_amount');\n    };\n    this.lastCommissionAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('last_commission_amount');\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeOrganizations', [\"MnoeAdminApiSvc\", function(MnoeAdminApiSvc) {\n    var _self, notifyListObservers, observerCallbacks;\n    _self = this;\n    this.list = function(limit, offset, sort, params) {\n      var promise;\n      if (params == null) {\n        params = {};\n      }\n      params[\"order_by\"] = sort;\n      params[\"limit\"] = limit;\n      params[\"offset\"] = offset;\n      return promise = MnoeAdminApiSvc.all(\"organizations\").getList(params).then(function(response) {\n        notifyListObservers(promise);\n        return response;\n      });\n    };\n    observerCallbacks = [];\n    this.registerListChangeCb = function(callback) {\n      return observerCallbacks.push(callback);\n    };\n    notifyListObservers = function(listPromise) {\n      return _.forEach(observerCallbacks, function(callback) {\n        return callback(listPromise);\n      });\n    };\n    this.search = function(terms) {\n      return MnoeAdminApiSvc.all(\"organizations\").getList({\n        terms: terms\n      });\n    };\n    this.inArrears = function() {\n      return MnoeAdminApiSvc.all('organizations').all('in_arrears').getList();\n    };\n    this.get = function(id) {\n      return MnoeAdminApiSvc.one('organizations', id).get();\n    };\n    this.count = function() {\n      return MnoeAdminApiSvc.all('organizations').customGET('count');\n    };\n    this.create = function(organization) {\n      return MnoeAdminApiSvc.all('/organizations').post(organization);\n    };\n    this.update = function(organization) {\n      return MnoeAdminApiSvc.one('/organizations', organization.id).patch(organization);\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeReviews', [\"MnoeAdminApiSvc\", \"MnoeApiSvc\", \"$log\", \"toastr\", function(MnoeAdminApiSvc, MnoeApiSvc, $log, toastr) {\n    var _self;\n    _self = this;\n    this.listFeedbacks = function() {\n      return MnoeAdminApiSvc.all('app_feedbacks').getList()[\"catch\"](function(error) {\n        $log.error('Error while fetching reviews', error);\n        return toastr.error('mnoe_admin_panel.dashboard.reviews_list.toastr_error');\n      });\n    };\n    this.listQuestions = function() {\n      return MnoeAdminApiSvc.all('app_questions').getList()[\"catch\"](function(error) {\n        $log.error('Error while fetching questions', error);\n        return toastr.error('mnoe_admin_panel.dashboard.questions_list.toastr_error');\n      });\n    };\n    this.updateRating = function(review) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('app_reviews', review.id).patch({\n        status: review.status\n      })[\"catch\"](function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('mnoe_admin_panel.dashboard.feedback.toastr_error');\n      });\n    };\n    this.updateDescription = function(review) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('app_reviews', review.id).patch({\n        description: review.description\n      })[\"catch\"](function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('mnoe_admin_panel.dashboard.feedback.toastr_error');\n      });\n    };\n    this.replyQuestion = function(id, replyText) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all(\"/app_answers\").post({\n        question_id: id,\n        app_answer: {\n          description: replyText\n        }\n      })[\"catch\"](function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('mnoe_admin_panel.dashboard.questions_reply_modal.toastr_error');\n      });\n    };\n    this.replyFeedback = function(id, replyText) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all(\"/app_comments\").post({\n        feedback_id: id,\n        app_comment: {\n          description: replyText\n        }\n      })[\"catch\"](function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('mnoe_admin_panel.dashboard.comment_edit.toastr_error');\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeSubTenants', [\"$log\", \"MnoErrorsHandler\", \"MnoeAdminApiSvc\", \"MnoeObservables\", \"OBS_KEYS\", function($log, MnoErrorsHandler, MnoeAdminApiSvc, MnoeObservables, OBS_KEYS) {\n    this.list = function(limit, offset, sort) {\n      return MnoeAdminApiSvc.all(\"sub_tenants\").getList({\n        order_by: sort,\n        limit: limit,\n        offset: offset\n      });\n    };\n    this.get = function(id) {\n      return MnoeAdminApiSvc.one('sub_tenants', id).get();\n    };\n    this.create = function(subTenant) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all('sub_tenants').post(subTenant).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.subTenantAdded, promise);\n        return response;\n      }, function(error) {\n        return MnoErrorsHandler.processServerError(error);\n      });\n    };\n    this.update = function(subTenant) {\n      var data, promise;\n      data = {\n        sub_tenant: _.pick(subTenant, [\"name\", \"client_ids\", \"account_manager_ids\"])\n      };\n      return promise = MnoeAdminApiSvc.one('sub_tenants', subTenant.id).patch(data).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.subTenantChanged, promise);\n        return response;\n      }, function(error) {\n        return MnoErrorsHandler.processServerError(error);\n      });\n    };\n    this[\"delete\"] = function(id) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('sub_tenants', id).doDELETE().then(function() {\n        return MnoeObservables.notifyObservers(OBS_KEYS.subTenantChanged, promise);\n      }, function(error) {\n        return MnoErrorsHandler.processServerError(error);\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeTenantInvoices', [\"MnoeAdminApiSvc\", function(MnoeAdminApiSvc) {\n    var _self;\n    _self = this;\n    this.list = function() {\n      return MnoeAdminApiSvc.all('tenant_invoices').getList();\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.service('MnoeUsers', [\"$q\", \"$log\", \"MnoeAdminApiSvc\", \"MnoeObservables\", \"OBS_KEYS\", function($q, $log, MnoeAdminApiSvc, MnoeObservables, OBS_KEYS) {\n    var _getStaffs, _self;\n    _self = this;\n    this.list = function(limit, offset, sort, params) {\n      if (params == null) {\n        params = {};\n      }\n      params[\"order_by\"] = sort;\n      params[\"limit\"] = limit;\n      params[\"offset\"] = offset;\n      return MnoeAdminApiSvc.all('users').getList(params).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.userChanged, response);\n        return response;\n      });\n    };\n    this.staffs = function(limit, offset, sort, params) {\n      if (params == null) {\n        params = {};\n      }\n      if (!params['where[admin_role.in][]']) {\n        params['where[admin_role.not]'] = '';\n      }\n      return _getStaffs(limit, offset, sort, params);\n    };\n    this.search = function(terms) {\n      return MnoeAdminApiSvc.all('users').getList({\n        terms: terms\n      });\n    };\n    this.get = function(id) {\n      return MnoeAdminApiSvc.one('users', id).get();\n    };\n    this.count = function() {\n      return MnoeAdminApiSvc.all('users').customGET('count');\n    };\n    this.addUser = function(organization, user) {\n      return MnoeAdminApiSvc.one('organizations', organization.id).all('/users').post({\n        user: user\n      });\n    };\n    this.addStaff = function(user) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all('users').post({\n        user: user\n      }).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.staffAdded, promise);\n        return response;\n      });\n    };\n    this.updateStaff = function(user) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('users', user.id).patch({\n        user: user\n      }).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.staffChanged, promise);\n        return response;\n      });\n    };\n    this.removeStaff = function(id) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('users', id).patch({\n        admin_role: null\n      }).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.staffChanged, promise);\n        return response;\n      });\n    };\n    this.inviteUser = function(organization, user) {\n      return MnoeAdminApiSvc.one('organizations', organization.id).one('users', user.id).doPOST({}, '/invites');\n    };\n    this.sendSignupEmail = function(email) {\n      return MnoeAdminApiSvc.all('/users').doPOST({\n        user: {\n          email: email\n        }\n      }, 'signup_email');\n    };\n    _getStaffs = function(limit, offset, sort, params) {\n      if (params == null) {\n        params = {};\n      }\n      params[\"order_by\"] = sort;\n      params[\"limit\"] = limit;\n      params[\"offset\"] = offset;\n      return MnoeAdminApiSvc.all(\"users\").getList(params);\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('ConnectMyobModalCtrl', [\"$window\", \"$httpParamSerializer\", \"$uibModalInstance\", \"MnoAppsInstances\", \"app\", function($window, $httpParamSerializer, $uibModalInstance, MnoAppsInstances, app) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.app = app;\n    vm.form = {\n      perform: true,\n      version: \"essentials\"\n    };\n    vm.versions = [\n      {\n        label: \"mnoe_admin_panel.dashboard.customers.connect_app.myob.version_type.right_live\",\n        value: \"account_right\"\n      }, {\n        label: \"mnoe_admin_panel.dashboard.customers.connect_app.myob.version_type.essentials\",\n        value: \"essentials\"\n      }\n    ];\n    vm.connect = function(form) {\n      return $window.location.href = MnoAppsInstances.oAuthConnectPath(app, $httpParamSerializer(form));\n    };\n    vm.close = function() {\n      return $uibModalInstance.close();\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('ConnectXeroModalCtrl', [\"$window\", \"$httpParamSerializer\", \"$uibModalInstance\", \"MnoAppsInstances\", \"app\", function($window, $httpParamSerializer, $uibModalInstance, MnoAppsInstances, app) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.app = app;\n    vm.form = {\n      perform: true,\n      \"xero_country\": \"AU\"\n    };\n    vm.countries = [\n      {\n        label: \"mnoe_admin_panel.constants.countries.australia\",\n        value: \"AU\"\n      }, {\n        label: \"mnoe_admin_panel.constants.countries.usa\",\n        value: \"US\"\n      }\n    ];\n    vm.connect = function(form) {\n      if (vm.payroll) {\n        form['extra_params[]'] = \"payroll\";\n      }\n      return $window.location.href = MnoAppsInstances.oAuthConnectPath(app, $httpParamSerializer(form));\n    };\n    vm.close = function() {\n      return $uibModalInstance.close();\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('ConnectAppController', [\"$stateParams\", \"$window\", \"$uibModal\", \"MnoeOrganizations\", \"MnoAppsInstances\", function($stateParams, $window, $uibModal, MnoeOrganizations, MnoAppsInstances) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.mnoAppInstances = MnoAppsInstances;\n    vm.orgId = $stateParams.orgId;\n    vm.isLoading = true;\n    MnoeOrganizations.get($stateParams.orgId).then(function(response) {\n      return vm.organization = response.data;\n    })[\"finally\"](function() {\n      return vm.isLoading = false;\n    });\n    vm.connectAppInstance = function(app) {\n      var modalInfo;\n      switch (app.nid) {\n        case \"xero\":\n          modalInfo = {\n            template: \"app/views/customers/app-connect-modal/app-connect-modal-xero.html\",\n            controller: 'ConnectXeroModalCtrl'\n          };\n          break;\n        case \"myob\":\n          modalInfo = {\n            template: \"app/views/customers/app-connect-modal/app-connect-modal-myob.html\",\n            controller: 'ConnectMyobModalCtrl'\n          };\n          break;\n        default:\n          $window.location.href = MnoAppsInstances.oAuthConnectPath(app);\n          return;\n      }\n      return $uibModal.open({\n        templateUrl: modalInfo.template,\n        controller: modalInfo.controller,\n        controllerAs: 'vm',\n        resolve: {\n          app: function() {\n            return app;\n          }\n        }\n      });\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('CreateStep1Controller', [\"$scope\", \"$document\", \"$state\", \"toastr\", \"MnoeAdminConfig\", \"MnoeOrganizations\", \"MnoeMarketplace\", \"MnoErrorsHandler\", function($scope, $document, $state, toastr, MnoeAdminConfig, MnoeOrganizations, MnoeMarketplace, MnoErrorsHandler) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.organization = {};\n    vm.appSearch = \"\";\n    vm.toggleApp = function(app) {\n      return app.checked = !app.checked;\n    };\n    vm.submitOrganisation = function() {\n      var form;\n      if (vm.form.$invalid) {\n        if (!MnoErrorsHandler.onlyServerError(vm.form)) {\n          form = angular.element(document.getElementById('org-form'));\n          $document.scrollToElementAnimated(form);\n          return;\n        }\n      }\n      vm.isLoading = true;\n      MnoErrorsHandler.resetErrors(vm.form);\n      if (MnoeAdminConfig.isAppManagementEnabled()) {\n        vm.organization.app_nids = _.map(_.filter(vm.marketplace.apps, {\n          checked: true\n        }), 'nid');\n      }\n      return MnoeOrganizations.create(vm.organization).then(function(response) {\n        toastr.success('mnoe_admin_panel.dashboard.customers.create_customer.toastr_success', {\n          extraData: {\n            organization_name: vm.organization.name\n          }\n        });\n        response = response.data.plain();\n        if (_.isEmpty(response.organization.active_apps)) {\n          return $state.go('dashboard.customers.organization', {\n            orgId: response.organization.id\n          });\n        } else {\n          return $state.go('dashboard.customers.connect-app', {\n            orgId: response.organization.id\n          });\n        }\n      }, function(error) {\n        $document.scrollTopAnimated(0);\n        toastr.error('mnoe_admin_panel.dashboard.customers.create_customer.toastr_error', {\n          extraData: {\n            organization_name: vm.organization.name\n          }\n        });\n        return MnoErrorsHandler.processServerError(error, vm.form);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    if (MnoeAdminConfig.isAppManagementEnabled()) {\n      MnoeMarketplace.getApps().then(function(response) {\n        return vm.marketplace = angular.copy(response.data);\n      });\n    }\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('InviteUserController', [\"$filter\", \"$stateParams\", \"$uibModalInstance\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"USER_ROLES\", function($filter, $stateParams, $uibModalInstance, toastr, MnoeUsers, MnoErrorsHandler, USER_ROLES) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.USER_ROLES = USER_ROLES;\n    vm.onSubmit = function() {\n      vm.isLoading = true;\n      return MnoeUsers.sendSignupEmail(vm.user.email).then(function(success) {\n        toastr.success('mnoe_admin_panel.dashboard.customers.invite_user_modal.toastr_success', {\n          extraData: {\n            email: vm.user.email\n          }\n        });\n        return $uibModalInstance.close(vm.user.email);\n      }, function(error) {\n        toastr.error('mnoe_admin_panel.dashboard.customers.invite_user_modal.toastr_error', {\n          extraData: {\n            email: vm.user.email\n          }\n        });\n        return MnoErrorsHandler.processServerError(error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('deleteDashboardTemplateCtrl', [\"$scope\", \"$uibModalInstance\", \"dashboardTemplateId\", \"MnoeDashboardTemplates\", \"toastr\", function($scope, $uibModalInstance, dashboardTemplateId, MnoeDashboardTemplates, toastr) {\n    'ngInject';\n    $scope.close = function() {\n      return $uibModalInstance.close(false);\n    };\n    $scope[\"delete\"] = function() {\n      $scope.isLoading = true;\n      return MnoeDashboardTemplates[\"delete\"](dashboardTemplateId).then(function(success) {\n        return toastr.success('mnoe_admin_panel.dashboard.dashboard_templates.widget.list.toastr.deleted.successfully');\n      }, function(error) {\n        return toastr.error('mnoe_admin_panel.dashboard.dashboard_templates.widget.list.toastr.deleted.error');\n      })[\"finally\"](function() {\n        $scope.isLoading = false;\n        return $uibModalInstance.close(true);\n      });\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('AddAppModalCtrl', [\"$scope\", \"$uibModalInstance\", \"$window\", \"MnoeMarketplace\", \"MnoeOrganizations\", \"organization\", \"toastr\", function($scope, $uibModalInstance, $window, MnoeMarketplace, MnoeOrganizations, organization, toastr) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.modal_height = ($window.innerHeight - 200) + \"px\";\n    vm.selectedApp = {};\n    vm.organization = angular.copy(organization);\n    vm.loading = {\n      modal: true,\n      apps: false\n    };\n    vm.displayError = false;\n    MnoeMarketplace.getApps().then(function(response) {\n      var activeAppNids;\n      vm.marketplace = angular.copy(response.data.plain());\n      activeAppNids = _.map(organization.active_apps, 'nid');\n      return vm.marketplace.filtered_apps = _.filter(vm.marketplace.apps, function(app) {\n        if (!_.includes(activeAppNids, app.nid)) {\n          return app;\n        }\n      });\n    })[\"finally\"](function() {\n      return vm.loading.modal = false;\n    });\n    vm.toggleApp = function(app) {\n      return app.checked = !app.checked;\n    };\n    vm.closeError = function() {\n      return vm.displayError = false;\n    };\n    vm.addApps = function() {\n      vm.loading.apps = true;\n      vm.appNidsToAdd = _.map(_.filter(vm.marketplace.apps, {\n        checked: true\n      }), 'nid');\n      vm.organization.app_nids = _.union(vm.appNidsToAdd, _.map(organization.active_apps, 'nid'));\n      if (vm.appNidsToAdd.length === 0) {\n        vm.closeModal();\n        return;\n      }\n      return MnoeOrganizations.update(vm.organization).then(function(success) {\n        var active_apps_nids, nb_active_apps, nb_apps_to_add;\n        nb_active_apps = success.data.plain().organization.active_apps.length;\n        nb_apps_to_add = vm.organization.app_nids.length;\n        vm.organization = success.data.plain().organization;\n        if (nb_active_apps === nb_apps_to_add) {\n          return vm.closeModal();\n        } else {\n          vm.displayError = true;\n          active_apps_nids = typeof active_apps !== \"undefined\" && active_apps !== null ? _.map(active_apps, 'nid') : [];\n          _.map(_.intersection(vm.appNidsToAdd, active_apps_nids), function(app_nid) {\n            return _.remove(vm.marketplace.filtered_apps, {\n              nid: app_nid\n            });\n          });\n          vm.arrayOfApps = _.map(_.difference(vm.appNidsToAdd, active_apps_nids), function(app_nid) {\n            return _.find(vm.marketplace.filtered_apps, {\n              nid: app_nid\n            }).name;\n          });\n          return vm.ListOfApps = vm.arrayOfApps.join(', ');\n        }\n      }, function(error) {\n        return toastr.error(\"mnoe_admin_panel.dashboard.organization.add_app.toastr_error\", {\n          preventDuplicates: false\n        });\n      })[\"finally\"](function() {\n        return vm.loading.apps = false;\n      });\n    };\n    vm.closeModal = function() {\n      return $uibModalInstance.close(vm.organization);\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('CreateUserController', [\"$filter\", \"$stateParams\", \"$uibModalInstance\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"USER_ROLES\", \"organization\", function($filter, $stateParams, $uibModalInstance, toastr, MnoeUsers, MnoErrorsHandler, USER_ROLES, organization) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.errorHandler = MnoErrorsHandler;\n    vm.USER_ROLES = USER_ROLES;\n    vm.onSubmit = function() {\n      vm.isLoading = true;\n      return MnoeUsers.addUser(organization, vm.user).then(function(success) {\n        toastr.success('mnoe_admin_panel.dashboard.organization.create_user.toastr_success', {\n          extraData: {\n            username: vm.user.name + \" \" + vm.user.surname\n          }\n        });\n        return $uibModalInstance.close(success.data.user);\n      }, function(error) {\n        toastr.error('mnoe_admin_panel.dashboard.organization.create_user.toastr_error', {\n          extraData: {\n            username: vm.user.name + \" \" + vm.user.surname\n          }\n        });\n        return MnoErrorsHandler.processServerError(error, vm.form.user);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('RemoveAppModalCtrl', [\"$scope\", \"$uibModalInstance\", \"MnoeAppInstances\", \"app\", function($scope, $uibModalInstance, MnoeAppInstances, app) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.app = app;\n    vm.modal = {\n      loading: false\n    };\n    vm.deleteApp = function() {\n      vm.modal.loading = true;\n      return MnoeAppInstances.terminate(vm.app.id).then(function(success) {\n        vm.errors = null;\n        return $uibModalInstance.close(true);\n      })[\"finally\"](function() {\n        return vm.modal.loading = false;\n      });\n    };\n    vm.closeModal = function() {\n      return $uibModalInstance.close(false);\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('UpdateStaffClientsController', [\"staff\", \"$filter\", \"$stateParams\", \"$log\", \"$uibModalInstance\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"MnoeOrganizations\", function(staff, $filter, $stateParams, $log, $uibModalInstance, toastr, MnoeUsers, MnoErrorsHandler, MnoeOrganizations) {\n    'ngInject';\n    var displayCurrentState, fetchOrganizations, i, id, len, ref, setAllOrganizationsList, setSearchOrganizationsList, vm;\n    vm = this;\n    vm.selectedOrganizations = {};\n    ref = staff.client_ids;\n    for (i = 0, len = ref.length; i < len; i++) {\n      id = ref[i];\n      vm.selectedOrganizations[id] = true;\n    }\n    vm.organizations = {\n      search: '',\n      nbItems: 10,\n      page: 1,\n      pageChangedCb: function(nbItems, page) {\n        var offset;\n        vm.organizations.nbItems = nbItems;\n        vm.organizations.page = page;\n        offset = (page - 1) * nbItems;\n        return fetchOrganizations(nbItems, offset);\n      }\n    };\n    fetchOrganizations = function(limit, offset, sort) {\n      var params;\n      if (sort == null) {\n        sort = 'name';\n      }\n      vm.organizations.loading = true;\n      params = {\n        sub_tenant_id: staff.mnoe_sub_tenant_id\n      };\n      return MnoeOrganizations.list(limit, offset, sort, params).then(function(response) {\n        vm.organizations.totalItems = response.headers('x-total-count');\n        return vm.organizations.list = response.data;\n      }).then(function() {\n        return vm.organizations.loading = false;\n      });\n    };\n    displayCurrentState = function() {\n      setAllOrganizationsList();\n      return fetchOrganizations(vm.organizations.nbItems, 0);\n    };\n    setAllOrganizationsList = function() {\n      return vm.organizations.widgetTitle = 'All organisations';\n    };\n    vm.searchChange = function() {\n      if (vm.organizations.search.length >= 3) {\n        vm.searchMode = true;\n        return setSearchOrganizationsList(vm.organizations.search);\n      } else if (vm.searchMode) {\n        vm.searchMode = false;\n        return displayCurrentState();\n      }\n    };\n    setSearchOrganizationsList = function(search) {\n      var terms;\n      vm.organizations.loading = true;\n      vm.organizations.widgetTitle = 'Search result';\n      search = vm.organizations.search.toLowerCase();\n      terms = {\n        'name.like': \"%\" + search + \"%\"\n      };\n      return MnoeOrganizations.search(terms).then(function(response) {\n        vm.organizations.totalItems = response.headers('x-total-count');\n        return vm.organizations.list = $filter('orderBy')(response.data, 'name');\n      })[\"finally\"](function() {\n        return vm.organizations.loading = false;\n      });\n    };\n    displayCurrentState();\n    vm.onSubmit = function() {\n      var orgId, val;\n      vm.isLoading = true;\n      staff.client_ids = (function() {\n        var ref1, results;\n        ref1 = vm.selectedOrganizations;\n        results = [];\n        for (orgId in ref1) {\n          val = ref1[orgId];\n          if (val) {\n            results.push(orgId);\n          }\n        }\n        return results;\n      })();\n      return MnoeUsers.updateStaff(staff).then(function(result) {\n        staff = result.data.user;\n        staff.admin_role_was = staff.admin_role;\n        $uibModalInstance.close(staff);\n        return toastr.success(\"mnoe_admin_panel.dashboard.staff.update_staff.toastr_success\", {\n          extraData: {\n            staff_name: staff.name + \" \" + staff.surname\n          }\n        });\n      }, function(error) {\n        toastr.error('mnoe_admin_panel.dashboard.staff.add_staff.modal.toastr_error', {\n          extraData: {\n            staff_name: staff.name + \" \" + staff.surname\n          }\n        });\n        return $log.error(\"An error occurred while updating staff:\", error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('CreateStaffController', [\"$filter\", \"$stateParams\", \"$log\", \"$uibModalInstance\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"MnoeAdminConfig\", function($filter, $stateParams, $log, $uibModalInstance, toastr, MnoeUsers, MnoErrorsHandler, MnoeAdminConfig) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.admin_roles = MnoeAdminConfig.adminRoles();\n    vm.staffAlreadyExists = false;\n    vm.staff = null;\n    vm.onSubmit = function() {\n      vm.isLoading = true;\n      return MnoeUsers.search({\n        email: vm.user.email\n      }).then(function(success) {\n        vm.staffAlreadyExists = !_.isEmpty(success.data);\n        vm.staff = vm.staffAlreadyExists ? {\n          id: success.data[0].id,\n          admin_role: vm.user.admin_role,\n          name: success.data[0].name,\n          surname: success.data[0].surname\n        } : vm.user;\n        if (!vm.staffAlreadyExists) {\n          return vm.addStaff();\n        }\n      }, function(error) {\n        return vm.showError();\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.addStaff = function() {\n      var method;\n      vm.isLoading = true;\n      method = vm.staff === vm.user ? 'addStaff' : 'updateStaff';\n      return MnoeUsers[method](vm.staff).then(function(success) {\n        toastr.success(\"mnoe_admin_panel.dashboard.staffs.add_staff.modal.toastr_success\", {\n          extraData: {\n            staff_name: vm.staff.name + \" \" + vm.staff.surname\n          }\n        });\n        return $uibModalInstance.close(success.data);\n      }, function(error) {\n        return vm.showError();\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.showError = function() {\n      toastr.error('mnoe_admin_panel.dashboard.staffs.add_staff.modal.toastr_error', {\n        extraData: {\n          staff_name: vm.user.name + \" \" + vm.user.surname\n        }\n      });\n      return $log.error(\"An error occurred:\", error);\n    };\n    vm.onEmailChange = function() {\n      return vm.staffAlreadyExists = false;\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('UpdateAccountManagersController', [\"$filter\", \"$stateParams\", \"$log\", \"$uibModalInstance\", \"toastr\", \"MnoeSubTenants\", \"MnoeUsers\", \"MnoErrorsHandler\", \"MnoeAdminConfig\", \"subTenant\", function($filter, $stateParams, $log, $uibModalInstance, toastr, MnoeSubTenants, MnoeUsers, MnoErrorsHandler, MnoeAdminConfig, subTenant) {\n    'ngInject';\n    var fetchStaffs, updateSearch, updateSort, vm;\n    vm = this;\n    vm.selectedUsers = {};\n    _.each(subTenant.account_manager_ids, function(id) {\n      return vm.selectedUsers[id] = true;\n    });\n    vm = this;\n    vm.staff_roles = MnoeAdminConfig.adminRoles();\n    vm.getAdminRoleLabel = function(admin_role) {\n      return _.find(vm.staff_roles, function(role) {\n        return role.value === admin_role;\n      }).label;\n    };\n    vm.callServer = function(tableState) {\n      var search, sort;\n      sort = updateSort(tableState.sort);\n      search = updateSearch(tableState.search);\n      return fetchStaffs(vm.staff.nbItems, vm.staff.offset, sort, search);\n    };\n    updateSort = function(sortState) {\n      var sort;\n      if (sortState == null) {\n        sortState = {};\n      }\n      sort = \"surname\";\n      if (sortState.predicate) {\n        sort = sortState.predicate;\n        if (sortState.reverse) {\n          sort += \".desc\";\n        } else {\n          sort += \".asc\";\n        }\n      }\n      vm.staff.sort = sort;\n      return sort;\n    };\n    updateSearch = function(searchingState) {\n      var attr, ref, search, value;\n      if (searchingState == null) {\n        searchingState = {};\n      }\n      search = {};\n      if (searchingState.predicateObject) {\n        ref = searchingState.predicateObject;\n        for (attr in ref) {\n          value = ref[attr];\n          if (attr === \"admin_role\") {\n            search['where[admin_role.in][]'] = [value];\n          } else {\n            search['where[' + attr + '.like]'] = value + '%';\n          }\n        }\n      }\n      vm.staff.search = search;\n      return search;\n    };\n    vm.staff = {\n      search: {},\n      sort: \"surname\",\n      nbItems: 10,\n      page: 1,\n      pageChangedCb: function(nbItems, page) {\n        var offset;\n        vm.staff.nbItems = nbItems;\n        vm.staff.page = page;\n        offset = (page - 1) * nbItems;\n        return fetchStaffs(nbItems, offset);\n      }\n    };\n    fetchStaffs = function(limit, offset, sort, search) {\n      if (sort == null) {\n        sort = vm.staff.sort;\n      }\n      if (search == null) {\n        search = vm.staff.search;\n      }\n      vm.staff.loading = true;\n      return MnoeUsers.staffs(limit, offset, sort, search).then(function(response) {\n        vm.staff.totalItems = response.headers('x-total-count');\n        return vm.listOfStaff = response.data;\n      })[\"finally\"](function() {\n        return vm.staff.loading = false;\n      });\n    };\n    vm.onSubmit = function() {\n      var orgId, val;\n      vm.isLoading = true;\n      subTenant.account_manager_ids = (function() {\n        var ref, results;\n        ref = vm.selectedUsers;\n        results = [];\n        for (orgId in ref) {\n          val = ref[orgId];\n          if (val) {\n            results.push(orgId);\n          }\n        }\n        return results;\n      })();\n      return MnoeSubTenants.update(subTenant).then(function(result) {\n        $uibModalInstance.close(result.data.sub_tenant.account_managers);\n        return toastr.success(\"mnoe_admin_panel.dashboard.sub_tenant.select_account_managers.modal.toastr_success\", {\n          extraData: {\n            sub_tenant_name: subTenant.name\n          }\n        });\n      }, function(error) {\n        toastr.error(\"mnoe_admin_panel.dashboard.sub_tenant.select_account_managers.modal.toastr_error\", {\n          extraData: {\n            sub_tenant_name: subTenant.name\n          }\n        });\n        return $log.error(\"An error occurred while updating account managers of \" + subTenant.name + \".\", error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('UpdateClientsController', [\"$filter\", \"$stateParams\", \"$log\", \"$uibModalInstance\", \"toastr\", \"MnoeSubTenants\", \"MnoErrorsHandler\", \"MnoeOrganizations\", \"subTenant\", function($filter, $stateParams, $log, $uibModalInstance, toastr, MnoeSubTenants, MnoErrorsHandler, MnoeOrganizations, subTenant) {\n    'ngInject';\n    var displayCurrentState, fetchOrganizations, i, id, len, ref, setAllOrganizationsList, setSearchOrganizationsList, vm;\n    vm = this;\n    vm.selectedOrganizations = {};\n    ref = subTenant.client_ids;\n    for (i = 0, len = ref.length; i < len; i++) {\n      id = ref[i];\n      vm.selectedOrganizations[id] = true;\n    }\n    vm.organizations = {\n      search: '',\n      nbItems: 10,\n      page: 1,\n      pageChangedCb: function(nbItems, page) {\n        var offset;\n        vm.organizations.nbItems = nbItems;\n        vm.organizations.page = page;\n        offset = (page - 1) * nbItems;\n        return fetchOrganizations(nbItems, offset);\n      }\n    };\n    fetchOrganizations = function(limit, offset, sort) {\n      if (sort == null) {\n        sort = 'name';\n      }\n      vm.organizations.loading = true;\n      return MnoeOrganizations.list(limit, offset, sort).then(function(response) {\n        vm.organizations.totalItems = response.headers('x-total-count');\n        return vm.organizations.list = response.data;\n      }).then(function() {\n        return vm.organizations.loading = false;\n      });\n    };\n    displayCurrentState = function() {\n      setAllOrganizationsList();\n      return fetchOrganizations(vm.organizations.nbItems, 0);\n    };\n    setAllOrganizationsList = function() {\n      return vm.organizations.widgetTitle = 'All organisations';\n    };\n    vm.searchChange = function() {\n      if (vm.organizations.search.length >= 3) {\n        vm.searchMode = true;\n        return setSearchOrganizationsList(vm.organizations.search);\n      } else if (vm.searchMode) {\n        vm.searchMode = false;\n        return displayCurrentState();\n      }\n    };\n    setSearchOrganizationsList = function(search) {\n      var terms;\n      vm.organizations.loading = true;\n      vm.organizations.widgetTitle = 'Search result';\n      search = vm.organizations.search.toLowerCase();\n      terms = {\n        'name.like': \"%\" + search + \"%\"\n      };\n      return MnoeOrganizations.search(terms).then(function(response) {\n        vm.organizations.totalItems = response.headers('x-total-count');\n        return vm.organizations.list = $filter('orderBy')(response.data, 'name');\n      })[\"finally\"](function() {\n        return vm.organizations.loading = false;\n      });\n    };\n    displayCurrentState();\n    vm.onSubmit = function() {\n      var orgId, val;\n      vm.isLoading = true;\n      subTenant.client_ids = (function() {\n        var ref1, results;\n        ref1 = vm.selectedOrganizations;\n        results = [];\n        for (orgId in ref1) {\n          val = ref1[orgId];\n          if (val) {\n            results.push(orgId);\n          }\n        }\n        return results;\n      })();\n      return MnoeSubTenants.update(subTenant).then(function(result) {\n        toastr.success(\"mnoe_admin_panel.dashboard.sub_tenant.select_clients.modal.toastr_success\", {\n          extraData: {\n            sub_tenant_name: subTenant.name\n          }\n        });\n        return $uibModalInstance.close(result.data.sub_tenant.clients);\n      }, function(error) {\n        toastr.error(\"mnoe_admin_panel.dashboard.sub_tenant.select_clients.modal.toastr_error\", {\n          extraData: {\n            sub_tenant_name: subTenant.name\n          }\n        });\n        return $log.error(\"An error occurred while updating account managers of \" + subTenant.name + \".\", error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n(function() {\n  this.App.controller('CreateSubTenantController', [\"$filter\", \"$stateParams\", \"$log\", \"$uibModalInstance\", \"toastr\", \"MnoeSubTenants\", \"MnoErrorsHandler\", function($filter, $stateParams, $log, $uibModalInstance, toastr, MnoeSubTenants, MnoErrorsHandler) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.onSubmit = function() {\n      vm.isLoading = true;\n      return MnoeSubTenants.create(vm.subTenant).then(function(success) {\n        toastr.success(\"mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.toastr_success\", {\n          extraData: {\n            sub_tenant_name: vm.subTenant.name\n          }\n        });\n        return $uibModalInstance.close(success.data);\n      }, function(error) {\n        toastr.error(\"mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.toastr_error\", {\n          extraData: {\n            sub_tenant_name: vm.subTenant.name\n          }\n        });\n        return $log.error(\"An error occurred:\", error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\nangular.module('frontendAdmin').run(['$templateCache', function($templateCache) {$templateCache.put('app/views/dashboard.layout.html','<mno-admin hide-footer=\"true\" name=\"{{\\'mnoe_admin_panel.dashboard.layout.sidebar.title\\' | translate}}\">\\n  <mno-admin-header>\\n    <div class=\"header\">\\n      <div class=\"header-container\">\\n        <div class=\"meta\">\\n          <img class=\"logo\" src=\"images/main-logo.png\">\\n          <div class=\"title-wrapper\">\\n            <div class=\"page\">\\n              {{\\'mnoe_admin_panel.dashboard.layout.title\\' | translate}}\\n            </div>\\n            <div class=\"breadcrumb-links\">\\n              <div ncy-breadcrumb></div>\\n            </div>\\n          </div>\\n        </div>\\n        <div class=\"user\">\\n          <div class=\"item\" uib-dropdown>\\n            <a href=\"#\" uib-dropdown-toggle>\\n              <span class=\"name\">{{ main.user.name }} {{ main.user.surname }}</span>\\n              <img src=\"images/avatar.png\">\\n            </a>\\n            <ul class=\"dropdown-menu dropdown-menu-right\">\\n              <li class=\"link\">\\n                <a ng-click=\"main.exit()\" href=\"\">\\n                  {{\\'mnoe_admin_panel.dashboard.layout.exit\\' | translate}}\\n                </a>\\n              </li>\\n            </ul>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </mno-admin-header>\\n  <mno-admin-nav>\\n    <li class=\"sidebar-title\"><span>{{\\'mnoe_admin_panel.dashboard.layout.sidebar.navigation\\' | translate}}</span></li>\\n    <li class=\"sidebar-list\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.home\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.home\\' | translate}}<span class=\"menu-icon fa fa-tachometer\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ng-if=\"main.isFinanceEnabled\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.finance\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.finance\\' | translate}}<span class=\"menu-icon fa fa-money\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.customers\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.customers\\' | translate}}<span class=\"menu-icon fa fa-users\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ng-show=\"main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1\" ng-if=\"::main.adminConfig.isStaffEnabled()\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.staffs\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.staffs\\' | translate}}<span class=\"menu-icon fa fa-wrench\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ng-show=\"main.user.admin_role == \\'admin\\'\" ng-if=\"::main.isSubTenantEnabled\">\\n      <a ui-sref=\"dashboard.sub-tenants\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.sub_tenants\\' | translate}}<span class=\"menu-icon fa fa-institution\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ng-show=\"main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1\" ng-if=\"main.isReviewingEnabled\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.reviews\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.reviews\\' | translate}}<span class=\"menu-icon fa fa-star-half-o\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ng-show=\"main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1\" ng-if=\"main.areQuestionsEnabled\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.questions\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.questions\\' | translate}}<span class=\"menu-icon fa fa-question-circle\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ng-if=\"::main.adminConfig.isAuditLogEnabled()\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.audit-log\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.audit_log\\' | translate}}<span class=\"menu-icon fa fa-book\"></span></a>\\n    </li>\\n    <li class=\"sidebar-list\" ng-if=\"::main.isDashboardTemplatesEnabled\" ui-sref-active=\"active\">\\n      <a ui-sref=\"dashboard.dashboard-templates\">{{\\'mnoe_admin_panel.dashboard.layout.sidebar.dashboard_templates\\' | translate}}<span class=\"menu-icon fa fa-bar-chart\"></span></a>\\n    </li>\\n  </mno-admin-nav>\\n\\n  <mno-admin-content>\\n      <!-- Main Content -->\\n      <div ui-view></div>\\n  </mno-admin-content>\\n</mno-admin>\\n');\n$templateCache.put('app/components/mno-confirm/mno-confirm.html','<div class=\"modal-header\">\\n  <button type=\"button\" class=\"close\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.mno_confirm.close\\' | translate}}\" ng-click=\"modalOptions.close()\"><span aria-hidden=\"true\">&times;</span></button>\\n  <h4 class=\"modal-title\">{{modalOptions.headerText | translate:modalOptions.headerTextExtraData}}</h4>\\n</div>\\n<div class=\"modal-body\">\\n  <p>{{modalOptions.bodyText | translate:modalOptions.bodyTextExtraData}}</p>\\n</div>\\n<div class=\"modal-footer\">\\n  <button type=\"button\" class=\"btn btn-default\" ng-click=\"modalOptions.close()\">{{modalOptions.closeButtonText | translate:modalOptions.closeButtonTextExtraData}}</button>\\n  <button type=\"button\" class=\"btn btn-{{modalOptions.type}}\" ng-click=\"modalOptions.ok()\" ng-disabled=\"modalOptions.isLoading\">\\n    <span ng-show=\"modalOptions.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n    {{modalOptions.actionButtonText | translate:modalOptions.actionButtonTextExtraData}}\\n  </button>\\n</div>\\n');\n$templateCache.put('app/components/mno-pagination/mno-pagination.html','<div class=\"nb-items-col\">\\n  <label translate>mnoe_admin_panel.dashboard.mno_pagination.number_of_items</label>\\n  <select class=\"items-per-page-select form-control\" ng-model=\"nbItems\" ng-change=\"onPageChange()\" ng-options=\"i for i in nbItemsValues\" ng-disabled=\"isLoading\">\\n  </select>\\n</div>\\n\\n<ul uib-pagination ng-model=\"page\" ng-show=\"totalItems > nbItems\" total-items=\"totalItems\" items-per-page=\"nbItems\" ng-change=\"onPageChange()\" max-size=\"pagination.maxPages\" rotate=\"false\" ng-disabled=\"isLoading\">\\n</ul>\\n');\n$templateCache.put('app/components/mnoe-audit-events-list/mnoe-audit-events-list.html','<mno-widget icon=\"fa-file-text-o\" heading=\"{{$ctrl.events.widgetTitle}}\" is-loading=\"events.loading\">\\n  <mno-widget-header>\\n    &nbsp;{{ \\'mnoe_admin_panel.dashboard.audit_log.widget.list.title\\' | translate}}\\n  </mno-widget-header>\\n  <mno-widget-body class=\"no-padding\">\\n    <div>\\n      <!--<table class=\"class\" st-pipe=\"$ctrl.callServer\" st-table=\"$ctrl.displayed\">-->\\n      <table st-pipe=\"$ctrl.callServer\" st-table=\"$ctrl.events.list\" class=\"table table-striped\">\\n        <thead>\\n          <tr>\\n            <th st-sort=\"created_at\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.date</th>\\n            <th class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.user</th>\\n            <th class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.organization</th>\\n            <th st-sort=\"key\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.action</th>\\n            <th st-sort=\"description\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.description</th>\\n          </tr>\\n        </thead>\\n        <tbody ng-show=\"$ctrl.events.loading\">\\n          <tr>\\n            <td colspan=\"6\" class=\"text-center\" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.loading_events</td>\\n          </tr>\\n        </tbody>\\n        <tbody ng-show=\"!$ctrl.events.loading\">\\n          <tr ng-repeat=\"event in $ctrl.events.list\">\\n            <td title=\"{{ event.created_at | amDateFormat: \\'DD/MM/YYYY, h:mm:ss a\\' }}\">\\n              {{event.created_at | amCalendar }}\\n            </td>\\n            <td title=\"{{event.user.email}}\">\\n              {{event.user.name}} {{event.user.surname}}\\n            </td>\\n            <td>{{event.organization.name || \"-\" }}</td>\\n            <td>{{event.description}}</td>\\n            <td>{{event.details || \\'-\\'}}</td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </mno-widget-body>\\n  <mno-widget-footer ng-show=\"$ctrl.events.list\">\\n    <mno-pagination page=\"$ctrl.events.page\" nb-items=\"$ctrl.events.nbItems\" total-items=\"$ctrl.events.totalItems\" on-change-cb=\"$ctrl.events.pageChangedCb(nbItems, page)\" is-loading=\"$ctrl.events.loading\">\\n    </mno-pagination>\\n  </mno-widget-footer>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-dashboard-templates-list/mnoe-dashboard-templates-list.html','<mno-widget icon=\"fa-bar-chart\" is-loading=\"$ctrl.dashboardTemplates.loading\">\\n  <mno-widget-header>\\n    &nbsp;{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.widget.list.title\\' | translate}}\\n  </mno-widget-header>\\n  <mno-widget-body class=\"no-padding\">\\n    <div>\\n      <table st-pipe=\"$ctrl.callServer\" class=\"table table-striped\" st-table=\"$ctrl.dasboardTemplates.list\">\\n        <thead>\\n          <tr>\\n            <th st-sort=\"name\" class=\"col-lg-4\" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.template_name</th>\\n            <th class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.status</th>\\n            <th class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.created</th>\\n            <th class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.updated</th>\\n            <th class=\"col-lg-2\"></th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr ng-repeat=\"dashboardTemplate in $ctrl.dashboardTemplates.list\">\\n            <td title=\"{{ dashboardTemplate.full_name }}\">{{ dashboardTemplate.name }}</td>\\n            <td><toggle size=\"btn-sm\" ng-model=\"dashboardTemplate.published\" ng-change=\"$ctrl.toggleTemplatePublished(dashboardTemplate.id)\" uib-tooltip=\"{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.published_state_tooltip\\' | translate }}\"></toggle></td>\\n            <td>{{ dashboardTemplate.created_at | amDateFormat:$ctrl.datesFormat }}</td>\\n            <td>{{ dashboardTemplate.updated_at | amDateFormat:$ctrl.datesFormat }}</td>\\n            <td>\\n              <div class=\"pull-right\">\\n                <div class=\"btn-group\">\\n                  <a type=\"button\" class=\"btn btn-primary\" ui-sref=\"dashboard.dashboard-templates-show({ dashboardId: dashboardTemplate.id })\">\\n                    <i class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\\n                  </a>\\n                </div>\\n                <div class=\"btn-group\" ng-click=\"$ctrl.openDeleteModal(dashboardTemplate.id)\">\\n                  <a type=\"button\" class=\"btn btn-primary\">\\n                    <i class=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\\n                  </a>\\n                </div>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </mno-widget-body>\\n  <mno-widget-footer ng-show=\"$ctrl.dashboardTemplates.list\">\\n    <mno-pagination page=\"$ctrl.dashboardTemplates.page\" nb-items=\"$ctrl.dashboardTemplates.nbItems\" total-items=\"$ctrl.dashboardTemplates.totalItems\" on-change-cb=\"$ctrl.dashboardTemplates.pageChangedCb(nbItems, page)\" is-loading=\"$ctrl.dashboardTemplates.loading\">\\n    </mno-pagination>\\n  </mno-widget-footer>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-modals/answer-edit-modal.html','<div class=\"modal-header\">\\n  <div class=\"close\" type=\"button\" ng-click=\"closeModal()\">\\xD7</div>\\n  <h3 translate>mnoe_admin_panel.dashboard.answer_edit.title</h3>\\n</div>\\n\\n<div class=\"modal-body\">\\n  <div class=\"main-area comment-input\">\\n    <textarea ng-model=\"review.description\" rows=\"8\" cols=\"40\"></textarea>\\n  </div>\\n</div>\\n\\n<div class=\"modal-footer\">\\n  <div class=\"row\">\\n    <div class=\"col-md-12\">\\n      <button class=\"btn btn-default\" ng-click=\"closeModal()\" translate>\\n        mnoe_admin_panel.dashboard.answer_edit.cancel\\n      </button>\\n      <button class=\"btn btn-default\" ng-click=\"submitIteraction()\" translate>\\n        mnoe_admin_panel.dashboard.answer_edit.submit\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/components/mnoe-modals/comment-edit-modal.html','<div class=\"modal-header\">\\n  <div class=\"close\" type=\"button\" ng-click=\"closeModal()\">\\xD7</div>\\n  <h3 translate>mnoe_admin_panel.dashboard.comment_edit.title</h3>\\n</div>\\n\\n<div class=\"modal-body\">\\n  <div class=\"main-area comment-input\">\\n    <textarea ng-model=\"review.description\" rows=\"8\" cols=\"40\"></textarea>\\n  </div>\\n</div>\\n\\n<div class=\"modal-footer\">\\n  <div class=\"row\">\\n    <div class=\"col-md-12\">\\n      <button class=\"btn btn-default\" ng-click=\"closeModal()\" translate>\\n        mnoe_admin_panel.dashboard.comment_edit.cancel\\n      </button>\\n      <button class=\"btn btn-default\" ng-click=\"submitIteraction()\" translate>\\n        mnoe_admin_panel.dashboard.comment_edit.submit\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/components/mnoe-modals/comment-modal.html','<div class=\"modal-header\">\\n  <div class=\"close\" type=\"button\" ng-click=\"closeModal()\">\\xD7</div>\\n  <h3 translate>mnoe_admin_panel.dashboard.comment_modal.title</h3>\\n</div>\\n\\n<div class=\"modal-body\">\\n  <div class=\"main-area comment-input\">\\n    <textarea ng-model=\"commentText\" rows=\"8\" cols=\"40\"></textarea>\\n  </div>\\n</div>\\n\\n<div class=\"modal-footer\">\\n  <div class=\"row\">\\n    <div class=\"col-md-12\">\\n      <button class=\"btn btn-default\" ng-click=\"closeModal()\" translate>\\n        mnoe_admin_panel.dashboard.comment_modal.cancel\\n      </button>\\n      <button class=\"btn btn-default\" ng-click=\"submitIteraction()\" translate>\\n        mnoe_admin_panel.dashboard.comment_modal.submit\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/components/mnoe-modals/feedback-reply-modal.html','<div class=\"modal-header\">\\n  <div class=\"close\" type=\"button\" ng-click=\"closeModal()\">\\xD7</div>\\n  <h3 translate>mnoe_admin_panel.dashboard.feedback.title</h3>\\n</div>\\n\\n<div class=\"modal-body\">\\n  <div class=\"main-area comment-input\">\\n    <textarea ng-model=\"replyText\" rows=\"8\" cols=\"40\"></textarea>\\n  </div>\\n</div>\\n\\n<div class=\"modal-footer\">\\n  <div class=\"row\">\\n    <div class=\"col-md-12\">\\n      <button class=\"btn btn-default\" ng-click=\"closeModal()\" translate>\\n        mnoe_admin_panel.dashboard.feedback.cancel\\n      </button>\\n      <button class=\"btn btn-default\" ng-click=\"submitIteraction()\" translate>\\n        mnoe_admin_panel.dashboard.feedback.submit\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/components/mnoe-modals/question-edit-modal.html','<div class=\"modal-header\">\\n  <div class=\"close\" type=\"button\" ng-click=\"closeModal()\">\\xD7</div>\\n  <h3 translate>mnoe_admin_panel.dashboard.question_edit.title</h3>\\n</div>\\n\\n<div class=\"modal-body\">\\n  <div class=\"main-area comment-input\">\\n    <textarea ng-model=\"review.description\" rows=\"8\" cols=\"40\"></textarea>\\n  </div>\\n</div>\\n\\n<div class=\"modal-footer\">\\n  <div class=\"row\">\\n    <div class=\"col-md-12\">\\n      <button class=\"btn btn-default\" ng-click=\"closeModal()\" translate>\\n        mnoe_admin_panel.dashboard.question_edit.cancel\\n      </button>\\n      <button class=\"btn btn-default\" ng-click=\"submitIteraction()\" translate>\\n        mnoe_admin_panel.dashboard.question_edit.submit\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/components/mnoe-modals/question-reply-modal.html','<div class=\"modal-header\">\\n  <div class=\"close\" type=\"button\" ng-click=\"closeModal()\">\\xD7</div>\\n  <h3 translate>mnoe_admin_panel.dashboard.questions_reply_modal.title</h3>\\n</div>\\n\\n<div class=\"modal-body\">\\n  <div class=\"main-area comment-input\">\\n    <textarea ng-model=\"replyText\" rows=\"8\" cols=\"40\"></textarea>\\n  </div>\\n</div>\\n\\n<div class=\"modal-footer\">\\n  <div class=\"row\">\\n    <div class=\"col-md-12\">\\n      <button class=\"btn btn-default\" ng-click=\"closeModal()\" translate>\\n        mnoe_admin_panel.dashboard.questions_reply_modal.cancel\\n      </button>\\n      <button class=\"btn btn-default\" ng-click=\"submitIteraction()\" translate>\\n        mnoe_admin_panel.dashboard.questions_reply_modal.submit\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/components/mnoe-organizations-list/mnoe-organizations-list.html','<mno-widget icon=\"fa-sitemap\" heading=\"{{organizations.widgetTitle | translate}}\" is-loading=\"organizations.loading\">\\n  <mno-widget-header>\\n    &nbsp;<a href=\"\" ng-click=\"switchState()\" ng-show=\"organizations.list && organizations.switchLinkTitle\" ng-class=\"{\\'disabled\\': organizations.loading}\" translate>{{organizations.switchLinkTitle}}</a>\\n    <input type=\"text\" ng-model=\"organizations.search\" ng-change=\"searchChange()\" ng-model-options=\"{ debounce: 1000 }\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.organization.widget.list.search_users.placeholder.search_all\\' | translate}}\" class=\"form-control input-sm search-bar\">\\n  </mno-widget-header>\\n  <mno-widget-body class=\"large no-padding\">\\n    <table class=\"table table-layout-fixed\">\\n      <thead>\\n        <tr>\\n          <th translate>mnoe_admin_panel.dashboard.organization.widget.list.table.name</th>\\n          <th style=\"width: 100px\" translate>mnoe_admin_panel.dashboard.organization.widget.list.table.created_at</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr ng-repeat=\"organization in organizations.list\">\\n          <td>\\n            <a ui-sref=\"dashboard.customers.organization({orgId: organization.id})\">\\n              {{::organization.name}}\\n              <em ng-show=\"organization.account_frozen\" class=\"text-muted\" translate>mnoe_admin_panel.dashboard.organization.account_frozen_state</em>\\n            </a>\\n          </td>\\n          <td>{{::organization.created_at | date: \\'dd/MM/yyyy\\'}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </mno-widget-body>\\n  <mno-widget-footer ng-show=\"organizations.list && state == \\'all\\' && !searchMode\">\\n    <mno-pagination page=\"organizations.page\" nb-items=\"organizations.nbItems\" total-items=\"organizations.totalItems\" on-change-cb=\"organizations.pageChangedCb(nbItems, page)\" is-loading=\"organizations.loading\">\\n    </mno-pagination>\\n  </mno-widget-footer>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-organizations-local-list/mnoe-organizations-local-list.html','<mno-widget icon=\"fa-sitemap\" heading=\"{{organizations.widgetTitle | translate:{length: list.length} }}\" is-loading=\"!list\">\\n  <mno-widget-header>\\n    &nbsp;<a href=\"\" ng-click=\"switchState()\" ng-show=\"list && organizations.switchLinkTitle\" translate>{{organizations.switchLinkTitle}}</a>\\n    <input type=\"text\" ng-model=\"organizations.search\" ng-change=\"searchChange()\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.placeholder.search_all\\' | translate}}\" class=\"form-control input-sm search-bar\">\\n  </mno-widget-header>\\n  <mno-widget-body class=\"large no-padding\">\\n    <table class=\"table table-layout-fixed\">\\n      <thead>\\n        <tr>\\n          <th translate>mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.table.name</th>\\n          <th style=\"width: 100px\" translate>mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.table.created_at</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr ng-repeat=\"organization in organizations.displayList\">\\n          <td>\\n            <a ui-sref=\"dashboard.customers.organization({orgId: organization.id})\">\\n              {{::organization.name}}\\n              <em ng-show=\"organization.account_frozen\" class=\"text-muted\" translate>mnoe_admin_panel.dashboard.organization.account_frozen_state</em>\\n            </a>\\n          </td>\\n          <td>{{organization.created_at | date: \\'dd/MM/yyyy\\'}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </mno-widget-body>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-questions-list/mnoe-questions-list.html','<mno-widget icon=\"fa-question-circle\" heading=\"All questions\">\\n  <mno-widget-header></mno-widget-header>\\n  <mno-widget-body class=\"large no-padding widget-comments\">\\n    <div id=\"admin-question-list\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.author</th>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.company</th>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.app</th>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.type</th>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.message</th>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.date</th>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.answers</th>\\n            <th translate>mnoe_admin_panel.dashboard.questions_list.status</th>\\n          </tr>\\n        </thead>\\n        <tbody ng-repeat=\"question in listOfQuestions\">\\n          <tr class=\"question\">\\n            <td>\\n              {{question.user_name}}\\n            </td>\\n            <td>\\n              {{question.organization_name}}\\n            </td>\\n            <td>\\n              {{question.app_name}}\\n            </td>\\n            <td>\\n              {{\\'mnoe_admin_panel.dashboard.questions_list.question\\' | translate}}\\n            </td>\\n            <td>\\n              <p>{{question.description}}</p>\\n              <div class=\"text-right\">\\n                <button type=\"button\" name=\"button\" ng-click=\"openQuestionReplyModal(question)\" translate>mnoe_admin_panel.dashboard.questions_list.button.reply</button>\\n                <button type=\"button\" name=\"button\" ng-click=\"openEditModal(question)\" translate>mnoe_admin_panel.dashboard.questions_list.button.edit</button>\\n              </div>\\n            </td>\\n            <td>\\n              {{question.created_at | date: \\'dd/MM/yyyy\\' }}\\n            </td>\\n            <td>\\n              <a href=\"\" ng-hide=\"question.showAnswers || question.answers.length == 0\" ng-click=\"question.showAnswers = true\">{{\\'mnoe_admin_panel.dashboard.questions_list.answers.show\\' | translate}}&nbsp;({{question.answers.length}})</a>\\n              <a href=\"\" ng-show=\"question.showAnswers\" ng-click=\"question.showAnswers = false\">{{\\'mnoe_admin_panel.dashboard.questions_list.answers.hide\\' | translate}}</a>\\n            </td>\\n            <td>\\n              <span ng-show=\"!editmode[question.id]\">{{question.status}}</span>\\n              <select ng-model=\"question.status\" ng-show=\"editmode[question.id]\">\\n                <option ng-repeat=\"status in statuses\" value=\"{{status.value}}\" translate>{{status.label}}</option>\\n              </select>\\n              <div class=\"pull-right\">\\n                <a href=\"\" ng-hide=\"editmode[question.id]\" ng-click=\"editmode[question.id] = true\"><i class=\"fa fa-pencil\"></i></a>\\n                <a href=\"\" ng-show=\"editmode[question.id]\" ng-click=\"update(question)\"><i class=\"fa fa-check\"></i></a>\\n              </div>\\n            </td>\\n          </tr>\\n          <tr class=\"answer\" ng-show=\"question.showAnswers\" ng-repeat=\"answer in question.answers\">\\n            <td>\\n              {{answer.user_name}}\\n            </td>\\n            <td>\\n              {{answer.organization_name}}\\n            </td>\\n            <td>\\n              {{answer.app_name}}\\n            </td>\\n            <td>\\n              {{\\'mnoe_admin_panel.dashboard.questions_list.answer\\' | translate}}\\n            </td>\\n            <td>\\n              <p>{{answer.description}}</p>\\n              <div class=\"text-right\">\\n                <button type=\"button\" name=\"button\" ng-click=\"openEditAnswerModal(answer)\" translate>mnoe_admin_panel.dashboard.questions_list.button.edit</button>\\n              </div>\\n            </td>\\n            <td>\\n              {{answer.created_at | date: \\'dd/MM/yyyy\\' }}\\n            </td>\\n            <td>\\n              {{\\'mnoe_admin_panel.dashboard.questions_list.not_applicable\\' | translate}}\\n            </td>\\n            <td>\\n              <span ng-show=\"!editmode[answer.id]\">{{answer.status}}</span>\\n              <select ng-model=\"answer.status\" ng-show=\"editmode[answer.id]\">\\n                <option ng-repeat=\"status in statuses\" value=\"{{status.value}}\" translate>{{status.label}}</option>\\n              </select>\\n              <div class=\"pull-right\">\\n                <a href=\"\" ng-hide=\"editmode[answer.id]\" ng-click=\"editmode[answer.id] = true\"><i class=\"fa fa-pencil\"></i></a>\\n                <a href=\"\" ng-show=\"editmode[answer.id]\" ng-click=\"update(answer)\"><i class=\"fa fa-check\"></i></a>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </mno-widget-body>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-reviews-list/mnoe-reviews-list.html','<mno-widget icon=\"fa-star-half-o\" heading=\"{{ \\'mnoe_admin_panel.dashboard.reviews_list.title\\' | translate}}\">\\n  <mno-widget-header></mno-widget-header>\\n  <mno-widget-body class=\"large no-padding widget-comments\">\\n    <div id=\"admin-review-list\">\\n      <table class=\"table\">\\n        <thead>\\n          <tr>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.author</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.company</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.app</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.type</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.message</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.rating</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.date</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.comments</th>\\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.status</th>\\n          </tr>\\n        </thead>\\n        <tbody ng-repeat=\"review in listOfReviews\">\\n          <tr class=\"feedback\">\\n            <td>\\n              {{review.user_name}}\\n            </td>\\n            <td>\\n              {{review.organization_name}}\\n            </td>\\n            <td>\\n              {{review.app_name}}\\n            </td>\\n            <td>\\n              {{\\'mnoe_admin_panel.dashboard.reviews_list.feedback\\' | translate}}\\n            </td>\\n            <td>\\n              <p>{{review.description}}</p>\\n              <div class=\"text-right\">\\n                <button type=\"button\" name=\"button\" ng-click=\"openFeedbackReplyModal(review)\" translate>mnoe_admin_panel.dashboard.reviews_list.button.comment</button>\\n                <button type=\"button\" name=\"button\" ng-click=\"openEditModal(review)\" translate>mnoe_admin_panel.dashboard.reviews_list.button.edit</button>\\n              </div>\\n            </td>\\n            <td>\\n              {{review.rating}}\\n            </td>\\n            <td>\\n              {{review.created_at | date: \\'dd/MM/yyyy\\' }}\\n            </td>\\n            <td>\\n              <a href=\"\" ng-hide=\"review.showComments || review.comments.length == 0\" ng-click=\"review.showComments = true\">{{\\'mnoe_admin_panel.dashboard.reviews_list.comments.show\\' | translate}}&nbsp;({{review.comments.length}})</a>\\n              <a href=\"\" ng-show=\"review.showComments\" ng-click=\"review.showComments = false\">{{\\'mnoe_admin_panel.dashboard.reviews_list.comments.hide\\' | translate}}</a>\\n            </td>\\n            <td>\\n              <span ng-show=\"!editmode[review.id]\">{{review.status}}</span>\\n              <select ng-model=\"review.status\" ng-show=\"editmode[review.id]\">\\n                <option ng-repeat=\"status in statuses\" value=\"{{status.value}}\" translate>{{status.label}}</option>\\n              </select>\\n              <div class=\"pull-right\">\\n                <a href=\"\" ng-hide=\"editmode[review.id]\" ng-click=\"editmode[review.id] = true\"><i class=\"fa fa-pencil\"></i></a>\\n                <a href=\"\" ng-show=\"editmode[review.id]\" ng-click=\"update(review)\"><i class=\"fa fa-check\"></i></a>\\n              </div>\\n            </td>\\n          </tr>\\n          <tr class=\"comment\" ng-show=\"review.showComments\" ng-repeat=\"comment in review.comments\">\\n            <td>\\n              {{comment.user_name}}\\n            </td>\\n            <td>\\n              {{comment.organization_name}}\\n            </td>\\n            <td>\\n              {{comment.app_name}}\\n            </td>\\n            <td>\\n              {{\\'mnoe_admin_panel.dashboard.reviews_list.comment\\' | translate}}\\n            </td>\\n            <td>\\n              <p>{{comment.description}}</p>\\n              <div class=\"text-right\">\\n                <button type=\"button\" name=\"button\" ng-click=\"openEditModal(comment)\" translate>mnoe_admin_panel.dashboard.reviews_list.button.edit</button>\\n              </div>\\n            </td>\\n            <td>\\n              {{\\'mnoe_admin_panel.dashboard.reviews_list.not_applicable\\' | translate}}\\n            </td>\\n            <td>\\n              {{comment.created_at | date: \\'dd/MM/yyyy\\' }}\\n            </td>\\n            <td>\\n              {{\\'mnoe_admin_panel.dashboard.reviews_list.not_applicable\\' | translate}}\\n            </td>\\n            <td>\\n              <span ng-show=\"!editmode[comment.id]\">{{comment.status}}</span>\\n              <select ng-model=\"comment.status\" ng-show=\"editmode[comment.id]\">\\n                <option ng-repeat=\"status in statuses\" value=\"{{status.value}}\" translate>{{status.label}}</option>\\n              </select>\\n              <div class=\"pull-right\">\\n                <a href=\"\" ng-hide=\"editmode[comment.id]\" ng-click=\"editmode[comment.id] = true\"><i class=\"fa fa-pencil\"></i></a>\\n                <a href=\"\" ng-show=\"editmode[comment.id]\" ng-click=\"update(comment)\"><i class=\"fa fa-check\"></i></a>\\n              </div>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </mno-widget-body>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-staffs-list/mnoe-staffs-list.html','<mno-widget icon=\"fa-wrench\" heading=\"{{$ctrl.staff.widgetTitle}}\" is-loading=\"staff.loading\">\\n  <mno-widget-header>\\n    &nbsp;{{ \\'mnoe_admin_panel.dashboard.staffs.widget.list.title\\' | translate}}\\n  </mno-widget-header>\\n  <mno-widget-body class=\"large no-padding\">\\n    <div>\\n      <table st-pipe=\"$ctrl.callServer\" st-table=\"$ctrl.listOfStaff\" class=\"table table-striped\">\\n        <thead>\\n          <tr>\\n            <th st-sort=\"name\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.first_name</th>\\n            <th st-sort=\"surname\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.last_name</th>\\n            <th st-sort=\"email\" class=\"col-lg-3\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.email</th>\\n            <th st-sort=\"created_at\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.created_at</th>\\n            <th st-sort=\"admin_role\" class=\"col-lg-3\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.role</th>\\n            <th></th>\\n            <th></th>\\n        \\t</tr>\\n        \\t<tr>\\n            <th>\\n                <input st-search=\"name\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.staffs.widget.list.placeholder.search_name\\' | translate}}\" class=\"form-control input-sm search-bar\" type=\"text\">\\n            </th>\\n            <th>\\n                <input st-search=\"surname\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.staffs.widget.list.placeholder.search_surname\\' | translate}}\" class=\"form-control input-sm search-bar\" type=\"text\">\\n            </th>\\n            <th>\\n              <input st-search=\"email\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.staffs.widget.list.placeholder.search_email\\' | translate}}\" class=\"form-control input-sm search-bar\" type=\"text\">\\n            </th>\\n            <th></th>\\n            <th>\\n              <select st-search=\"admin_role\" class=\"form-control input-sm\">\\n                <option value=\"\" selected=\"selected\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.admin_role.all</option>\\n                <option value=\"{{role.value}}\" ng-repeat=\"role in $ctrl.staff.roles\">{{ role.label | translate }}</option>\\n              </select>\\n            </th>\\n            <th></th>\\n            <th></th>\\n        \\t</tr>\\n      \\t</thead>\\n        <tbody ng-show=\"$ctrl.staff.loading\">\\n          <tr>\\n            <td colspan=\"6\" class=\"text-center\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.loading_staff</td>\\n          </tr>\\n        </tbody>\\n      \\t<tbody ng-show=\"!$ctrl.staff.loading\">\\n          <tr ng-repeat=\"staffElem in $ctrl.listOfStaff\">\\n            <td><a ui-sref=\"dashboard.staff({staffId: staffElem.id})\">{{staffElem.name}}</a></td>\\n            <td>{{staffElem.surname}}</td>\\n            <td>{{staffElem.email}}</td>\\n            <td>{{staffElem.created_at | date: \\'dd/MM/yyyy\\'}}</td>\\n            <td><span ng-show=\"!$ctrl.staff.editmode[staffElem.id]\" translate>{{$ctrl.getAdminRoleLabel(staffElem.admin_role)}}</span>\\n              <select ng-model=\"staffElem.admin_role\" ng-show=\"$ctrl.staff.editmode[staffElem.id]\" class=\"user-role-select form-control input-sm\">\\n                <option ng-repeat=\"role in $ctrl.staff.roles\" value=\"{{role.value}}\">{{role.label | translate}}</option>\\n              </select>\\n            </td>\\n            <td>\\n              <div ng-hide=\"$ctrl.staff.oneAdminLeft && staffElem.admin_role == \\'admin\\'\">\\n                <a href=\"\" ng-hide=\"$ctrl.staff.editmode[staffElem.id]\" ng-click=\"$ctrl.staff.editmode[staffElem.id] = true\"><i class=\"fa fa-pencil\"></i></a>\\n              </div>\\n            </td>\\n            <td>\\n              <div ng-hide=\"$ctrl.staff.oneAdminLeft && staffElem.admin_role == \\'admin\\'\">\\n                <a href=\"\" ng-hide=\"$ctrl.staff.editmode[staffElem.id]\" ng-click=\"$ctrl.staff.remove(staffElem)\"><i class=\"fa fa-times\"></i></a>\\n              </div>\\n              <a href=\"\" ng-show=\"$ctrl.staff.editmode[staffElem.id]\" ng-click=\"$ctrl.staff.update(staffElem)\"><i class=\"fa fa-check\"></i></a>\\n            </td>\\n          </tr>\\n      \\t</tbody>\\n      </table>\\n    </div>\\n  </mno-widget-body>\\n  <mno-widget-footer ng-show=\"$ctrl.listOfStaff && !searchMode\">\\n    <mno-pagination page=\"$ctrl.staff.page\" nb-items=\"$ctrl.staff.nbItems\" total-items=\"$ctrl.staff.totalItems\" on-change-cb=\"$ctrl.staff.pageChangedCb(nbItems, page)\" is-loading=\"$ctrl.staff.loading\">\\n    </mno-pagination>\\n  </mno-widget-footer>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-staffs-local-list/mnoe-staffs-local-list.html','<mno-widget icon=\"fa-wrench\" heading=\"{{$ctrl.staff.widgetTitle}}\" is-loading=\"staff.loading\">\\n  <mno-widget-header>\\n    &nbsp;{{ \\'mnoe_admin_panel.dashboard.staffs.widget.list.title\\' | translate}}\\n  </mno-widget-header>\\n  <mno-widget-body class=\"large no-padding\">\\n    <div>\\n      <table class=\"table table-striped\">\\n        <thead>\\n          <tr>\\n            <th class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.first_name</th>\\n            <th class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.last_name</th>\\n            <th class=\"col-lg-3\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.email</th>\\n            <th class=\"col-lg-3\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.role</th>\\n        \\t</tr>\\n      \\t</thead>\\n      \\t<tbody>\\n          <tr ng-repeat=\"staffElem in list\">\\n            <td><a ui-sref=\"dashboard.staff({staffId: staffElem.id})\">{{staffElem.name}}</a></td>\\n            <td>{{staffElem.surname}}</td>\\n            <td>{{staffElem.email}}</td>\\n            <td><span translate>{{ getAdminRoleLabel(staffElem) }}</span></td>\\n          </tr>\\n      \\t</tbody>\\n      </table>\\n    </div>\\n  </mno-widget-body>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-sub-tenants-list/mnoe-sub-tenants-list.html','<mno-widget icon=\"fa-wrench\" heading=\"{{$ctrl.subTenant.widgetTitle}}\" is-loading=\"subTenant.loading\">\\n  <mno-widget-header translate>\\n    &nbsp;mnoe_admin_panel.dashboard.sub_tenants.widget.list.title\\n  </mno-widget-header>\\n  <mno-widget-body classes=\"large no-padding\">\\n    <div>\\n      <table st-pipe=\"$ctrl.callServer\" st-table=\"$ctrl.listOfSubTenant\" class=\"table table-striped\">\\n        <thead>\\n        <tr>\\n          <th st-sort=\"name\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.table.name</th>\\n          <th st-sort=\"created_at\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.table.created_at</th>\\n          <th st-sort=\"update_at\" class=\"col-lg-2\" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.table.updated_at</th>\\n        </tr>\\n        </thead>\\n        <tbody ng-show=\"$ctrl.subTenant.loading\">\\n        <tr>\\n          <td colspan=\"6\" class=\"text-center\" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.loading</td>\\n        </tr>\\n        </tbody>\\n        <tbody ng-show=\"!$ctrl.subTenant.loading\">\\n        <tr ng-repeat=\"subTenantElem in $ctrl.listOfSubTenant\">\\n          <td><a ng-show=\"!$ctrl.subTenant.editmode[subTenantElem.id]\" ui-sref=\"dashboard.sub-tenant({subTenantId: subTenantElem.id})\">{{subTenantElem.name}}</a>\\n            <input ng-show=\"$ctrl.subTenant.editmode[subTenantElem.id]\" name=\"name\" type=\"text\" ng-model=\"subTenantElem.name\" class=\"form-control\" required>\\n          </td>\\n\\n          <td>{{subTenantElem.created_at | date: \\'dd/MM/yyyy\\'}}</td>\\n          <td>{{subTenantElem.updated_at | date: \\'dd/MM/yyyy\\'}}</td>\\n          <td>\\n            <a href=\"\" ng-hide=\"$ctrl.subTenant.editmode[subTenantElem.id]\" ng-click=\"$ctrl.subTenant.editmode[subTenantElem.id] = true\"><i class=\"fa fa-pencil\"></i></a></td>\\n          <td>\\n          </td><td>\\n            <a href=\"\" ng-hide=\"$ctrl.subTenant.editmode[subTenantElem.id]\" ng-click=\"$ctrl.subTenant.remove(subTenantElem)\"><i class=\"fa fa-times\"></i></a>\\n            <a href=\"\" ng-show=\"$ctrl.subTenant.editmode[subTenantElem.id]\" ng-click=\"$ctrl.subTenant.update(subTenantElem)\"><i class=\"fa fa-check\"></i></a>\\n          </td>\\n        </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n  </mno-widget-body>\\n  <mno-widget-footer ng-show=\"$ctrl.listOfSubTenant\">\\n    <mno-pagination page=\"$ctrl.subTenant.page\" nb-items=\"$ctrl.subTenant.nbItems\" total-items=\"$ctrl.subTenant.totalItems\" on-change-cb=\"$ctrl.subTenant.pageChangedCb(nbItems, page)\" is-loading=\"$ctrl.subTenant.loading\">\\n    </mno-pagination>\\n  </mno-widget-footer>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-users-list/mno-users-list.html','<mno-widget icon=\"fa-users\" heading=\"{{users.widgetTitle | translate}}\" is-loading=\"users.loading\">\\n  <mno-widget-header>\\n    &nbsp;<a href=\"\" ng-click=\"switchState()\" ng-show=\"users.list && users.switchLinkTitle\" ng-class=\"{\\'disabled\\': users.loading}\" translate>{{users.switchLinkTitle}}</a>\\n    <input type=\"text\" ng-model=\"users.search\" ng-change=\"searchChange()\" ng-model-options=\"{ debounce: 1000 }\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.users.widget.list.search_users.placeholder.search_all\\' | translate}}\" class=\"form-control input-sm search-bar\">\\n  </mno-widget-header>\\n  <mno-widget-body class=\"large no-padding\">\\n    <table class=\"table table-layout-fixed\">\\n      <thead>\\n        <tr>\\n          <th translate>mnoe_admin_panel.dashboard.users.widget.list.table.username</th>\\n          <th width=\"110\" translate>mnoe_admin_panel.dashboard.users.widget.list.table.last_login</th>\\n          <th width=\"100\" translate>mnoe_admin_panel.dashboard.users.widget.list.table.created_at</th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr ng-repeat=\"user in users.list\">\\n          <td>\\n            <a ui-sref=\"dashboard.customers.user({userId: user.id})\">\\n              <div ng-show=\"user.name && user.surname\">{{::user.name}} {{::user.surname}}</div>\\n              <div ng-show=\"!user.name && !user.surname\">nc</div>\\n              <small>{{::user.email}}</small>\\n            </a>\\n          </td>\\n          <td>\\n            <span data-toggle=\"tooltip\" title=\"{{::user.last_sign_in_at | date: \\'H:m - dd/MM/yyyy\\'}}\">\\n              {{(user.last_sign_in_at | amTimeAgo) || (\\'mnoe_admin_panel.dashboard.users.widget.list.never\\' | translate)}}\\n            </span>\\n          </td>\\n          <td>{{::user.created_at | date: \\'dd/MM/yyyy\\'}}</td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </mno-widget-body>\\n  <mno-widget-footer ng-show=\"users.list && state == \\'all\\' && !searchMode\">\\n    <mno-pagination page=\"users.page\" nb-items=\"users.nbItems\" total-items=\"users.totalItems\" on-change-cb=\"users.pageChangedCb(nbItems, page)\" is-loading=\"users.loading\">\\n    </mno-pagination>\\n  </mno-widget-footer>\\n</mno-widget>\\n');\n$templateCache.put('app/components/mnoe-users-local-list/mnoe-users-local-list.html','<mno-widget icon=\"fa-users\" heading=\"{{users.widgetTitle | translate:{length: list.length} }}\" is-loading=\"!list\">\\n  <mno-widget-header>\\n    &nbsp;<a href=\"\" ng-click=\"switchState()\" ng-show=\"list && users.switchLinkTitle\" translate>{{users.switchLinkTitle}}</a>\\n    <input type=\"text\" ng-model=\"users.search\" ng-change=\"searchChange()\" placeholder=\"{{ \\'mnoe_admin_panel.dashboard.users.widget.local_list.search_users.placeholder.search_all\\' | translate}}\" class=\"form-control input-sm search-bar\">\\n  </mno-widget-header>\\n  <mno-widget-body class=\"medium no-padding\">\\n    <table class=\"table table-layout-fixed\">\\n      <thead>\\n        <tr>\\n          <th translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.username</th>\\n          <th style=\"width: 100px\" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.created_at</th>\\n          <th style=\"width: 140px\" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.status</th>\\n          <th style=\"width: 100px\" ng-if=\"isImpersonationEnabled\"></th>\\n        </tr>\\n      </thead>\\n      <tbody>\\n        <tr ng-repeat=\"user in users.displayList\">\\n          <td>\\n            <a ui-sref=\"dashboard.customers.user({userId: user.id})\">\\n              <div ng-show=\"user.name && user.surname\">{{::user.name}} {{::user.surname}}</div>\\n              <div ng-show=\"!user.name && !user.surname\">nc</div>\\n              <small>{{::user.email}}</small>\\n            </a>\\n          </td>\\n          <td>{{user.created_at | date: \\'dd/MM/yyyy\\'}}</td>\\n          <td>\\n            <button ng-show=\"user.status === \\'pending\\'\" ng-click=\"sendInvitation(user)\" class=\"btn btn-xs btn-warning\" ng-disabled=\"user.isSendingInvite\">\\n              <span ng-show=\"user.isSendingInvite\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n              {{\\'mnoe_admin_panel.dashboard.users.widget.local_list.invite\\' | translate}}\\n            </button>\\n            <button ng-show=\"user.status === \\'invited\\'\" ng-click=\"sendInvitation(user)\" class=\"btn btn-xs btn-default\" ng-disabled=\"user.isSendingInvite\">\\n              <span ng-show=\"user.isSendingInvite\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n              {{\\'mnoe_admin_panel.dashboard.users.widget.local_list.resend_invite\\' | translate}}\\n            </button>\\n            <button ng-show=\"user.status === \\'notify\\'\" uib-tooltip=\"{{ \\'mnoe_admin_panel.dashboard.users.widget.local_list.notify_email\\' | translate }}\" ng-click=\"sendInvitation(user)\" class=\"btn btn-xs btn-warning\" ng-disabled=\"user.isSendingInvite\">\\n              <span ng-show=\"user.isSendingInvite\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n              {{\\'mnoe_admin_panel.dashboard.users.widget.local_list.notify\\' | translate}}\\n            </button>\\n            <button ng-show=\"user.status === \\'notified\\'\" class=\"btn btn-xs btn-default disabled\" ng-disabled=\"true\">\\n              {{\\'mnoe_admin_panel.dashboard.users.widget.local_list.notify\\' | translate}}\\n            </button>\\n            <span ng-show=\"user.status === \\'active\\'\" translate>mnoe_admin_panel.dashboard.users.widget.local_list.active</span>\\n          </td>\\n          <td ng-if=\"isImpersonationEnabled\">\\n            <button ng-if=\"!impersonationDisabledText(user)\" class=\"btn btn-xs btn-primary center-block\" ng-click=\"impersonateUser(user)\" translate>mnoe_admin_panel.dashboard.users.widget.local_list.login_as</button>\\n            <div ng-if=\"::impersonationDisabledText(user)\" uib-tooltip=\"{{ ::impersonationDisabledText(user) | translate }}\" tooltip-enable=\"user\" class=\"center-block\" style=\"cursor: not-allowed\">\\n              <button class=\"btn btn-xs btn-primary center-block\" style=\"pointer-events: none\" disabled=\"disabled\" translate>mnoe_admin_panel.dashboard.users.widget.local_list.login_as</button>\\n            </div>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </mno-widget-body>\\n</mno-widget>\\n');\n$templateCache.put('app/views/audit-log/audit-log.html','<div id=\"audit-log\" class=\"row\">\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <div class=\"btn-group pull-right top-buffer-1\">\\n      <a type=\"button\" class=\"btn btn-primary\" href=\"/mnoe/jpi/v1/admin/audit_events.csv\">\\n        <i class=\"fa fa-download\"></i>\\n        {{\\'mnoe_admin_panel.dashboard.audit_log.main.export\\' | translate}}\\n      </a>\\n    </div>\\n  </div>\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <mnoe-audit-events-list></mnoe-audit-events-list>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/customers/customers.html','<div id=\"customers\">\\n  <div class=\"row\">\\n    <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n      <mno-kpi class=\"kpi-color-1\" description=\"{{\\'mnoe_admin_panel.dashboard.customers.main.kpi_users\\' | translate}}\" icon=\"fa-users\" value=\"{{vm.users.totalCount}}\" loading=\"!vm.users.totalCount\"></mno-kpi>\\n    </div>\\n\\n    <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n      <mno-kpi class=\"kpi-color-2\" description=\"{{\\'mnoe_admin_panel.dashboard.customers.main.kpi_organizations\\' | translate}}\" icon=\"fa-sitemap\" value=\"{{vm.organizations.totalCount}}\" loading=\"!vm.organizations.totalCount\"></mno-kpi>\\n\\n    </div>\\n  </div>\\n\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\" ng-if=\"::main.adminConfig.isOrganizationManagementEnabled()\">\\n      <div class=\"btn-group pull-right top-buffer-1\" uib-dropdown keyboard-nav>\\n        <button id=\"simple-btn-keyboard-nav\" type=\"button\" class=\"btn btn-primary\" uib-dropdown-toggle>\\n          {{\\'mnoe_admin_panel.dashboard.customers.main.new_customer\\' | translate}} &nbsp;<span class=\"caret\"></span>\\n        </button>\\n        <ul class=\"dropdown-menu\" uib-dropdown-menu role=\"menu\" aria-labelledby=\"simple-btn-keyboard-nav\">\\n          <li role=\"menuitem\" ng-if=\"::main.adminConfig.isRegistrationEnabled()\"><a href=\"\" ng-click=\"vm.inviteUserModal()\" translate>mnoe_admin_panel.dashboard.customers.main.invite_customer</a></li>\\n          <li role=\"menuitem\"><a ui-sref=\"dashboard.customers.create-step-1\" translate>mnoe_admin_panel.dashboard.customers.main.create_customer</a></li>\\n        </ul>\\n      </div>\\n    </div>\\n    <div class=\"col-xs-12\">\\n      <mnoe-organizations-list view=\"all\"></mnoe-organizations-list>\\n    </div>\\n    <div class=\"col-xs-12\">\\n      <mnoe-users-list view=\"all\"></mnoe-users-list>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/dashboard-templates/dashboard-templates.html','<div class=\"row dashboard-templates\">\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <div class=\"btn-group pull-right top-buffer-1\">\\n      <impac-dashboard-create on-create-dashboard=\"vm.createDashboard(dashboard)\" btn-class=\"btn-primary\">\\n    </div>\\n  </div>\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <mnoe-dashboard-templates-list></mnoe-dashboard-templates-list>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/finance/finance.html','<div id=\"finance\" class=\"row\">\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n    <mno-kpi class=\"kpi-color-1\" description=\"{{\\'mnoe_admin_panel.dashboard.finance.current_billing\\' | translate}}\" icon=\"fa-file-text-o\" value=\"{{vm.invoices.currentBillingAmount.amount}}\" unit=\"{{vm.invoices.currentBillingAmount.currency}}\" loading=\"!vm.invoices.currentBillingAmount\">\\n    </mno-kpi>\\n  </div>\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n    <mno-kpi class=\"kpi-color-2\" description=\"{{\\'mnoe_admin_panel.dashboard.finance.last_customer_invoicing\\' | translate}}\" icon=\"fa-file-text-o\" value=\"{{vm.invoices.lastInvoicingAmount.amount}}\" unit=\"{{vm.invoices.lastInvoicingAmount.currency}}\" loading=\"!vm.invoices.lastInvoicingAmount\">\\n    </mno-kpi>\\n  </div>\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n    <mno-kpi class=\"kpi-color-3\" description=\"{{\\'mnoe_admin_panel.dashboard.finance.last_revenue\\' | translate}}\" icon=\"fa-file-text-o\" value=\"{{vm.invoices.lastPortfolioAmount.amount}}\" unit=\"{{vm.invoices.lastPortfolioAmount.currency}}\" loading=\"!vm.invoices.lastPortfolioAmount\">\\n    </mno-kpi>\\n  </div>\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n    <mno-kpi class=\"kpi-color-4\" description=\"{{\\'mnoe_admin_panel.dashboard.finance.last_commission\\' | translate}}\" icon=\"fa-file-text-o\" value=\"{{vm.invoices.lastCommissionAmount.amount}}\" unit=\"{{vm.invoices.lastCommissionAmount.currency}}\" loading=\"!vm.invoices.lastCommissionAmount\">\\n    </mno-kpi>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-6\">\\n    <mno-widget icon=\"fa-exclamation-circle\" heading=\"{{\\'mnoe_admin_panel.dashboard.finance.customer_accounts_in_arrears\\' | translate}}\">\\n      <mno-widget-header></mno-widget-header>\\n      <mno-widget-body class=\"large no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table\">\\n            <thead>\\n              <tr>\\n                <th translate>mnoe_admin_panel.dashboard.finance.table.organization</th>\\n                <th translate>mnoe_admin_panel.dashboard.finance.table.amount</th>\\n                <th translate>mnoe_admin_panel.dashboard.finance.table.reason</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr ng-repeat=\"arrear in vm.organizations.inArrears\">\\n                <td>{{arrear.name}}</td>\\n                <td ng-if=\"arrear.amount\">{{arrear.amount.options.iso_code}} {{arrear.amount.value}}</td>\\n                <td ng-if=\"!arrear.amount\">-</td>\\n                <td>{{arrear.category}}</td>\\n              </tr>\\n              <!-- <tr ng-repeat=\"orgaInArrear in vm.invoices.organizationsInArrears\">\\n                <td><a ui-sref=\"dashboard.customers.organization({orgId: orgaInArrear.id})\">{{orgaInArrear.name}}</a></td>\\n                <td>AUD 56.00</td>\\n              </tr> -->\\n            </tbody>\\n          </table>\\n        </div>\\n      </mno-widget-body>\\n    </mno-widget>\\n  </div>\\n  <div class=\"col-lg-6\">\\n    <mno-widget icon=\"fa-file-text-o\" heading=\"{{\\'mnoe_admin_panel.dashboard.finance.current_billing.your+partner_report\\' | translate}}\" is-loading=\"!vm.invoices.tenantInvoices\">\\n      <mno-widget-header></mno-widget-header>\\n      <mno-widget-body class=\"large no-padding\">\\n        <div class=\"table-responsive\">\\n          <table class=\"table\">\\n            <thead>\\n              <tr>\\n                <th translate>mnoe_admin_panel.dashboard.finance.table.start</th>\\n                <th translate>mnoe_admin_panel.dashboard.finance.table.end</th>\\n                <th translate>mnoe_admin_panel.dashboard.finance.table.revenue</th>\\n                <th translate>mnoe_admin_panel.dashboard.finance.table.commission</th>\\n                <th class=\"text-center\" translate>mnoe_admin_panel.dashboard.finance.table.paid</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr ng-repeat=\"invoice in vm.invoices.tenantInvoices\">\\n                <td>{{invoice.started_at | date: \\'dd/MM/yyyy\\'}}</td>\\n                <td>{{invoice.ended_at | date: \\'dd/MM/yyyy\\'}}</td>\\n                <td>{{invoice.total_portfolio_amount.options.iso_code}} {{invoice.total_portfolio_amount.value}}</td>\\n                <td>{{invoice.total_commission_amount.options.iso_code}} {{invoice.total_commission_amount.value}}</td>\\n                <td class=\"text-center\">\\n                  <span ng-if=\"invoice.paid_at\" class=\"text-success\" translate>mnoe_admin_panel.dashboard.finance.table.yes</span>\\n                  <span ng-if=\"!invoice.paid_at\" class=\"text-danger\" translate>mnoe_admin_panel.dashboard.finance.table.no</span>\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </div>\\n      </mno-widget-body>\\n    </mno-widget>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/home/home.html','<div id=\"home\" class=\"row\">\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n    <mno-kpi class=\"kpi-color-1\" description=\"{{\\'mnoe_admin_panel.dashboard.home.kpi.users\\' | translate}}\" icon=\"fa-users\" value=\"{{vm.users.kpi.total_count}}\" loading=\"!vm.users.kpi\" mno-ui-sref=\"dashboard.customers\" link-text=\"{{\\'mnoe_admin_panel.dashboard.home.kpi.users.link_text\\' | translate:{\\'quantity\\': vm.users.kpi.new_month_count} }}\"></mno-kpi>\\n  </div>\\n\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\">\\n    <mno-kpi class=\"kpi-color-2\" description=\"{{\\'mnoe_admin_panel.dashboard.home.kpi.organizations\\' | translate}}\" icon=\"fa-sitemap\" value=\"{{vm.organizations.kpi.total_count}}\" loading=\"!vm.organizations.kpi\" mno-ui-sref=\"dashboard.customers\" link-text=\"{{vm.organisationKpiLocale | translate:{\\'quantity\\': vm.organizations.kpi.with_cc_count} }}\"></mno-kpi>\\n  </div>\\n\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\" ng-if=\"::main.adminConfig.isFinanceEnabled()\">\\n    <mno-kpi class=\"kpi-color-3\" description=\"{{\\'mnoe_admin_panel.dashboard.home.kpi.last_customer_invoicing\\' | translate}}\" icon=\"fa-file-text-o\" value=\"{{vm.invoices.lastInvoicingAmount.amount}}\" unit=\"{{vm.invoices.lastInvoicingAmount.currency}}\" loading=\"!vm.invoices.lastInvoicingAmount\" mno-ui-sref=\"dashboard.finance\" link-text=\"{{\\'mnoe_admin_panel.dashboard.home.kpi.last_customer_invoicing.link_text\\' | translate}}\"></mno-kpi>\\n  </div>\\n\\n  <div class=\"col-lg-3 col-md-6 col-xs-12\" ng-if=\"::main.adminConfig.isFinanceEnabled()\">\\n    <mno-kpi class=\"kpi-color-4\" description=\"{{\\'mnoe_admin_panel.dashboard.home.kpi.to_be_paid\\' | translate}}\" icon=\"fa-money\" value=\"{{vm.invoices.outstandingAmount.amount}}\" unit=\"{{vm.invoices.outstandingAmount.currency}}\" loading=\"!vm.invoices.outstandingAmount\" mno-ui-sref=\"dashboard.finance\" link-text=\"{{\\'mnoe_admin_panel.dashboard.home.kpi.to_be_paid.link_text\\' | translate}}\"></mno-kpi>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-md-6\">\\n    <mnoe-users-list view=\"last\"></mnoe-users-list>\\n  </div>\\n  <div class=\"col-md-6\">\\n    <mnoe-organizations-list view=\"last\"></mnoe-organizations-list>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/impac/impac.html','<div id=\"impac\">\\n  <div class=\"top-navigation\">\\n    <a class=\"back\" ui-sref=\"dashboard.dashboard-templates\">\\n      &lt;&lt; {{ \\'mnoe_admin_panel.dashboard.dashboard_templates.back_link\\' | translate }}\\n    </a>\\n    <toggle class=\"pull-right\" ng-show=\"vm.currentDashboard\" ng-model=\"vm.currentDashboard.published\" ng-change=\"vm.toggleTemplatePublished(vm.currentDashboard.id)\" on=\"{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.published\\' | translate }}\" off=\"{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.draft\\' | translate }}\" uib-tooltip=\"{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.published_state_tooltip\\' | translate }}\"></toggle>\\n  </div>\\n\\n  <impac-dashboard>\\n</div>\\n');\n$templateCache.put('app/views/organization/organization.html','<div id=\"organization\">\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\">\\n      <h1 translate>mnoe_admin_panel.dashboard.organization.organization_info</h1>\\n\\n      <mno-widget is-loading=\"!vm.organization.invoices\" icon=\"fa-sitemap\" heading=\"{{vm.organization.name}}\">\\n        <mno-widget-header></mno-widget-header>\\n        <mno-widget-body>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-xs-6\">\\n              <div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.organization.uid</div>\\n            </div>\\n            <div class=\"col-xs-6\">\\n              {{vm.organization.uid}}\\n            </div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-xs-6\">\\n              <div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.organization.account_frozen</div>\\n            </div>\\n            <div class=\"col-xs-6\">\\n              <span ng-if=\"vm.organization.account_frozen\" translate>mnoe_admin_panel.dashboard.organization.account_frozen.yes</span>\\n              <span ng-if=\"!vm.organization.account_frozen\" translate=\"\">mnoe_admin_panel.dashboard.organization.account_frozen.no</span>\\n            </div>\\n          </div>\\n          <div class=\"bs-row row\" ng-if=\"::main.adminConfig.isPaymentEnabled()\">\\n            <div class=\"col-xs-6\">\\n              <div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.organization.credit_card</div>\\n            </div>\\n            <div class=\"col-xs-6\">\\n              <span ng-if=\"vm.organization.credit_card.presence\" class=\"text-success\" translate>mnoe_admin_panel.dashboard.organization.credit_card.presence.yes</span>\\n              <span ng-if=\"!vm.organization.credit_card.presence\" class=\"text-danger\" translate=\"\">mnoe_admin_panel.dashboard.organization.credit_card.presence.no</span>\\n            </div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-sm-6\">\\n              <div class=\"label-cell\">{{\\'mnoe_admin_panel.dashboard.organization.active_apps\\' | translate}}\\n                <a ng-if=\"vm.organization.active_apps.length > 0 && vm.hasDisconnectedApps\" ui-sref=\"dashboard.customers.connect-app({orgId: vm.organization.id})\" translate>mnoe_admin_panel.dashboard.organization.connect_apps</a>\\n              </div>\\n            </div>\\n            <div class=\"col-sm-6\">\\n              <div class=\"bs-row row apps-box\">\\n                <div class=\"app-wrapper col-xs-6 col-sm-4 col-md-3\" ng-repeat=\"app in vm.organization.active_apps\">\\n                  <div class=\"small-app-card ellipsis\">\\n                    <i ng-if=\"::main.adminConfig.isAppManagementEnabled()\" class=\"fa fa-trash app-remove\" ng-click=\"vm.openRemoveAppModal(app, $index)\" uib-tooltip=\"{{\\'mnoe_admin_panel.dashboard.organization.remove_app\\' | translate:{\\'app_name\\': app.app_name} }}\" tooltip-append-to-body=\"true\"></i>\\n                    <i ng-show=\"vm.status[app.nid]\" class=\"fa fa-check-circle app-state state-success\" uib-tooltip=\"{{\\'mnoe_admin_panel.dashboard.organization.app_connected\\' | translate:{\\'app_name\\': app.app_name} }}\" tooltip-append-to-body=\"true\"></i>\\n                    <i ng-show=\"!vm.status[app.nid]\" class=\"fa fa-exclamation-circle app-state state-warning\" uib-tooltip=\"{{\\'mnoe_admin_panel.dashboard.organization.app_not_connected\\' | translate:{\\'app_name\\': app.app_name} }}\" tooltip-append-to-body=\"true\"></i>\\n                    <img ng-src=\"{{::app.app_logo}}\" width=\"60\">\\n                    <span>{{::app.app_name}}</span>\\n                  </div>\\n                </div>\\n                <div class=\"app-wrapper col-xs-6 col-sm-4 col-md-3\" ng-if=\"::main.adminConfig.isAppManagementEnabled()\">\\n                  <div class=\"small-app-card ellipsis add-app\" ng-click=\"vm.openAddAppModal()\">\\n                    <span>{{\\'mnoe_admin_panel.dashboard.organization.add_an_app\\' | translate}}<i class=\"fa fa-plus\"></i></span>\\n                  </div>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </mno-widget-body>\\n      </mno-widget>\\n    </div>\\n  </div>\\n  <div class=\"row\" ng-if=\"::main.adminConfig.isUserManagementEnabled()\">\\n    <div class=\"col-xs-12 top-buffer-1\">\\n      <button role=\"button\" ng-click=\"vm.users.createUserModal()\" ng-disabled=\"!vm.organization\" class=\"btn btn-primary\" translate>\\n        mnoe_admin_panel.dashboard.organization.add_a_user\\n      </button>\\n    </div>\\n  </div>\\n  <div class=\"row\">\\n    <div class=\"col-md-6\">\\n      <mnoe-users-local-list list=\"vm.organization.members\" organization=\"vm.organization\" view=\"all\"></mnoe-users-local-list>\\n    </div>\\n    <div class=\"col-md-6\" ng-if=\"::main.adminConfig.isFinanceEnabled()\">\\n      <mno-widget icon=\"fa-file-text-o\" heading=\"{{\\'mnoe_admin_panel.dashboard.organization.invoices.title\\' | translate}}\" is-loading=\"!vm.organization.invoices\">\\n        <mno-widget-header></mno-widget-header>\\n        <mno-widget-body class=\"medium no-padding\">\\n          <div class=\"table-responsive\">\\n            <table class=\"table\">\\n              <thead>\\n                <tr>\\n                  <th translate>mnoe_admin_panel.dashboard.organization.invoices.table.start</th>\\n                  <th translate>mnoe_admin_panel.dashboard.organization.invoices.table.end</th>\\n                  <th translate>mnoe_admin_panel.dashboard.organization.invoices.table.amount</th>\\n                  <th class=\"text-center\" translate>mnoe_admin_panel.dashboard.organization.invoices.table.paid</th>\\n                  <th class=\"text-center\"></th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <tr ng-repeat=\"invoice in vm.organization.invoices\">\\n                  <td>{{invoice.started_at | date: \\'dd/MM/yyyy\\'}}</td>\\n                  <td>{{invoice.ended_at | date: \\'dd/MM/yyyy\\'}}</td>\\n                  <td>{{invoice.amount.options.iso_code}} {{invoice.amount.value}}</td>\\n                  <td class=\"text-center\">\\n                    <span ng-if=\"invoice.paid\" class=\"text-success\" translate>mnoe_admin_panel.dashboard.organization.invoices.table.yes</span>\\n                    <span ng-if=\"!invoice.paid\" class=\"text-danger\" translate>mnoe_admin_panel.dashboard.organization.invoices.table.no</span>\\n                  </td>\\n                  <td class=\"text-center\">\\n                    <a ng-if=\"invoice.link\" ng-href=\"{{invoice.link}}\" target=\"_blank\">\\n                      <i class=\"fa fa-cloud-download\"></i>\\n                    </a>\\n                  </td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n        </mno-widget-body>\\n      </mno-widget>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/questions/questions.html','<div class=\"row\">\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <mnoe-questions-list></mnoe-questions-list>\\n  </div>\\n</div>');\n$templateCache.put('app/views/reviews/reviews.html','<div class=\"row\">\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <mnoe-reviews-list></mnoe-reviews-list>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/staff/staff.html','<div class=\"row\">\\n  <div class=\"col-xs-12\">\\n    <h1 translate><i class=\"fa fa-user\"></i>mnoe_admin_panel.dashboard.staff.staff_info</h1>\\n    <mno-widget is-loading=\"!vm.staff\" icon=\"fa-users\" heading=\"{{vm.staff.name + \\' \\' + vm.staff.surname}}\">\\n      <mno-widget-header></mno-widget-header>\\n      <mno-widget-body>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.uid</div></div>\\n          <div class=\"col-md-3\">{{vm.staff.uid}}</div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.name</div></div>\\n          <div class=\"col-md-3\">\\n            <input type=\"text\" class=\"form-control input-sm\" ng-model=\"vm.staff.name\" required>\\n          </div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.surname</div></div>\\n          <div class=\"col-md-3\">\\n            <input type=\"text\" class=\"form-control input-sm\" ng-model=\"vm.staff.surname\" required>\\n          </div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.email</div></div>\\n          <div class=\"col-md-3\">{{vm.staff.email}}</div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.admin_role</div></div>\\n          <div class=\"col-md-3\">\\n            <span ng-if=\"!vm.isAdmin\">{{vm.staff.adminRoleName() | translate}}</span>\\n            <select ng-model=\"vm.staff.admin_role\" ng-if=\"vm.isAdmin\" class=\"form-control input-sm\">\\n              <option value=\"{{role.value}}\" ng-repeat=\"role in vm.adminRoles\">{{ role.label | translate }}</option>\\n            </select>\\n          </div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.created_at</div></div>\\n          <div class=\"col-sm-3\">{{vm.staff.created_at | amCalendar }}</div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.updated_at</div></div>\\n          <div class=\"col-sm-3\">{{vm.staff.updated_at | amCalendar }}</div>\\n        </div>\\n        <div class=\"bs-row row\" ng-if=\"vm.isSubTenantEnabled\">\\n          <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.staff.sub_tenant</div></div>\\n          <div class=\"col-sm-3\" ng-show=\"vm.subTenants\">\\n            <span ng-if=\"!vm.isAdmin\">{{vm.staff.subTenantName()}}</span>\\n\\n            <select ng-if=\"vm.isAdmin\" ng-options=\"subtenant.id as subtenant.name for subtenant in vm.subTenants\" class=\"form-control input-sm\" ng-model=\"vm.staff.mnoe_sub_tenant_id\">\\n              <option value=\"\"></option>\\n            </select>\\n          </div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-sm-3\">\\n            <button class=\"btn btn-primary\" ng-show=\"vm.staff\" ng-disabled=\"vm.isSaving\" ng-click=\"vm.updateStaff()\" translate>\\n              <span ng-show=\"vm.isSaving\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n              mnoe_admin_panel.dashboard.staff.update_staff\\n            </button>\\n          </div>\\n        </div>\\n      </mno-widget-body>\\n    </mno-widget>\\n\\n    <div class=\"bs-row\" ng-if=\"vm.staff && vm.staff.admin_role_was ==\\'staff\\' && vm.isAccountManagerEnabled\">\\n      <div class=\"col-sm-12\">\\n        <h2><i class=\"fa fa-users\"></i> Clients</h2>\\n        <button class=\"btn btn-primary center-block\" ng-show=\"vm.staff\" ng-click=\"vm.updateClientsModal()\" translate>mnoe_admin_panel.dashboard.staff.add_remove_clients</button>\\n        <mnoe-organizations-local-list list=\"vm.staff.clients\" view=\"all\"></mnoe-organizations-local-list>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/staffs/staffs.html','<div class=\"row\">\\n  <div class=\"col-xs-8 col-lg-offset-1 top-buffer-1\">\\n    <button role=\"button\" ng-click=\"vm.staff.createModal()\" class=\"btn btn-primary\" translate>\\n      mnoe_admin_panel.dashboard.staffs.add_staff\\n    </button>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <mnoe-staffs-list view=\"all\"></mnoe-staffs-list>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/sub-tenant/sub-tenant.html','<div class=\"row\">\\n  <div class=\"col-xs-12\">\\n    <h1 translate><i class=\"fa fa-institution\"></i>mnoe_admin_panel.dashboard.sub_tenant.sub_tenant_info</h1>\\n    <mno-widget is-loading=\"!vm.subTenant\" icon=\"fa-sitemap\" heading=\"{{vm.subTenant.name}}\">\\n      <mno-widget-header></mno-widget-header>\\n      <mno-widget-body>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.sub_tenant.name</div></div>\\n          <div class=\"col-md-3\">{{::vm.subTenant.name}}</div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.sub_tenant.created_at</div></div>\\n          <div class=\"col-sm-3\">{{vm.subTenant.created_at | amCalendar }}</div>\\n        </div>\\n        <div class=\"bs-row row\">\\n          <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.sub_tenant.updated_at</div></div>\\n          <div class=\"col-sm-3\">{{vm.subTenant.updated_at | amCalendar}}</div>\\n        </div>\\n      </mno-widget-body>\\n    </mno-widget>\\n\\n    <div class=\"bs-row\">\\n      <div class=\"col-sm-6\">\\n        <h2 translate><i class=\"fa fa-users\"></i>mnoe_admin_panel.dashboard.sub_tenant.clients</h2>\\n        <button class=\"btn btn-primary center-block\" ng-show=\"vm.subTenant\" ng-click=\"vm.updateClientsModal()\" translate>mnoe_admin_panel.dashboard.sub_tenant.add_remove_clients</button>\\n        <mnoe-organizations-local-list list=\"vm.subTenant.clients\" view=\"all\"></mnoe-organizations-local-list>\\n      </div>\\n      <div class=\"col-sm-6\"><h2 translate><i class=\"fa fa-users\"></i> mnoe_admin_panel.dashboard.sub_tenant.account_managers</h2>\\n        <button class=\"btn btn-primary center-block\" ng-show=\"vm.subTenant\" ng-click=\"vm.updateAccountManagerModal()\" translate>mnoe_admin_panel.dashboard.sub_tenant.add_remove_account_managers</button>\\n        <mnoe-staffs-local-list list=\"vm.subTenant.account_managers\" view=\"all\"></mnoe-staffs-local-list>\\n      </div>\\n    </div>\\n\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/sub-tenants/sub-tenants.html','<div class=\"row\">\\n  <div class=\"col-xs-8 col-lg-offset-1 top-buffer-1\">\\n    <button role=\"button\" ng-click=\"vm.createModal()\" class=\"btn btn-primary\" translate>\\n      mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.title\\n    </button>\\n  </div>\\n</div>\\n\\n<div class=\"row\">\\n  <div class=\"col-lg-10 col-lg-offset-1 col-md-12\">\\n    <mnoe-sub-tenants-list></mnoe-sub-tenants-list>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/user/user.html','<div class=\"row\">\\n  <div class=\"col-xs-12\">\\n    <h1><i class=\"fa fa-users\"></i>{{\\'mnoe_admin_panel.dashboard.user.subtitle\\' | translate}}</h1>\\n    <div class=\"panel panel-default top-buffer-2\">\\n      <div class=\"panel-heading\" ng-show=\"vm.user\">\\n        <h3 ng-show=\"vm.user.name && vm.user.surname\" class=\"panel-title\">{{::vm.user.name}} {{::vm.user.surname}}</h3>\\n        <h3 ng-show=\"!vm.user.name && !vm.user.surname\" class=\"panel-title\">{{::vm.user.email}}</h3>\\n      </div>\\n      <div class=\"panel-body\">\\n        <mno-loading-ellipsis ng-show=\"!vm.user\"></mno-loading-ellipsis>\\n        <div ng-show=\"vm.user\">\\n          <div class=\"bs-row row\">\\n            <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.email</div></div>\\n            <div class=\"col-md-3\">{{::vm.user.email}}</div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.uid</div></div>\\n            <div class=\"col-md-3\">{{::vm.user.uid}}</div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-md-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.phone</div></div>\\n            <div class=\"col-md-3\">{{vm.user.phone || \\'mnoe_admin_panel.dashboard.user.table.phone.none\\' | translate}}</div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.admin_role</div></div>\\n            <div class=\"col-sm-3\">{{vm.user.admin_role || \\'mnoe_admin_panel.dashboard.user.table.admin_role.none\\' | translate}}</div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.created_at</div></div>\\n            <div class=\"col-sm-3\">{{vm.user.created_at | amCalendar }}</div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.confirmed</div></div>\\n            <div class=\"col-sm-3\">{{(vm.user.confirmed_at | amCalendar) || \\'mnoe_admin_panel.dashboard.user.table.never_confirmed\\' | translate}}</div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.last_sign_in</div></div>\\n            <div class=\"col-sm-3\">{{(vm.user.last_sign_in_at | amCalendar) || \\'mnoe_admin_panel.dashboard.user.table.never_signed_in\\' | translate}}</div>\\n          </div>\\n          <div class=\"bs-row row\">\\n            <div class=\"col-sm-3\"><div class=\"label-cell\" translate>mnoe_admin_panel.dashboard.user.table.number_of_sign_in</div></div>\\n            <div class=\"col-sm-3\">{{vm.user.sign_in_count}}</div>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\"bs-row\">\\n      <div class=\"col-sm-4 col-sm-offset-4\" ng-if=\"::main.adminConfig.isImpersonationEnabled()\">\\n        <button ng-if=\"!vm.user.admin_role\" class=\"btn btn-primary center-block\" ng-click=\"vm.impersonateUser()\" translate>mnoe_admin_panel.dashboard.user.login_button</button>\\n        <div ng-if=\"vm.user.admin_role\" uib-tooltip=\"{{ \\'mnoe_admin_panel.dashboard.users.widget.local_list.disabled_tooltip_for_role\\' | translate }}\" tooltip-enable=\"vm.user\" style=\"display:inline-block; cursor: not-allowed\">\\n          <button class=\"btn btn-primary center-block\" style=\"pointer-events: none\" disabled=\"disabled\" translate>mnoe_admin_panel.dashboard.user.login_button</button>\\n        </div>\\n      </div>\\n      <div class=\"col-sm-12 top-buffer-2\">\\n        <mnoe-organizations-local-list list=\"vm.user.organizations\" view=\"all\"></mnoe-organizations-local-list>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/customers/app-connect-modal/app-connect-modal-myob.html','<div id=\"app-connect-modal\">\\n  <div class=\"modal-header\">\\n    <div class=\"close\" type=\"button\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.customers.connect_app.myob.close\\' | translate }}\" ng-click=\"vm.close()\">\\xD7</div>\\n    <h3 class=\"modal-title\" translate-values=\"{app_name: vm.app.name}\" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.title</h3>\\n  </div>\\n  <div class=\"modal-body\">\\n    <h4 class=\"text-center\" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.version.title</h4>\\n    <div class=\"top-buffer-2\"></div>\\n\\n    <form>\\n      <input type=\"hidden\" ng-model=\"vm.form.perform\">\\n      <div class=\"top-buffer-1\"></div>\\n\\n      <div class=\"form-group text-center\">\\n        <label translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.version.label</label>\\n        <select ng-model=\"vm.form.version\" name=\"version\" ng-options=\"version.value as version.label | translate for version in vm.versions\"></select>\\n      </div>\\n    </form>\\n  </div>\\n\\n  <div class=\"modal-footer\">\\n    <button type=\"submit\" class=\"btn btn-primary\" ng-click=\"vm.connect(vm.form)\" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.connect</button>\\n    <button class=\"btn btn-default\" ng-click=\"vm.close()\" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.cancel</button>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/customers/app-connect-modal/app-connect-modal-xero.html','<div id=\"app-connect-modal\">\\n  <div class=\"modal-header\">\\n    <div class=\"close\" type=\"button\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.customers.connect_app.xero.close\\' | translate}}\" ng-click=\"vm.close()\">\\xD7</div>\\n    <h3 class=\"modal-title\" translate-values=\"{app_name: vm.app.name}\" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.title</h3>\\n  </div>\\n\\n  <div class=\"modal-body\">\\n    <h4 class=\"text-center\" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.description</h4>\\n    <div class=\"top-buffer-1\"></div>\\n\\n    <form>\\n      <input type=\"hidden\" ng-model=\"vm.form.perform\">\\n      <div class=\"top-buffer-2\"></div>\\n      <div class=\"form-group text-center\">\\n        <h5 translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.payroll_description</h5>\\n        <label translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.payroll</label>\\n        <input type=\"checkbox\" ng-model=\"vm.payroll\" name=\"extra_params[]\">\\n      </div>\\n      <div class=\"form-group text-center\" ng-if=\"vm.payroll\" ng-cloak=\"true\">\\n        <h5 translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.country</h5>\\n        <select ng-model=\"vm.form.xero_country\" name=\"xero_country\" ng-options=\"country.value as country.label | translate for country in vm.countries\"></select>\\n      </div>\\n    </form>\\n  </div>\\n\\n  <div class=\"modal-footer\">\\n    <button type=\"submit\" class=\"btn btn-primary\" ng-click=\"vm.connect(vm.form)\" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.connect</button>\\n    <button class=\"btn btn-default\" ng-click=\"vm.close()\" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.cancel</button>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/customers/connect-app/connect-app.html','<div id=\"create-step-1\">\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\">\\n      <h1 translate>mnoe_admin_panel.dashboard.customers.connect_app.connect_your_customer_apps</h1>\\n\\n      <mno-widget class=\"top-buffer-2\" is-loading=\"vm.isLoading\" icon=\"fa-plug fa-cloud\" heading=\"{{\\'mnoe_admin_panel.dashboard.customers.connect_app.organization_name_cloud_apps\\' | translate:{\\'organization_name\\': vm.organization.name} }}\">\\n        <mno-widget-header></mno-widget-header>\\n        <mno-widget-body class=\"no-padding\">\\n          <table class=\"table table-layout-fixed\">\\n            <thead>\\n              <tr>\\n                <th translate>mnoe_admin_panel.dashboard.customers.connect_app.app</th>\\n                <th style=\"width: 33%\" translate>mnoe_admin_panel.dashboard.customers.connect_app.state</th>\\n                <th style=\"width: 75px\" translate>mnoe_admin_panel.dashboard.customers.connect_app.action</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              <tr ng-repeat=\"app in vm.organization.active_apps | filter : {stack: \\'connector\\'}\">\\n                <td class=\"nowrap\">\\n                  <img class=\"small-app-logo\" ng-src=\"{{::main.trustSrc(app.app_logo)}}\" alt=\"{{ \\'mnoe_admin_panel.dashboard.customers.connect_app.alt_app_logo\\' | translate:{\\'app_name\\': app.name} }}\">\\n                  <span class=\"app-name\">{{::app.name}}</span>\\n                </td>\\n                <td>\\n                  <div ng-show=\"!vm.mnoAppInstances.isOauthConnected(app)\">\\n                    <i class=\"fa fa-exclamation-triangle text-danger\"></i>\\n                    <span translate>mnoe_admin_panel.dashboard.customers.connect_app.not_connected</span>\\n                  </div>\\n                  <div ng-show=\"vm.mnoAppInstances.isOauthConnected(app)\">\\n                    <i class=\"fa fa-check-square-o text-success\"></i>\\n                    <span translate>mnoe_admin_panel.dashboard.customers.connect_app.connected</span>\\n                  </div>\\n                </td>\\n                <td>\\n                  <a class=\"btn-connect\" href=\"\" ng-show=\"!vm.mnoAppInstances.isOauthConnected(app)\" ng-click=\"vm.connectAppInstance(app)\" translate>mnoe_admin_panel.dashboard.customers.connect_app.connect</a>\\n                </td>\\n              </tr>\\n            </tbody>\\n          </table>\\n        </mno-widget-body>\\n      </mno-widget>\\n\\n      <button type=\"button\" class=\"btn btn-primary pull-right top-buffer-2\" ui-sref=\"dashboard.customers.organization({ orgId: vm.orgId })\">\\n        {{\\'mnoe_admin_panel.dashboard.customers.connect_app.next\\' | translate}} &nbsp;<i class=\"fa fa-chevron-right\"></i>\\n      </button>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/customers/create-step-1/create-step-1.html','<div id=\"create-step-1\">\\n  <div class=\"row\">\\n    <div class=\"col-xs-12\">\\n      <h1 translate>mnoe_admin_panel.dashboard.customers.create_customer.create_customer</h1>\\n\\n      <form name=\"vm.form\" novalidate>\\n        <mno-widget id=\"org-form\" icon=\"fa-sitemap\" heading=\"{{\\'mnoe_admin_panel.dashboard.customers.create_customer.organization_details\\' | translate}}\" class=\"top-buffer-2\">\\n          <mno-widget-header></mno-widget-header>\\n          <mno-widget-body>\\n            <div class=\"flex-container flex-center\">\\n              <div class=\"form-group flex-50\">\\n                <label class=\"control-label\" for=\"organization-name\" translate>mnoe_admin_panel.dashboard.customers.create_customer.organization_name</label>\\n                <input id=\"organization-name\" name=\"{{\\'mnoe_admin_panel.dashboard.customers.create_customer.name\\' | translate}}\" type=\"text\" ng-model=\"vm.organization.name\" class=\"form-control\" required>\\n                <div ng-messages=\"vm.form.name.$error\" role=\"alert\" ng-if=\"vm.form.name.$dirty || vm.form.$submitted\">\\n                  <p ng-message=\"required\" class=\"text-danger\" translate>mnoe_admin_panel.dashboard.customers.create_customer.required.name</p>\\n                  <p ng-message=\"server\" class=\"help-block\" translate-value-error=\"{{ main.errorHandler.errorMessage(\\'name\\') }}\" translate>mnoe_admin_panel.dashboard.customers.create_customer.error.name</p>\\n                </div>\\n              </div>\\n            </div>\\n          </mno-widget-body>\\n        </mno-widget>\\n\\n        <mno-widget ng-if=\"::main.adminConfig.isAppManagementEnabled()\" class=\"top-buffer-2\" is-loading=\"!vm.marketplace\" icon=\"fa-rocket\" heading=\"{{\\'mnoe_admin_panel.dashboard.customers.create_customer.select_your_app\\' | translate}}\">\\n          <mno-widget-header>\\n            <input type=\"text\" ng-model=\"vm.appSearch\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.customers.create_customer.search\\' | translate}}\" class=\"form-control input-sm search-bar\">\\n          </mno-widget-header>\\n          <mno-widget-body>\\n            <div class=\"apps-container\">\\n              <div class=\"app-icon\" ng-repeat=\"app in vm.marketplace.apps | filter:{name: vm.appSearch}\">\\n                <div class=\"app-icon-wrapper\" ng-click=\"vm.toggleApp(app)\">\\n                  <div class=\"checked\" ng-show=\"app.checked\">\\n                    <i class=\"fa fa-check fa-5x\"></i>\\n                  </div>\\n                  <img class=\"app-logo img-thumbnail\" ng-src=\"{{::main.trustSrc(app.logo)}}\" alt=\"{{\\'mnoe_admin_panel.dashboard.customers.create_customer.app_logo\\' | translate:{\\'app\\': app.name} }}\" title=\"{{::app.tiny_description}}\">\\n                </div>\\n                <div class=\"app-title\">\\n                  {{::app.name}}\\n                </div>\\n              </div>\\n            </div>\\n          </mno-widget-body>\\n        </mno-widget>\\n\\n        <button type=\"submit\" class=\"btn btn-danger pull-right top-buffer-2\" ng-click=\"vm.submitOrganisation()\" ng-disabled=\"vm.isLoading\">\\n          <span ng-show=\"vm.isLoading\">\\n            <i class=\"fa fa-spinner fa-pulse fa-fw\"></i>\\n          </span>\\n          {{\\'mnoe_admin_panel.dashboard.customers.create_customer.create\\' | translate}}\\n        </button>\\n      </form>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/customers/invite-user-modal/invite-user.html','<div id=\"create-user\">\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.customers.invite_user_modal.invite_a_user</h3>\\n  </div>\\n\\n  <form name=\"vm.form.user\" novalidate>\\n    <div class=\"modal-body\">\\n      <div class=\"row\">\\n        <div class=\"col-sm-6 col-sm-offset-3\">\\n          <input type=\"email\" class=\"form-control input-sm\" id=\"user-email\" ng-model=\"vm.user.email\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.customers.invite_user_modal.email\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.customers.invite_user_modal.email\\' | translate}}\" required>\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n\\n  <div class=\"modal-footer\">\\n    <div class=\"row actions\">\\n      <div class=\"col-xs-12\">\\n        <button type=\"button\" ng-click=\"vm.onSubmit()\" ng-disabled=\"vm.isLoading || vm.form.user.$invalid\" class=\"btn btn-primary\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          {{\\'mnoe_admin_panel.dashboard.customers.invite_user_modal.send\\' | translate}}\\n        </button>\\n        <a href=\"\" ng-click=\"vm.onCancel()\"><i class=\"fa fa-times\"></i>{{\\'mnoe_admin_panel.dashboard.customers.invite_user_modal.cancel\\' | translate}}</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/dashboard-templates/modals/delete-dashboard-template-modal.html','<div id=\"delete-dashboard-template-modal\">\\n  <div class=\"close center\" type=\"button\" ng-click=\"close()\">\\xD7</div>\\n  <div class=\"modal-header\">\\n    <h3>{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.modal.delete_dashboard\\' | translate }}</h3>\\n  </div>\\n  <div class=\"modal-body\">\\n    <p>{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.modal.are_you_sure\\' | translate }}</p>\\n  </div>\\n  <div class=\"modal-footer\">\\n    <div class=\"row\">\\n      <div class=\"col-sm-12\">\\n        <button class=\"btn btn-shaded\" ng-click=\"close()\" ng-hide=\"isLoading\" ng-disabled=\"isLoading\">{{ \\'mnoe_admin_panel.dashboard.dashboard_templates.modal.cancel\\' | translate }}</button>\\n        <button class=\"btn btn-danger\" ng-click=\"delete()\" ng-disabled=\"isLoading\">\\n          <i class=\"fa fa-spinner fa-pulse loader\" ng-if=\"isLoading\"></i>\\n          {{ \\'mnoe_admin_panel.dashboard.dashboard_templates.modal.delete\\' | translate }}\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/organization/add-app-modal/add-app-modal.html','<div id=\"add-app-modal\">\\n  <!-- Modal Header -->\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.organization.add_app.title</h3>\\n    <div class=\"close\" type=\"button\" ng-click=\"vm.closeModal()\">\\xD7</div>\\n  </div>\\n  <!-- Modal Body -->\\n  <div class=\"modal-body\" style=\"max-height:{{vm.modal_height}}\">\\n    <div class=\"alert alert-danger modal-error\" ng-if=\"vm.displayError\">\\n      <div class=\"close\" type=\"button\" ng-click=\"vm.closeError()\">\\xD7</div>\\n        <strong translate>mnoe_admin_panel.dashboard.organization.add_app.error</strong>\\n        {{\\'mnoe_admin_panel.dashboard.organization.add_app.error_message\\' | translate:{\\'app_list\\': vm.ListOfApps} }}\\n      </div>\\n    <div class=\"apps-search\" ng-if=\"!vm.loading.modal\">\\n      <input type=\"search\" ng-model=\"vm.appSearch\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.organization.add_app.search\\' | translate}}\">\\n    </div>\\n    <div class=\"apps-container\">\\n      <div class=\"app-loader\" ng-if=\"vm.loading.modal\">\\n        <i class=\"fa fa-pulse fa-spinner\"></i>\\n      </div>\\n      <div class=\"app-icon\" ng-repeat=\"app in vm.marketplace.filtered_apps | filter:{name: vm.appSearch}\">\\n        <div class=\"app-icon-wrapper\" ng-click=\"vm.toggleApp(app)\">\\n          <div class=\"checked\" ng-show=\"app.checked\">\\n            <i class=\"fa fa-check fa-5x\"></i>\\n          </div>\\n          <img class=\"app-logo img-thumbnail\" ng-src=\"{{app.logo}}\" alt=\"{{::app.name}} logo\" title=\"{{::app.tiny_description}}\">\\n        </div>\\n        <div class=\"app-title\">\\n          {{::app.name}}\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <!-- Modal Footer -->\\n  <div class=\"modal-footer\">\\n    <div class=\"row\">\\n      <div class=\"col-md-12\">\\n        <button ng-click=\"vm.addApps()\" ng-disabled=\"vm.loading.apps\" class=\"btn btn-primary arrow\">\\n          <span ng-show=\"vm.loading.apps\"><i class=\"fa fa-pulse fa-spinner\"></i></span>\\n          {{\\'mnoe_admin_panel.dashboard.organization.add_app.add\\' | translate}}\\n        </button>\\n        <button ng-click=\"vm.closeModal()\" class=\"btn btn-default\" translate>\\n          mnoe_admin_panel.dashboard.organization.add_app.cancel\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/organization/create-user-modal/create-user.html','<div id=\"create-user\">\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.organization.create_user.add</h3>\\n  </div>\\n\\n  <form name=\"vm.form.user\" novalidate>\\n    <div class=\"modal-body\">\\n      <div class=\"row\">\\n        <div class=\"col-sm-6\">\\n          <input type=\"text\" class=\"form-control input-sm\" id=\"user-first-name\" ng-model=\"vm.user.name\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.first_name\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.first_name\\' | translate}}\" required>\\n        </div>\\n        <div class=\"col-sm-6\">\\n          <input type=\"text\" class=\"form-control input-sm\" id=\"user-last-name\" ng-model=\"vm.user.surname\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.last_name\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.last_name\\' | translate}}\" required>\\n        </div>\\n      </div>\\n\\n      <div class=\"row top-buffer-1\">\\n        <div class=\"col-sm-6\">\\n          <input type=\"phone\" class=\"form-control input-sm\" id=\"user-phone\" ng-model=\"vm.user.phone\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.phone\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.phone\\' | translate}}\">\\n        </div>\\n\\n        <div class=\"col-sm-6\">\\n          <input type=\"email\" class=\"form-control input-sm\" name=\"email\" id=\"user-email\" ng-change=\"vm.errorHandler.resetErrors(vm.form.user)\" ng-model=\"vm.user.email\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.email\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.organization.create_user.form.email\\' | translate}}\" required>\\n          <div ng-messages=\"vm.form.user.email.$error\" role=\"alert\" ng-if=\"vm.form.user.email.$dirty || vm.form.user.$submitted\">\\n            <p ng-message=\"server\" class=\"help-block\" translate-value-error=\"{{ vm.errorHandler.errorMessage(\\'email\\') }}\" translate>mnoe_admin_panel.dashboard.organization.create_user.form.error.email</p>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\"row\">\\n        <div class=\"col-sm-6 col-sm-offset-3\">\\n          <select ng-model=\"vm.user.role\" class=\"form-control input-sm top-buffer-1\" ng-options=\"role.value as role.label | translate for role in vm.USER_ROLES\" required>\\n            <option value=\"\" disabled=\"disabled\" selected=\"selected\" style=\"display: none\" translate>mnoe_admin_panel.dashboard.organization.create_user.form.role</option>\\n          </select>\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n\\n  <div class=\"modal-footer\">\\n    <div class=\"row actions\">\\n      <div class=\"col-xs-12\">\\n        <button type=\"button\" ng-click=\"vm.onSubmit()\" ng-disabled=\"vm.isLoading || vm.form.user.$invalid\" class=\"btn btn-primary\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          {{\\'mnoe_admin_panel.dashboard.organization.create_user.save\\' | translate}}\\n        </button>\\n        <a href=\"\" ng-click=\"vm.onCancel()\"><i class=\"fa fa-times\"></i>{{\\'mnoe_admin_panel.dashboard.organization.create_user.cancel\\' | translate}}</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/organization/remove-app-modal/remove-app-modal.html','<div id=\"remove-app-modal\">\\n  <!-- Modal Header -->\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate translate-values=\"{ app_name: vm.app.name}\">mnoe_admin_panel.dashboard.organization.remove_app.title</h3>\\n    <div class=\"close\" type=\"button\" ng-click=\"vm.closeModal()\">\\xD7</div>\\n  </div>\\n  <!-- Modal Body -->\\n  <div class=\"modal-body\">\\n    <p translate>mnoe_admin_panel.dashboard.organization.remove_app.description</p>\\n  </div>\\n  <!-- Modal Footer -->\\n  <div class=\"modal-footer\">\\n    <div class=\"row\">\\n      <div class=\"col-md-12\">\\n        <button ng-click=\"vm.deleteApp()\" class=\"btn btn-danger arrow\" ng-disabled=\"vm.modal.loading\">\\n          <span ng-show=\"vm.modal.loading\">\\n            <i class=\"fa fa-pulse fa-spinner\"></i>\\n          </span>\\n          {{\\'mnoe_admin_panel.dashboard.organization.remove_app.yes\\' | translate}}\\n        </button>\\n        <button ng-click=\"vm.closeModal()\" class=\"btn btn-default\" translate>\\n          mnoe_admin_panel.dashboard.organization.remove_app.no\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/staff/update-staff-clients-modal/update-staff-clients.html','<div id=\"sub-tenant-modal\">\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.staff.update_staff_clients.title</h3>\\n  </div>\\n\\n  <div class=\"modal-body\">\\n    <mno-widget icon=\"fa-sitemap\" heading=\"{{$ctrl.events.widgetTitle}}\" is-loading=\"vm.organizations.loading\">\\n      <mno-widget-header>\\n        {{ \\'mnoe_admin_panel.dashboard.staff.update_staff_clients.title\\' | translate}}\\n        <input type=\"text\" ng-model=\"vm.organizations.search\" ng-change=\"vm.searchChange()\" placeholder=\"Search all\" class=\"form-control input-sm search-bar\">\\n      </mno-widget-header>\\n      <mno-widget-body class=\"no-padding\">\\n        <table class=\"table table-layout-fixed\">\\n          <thead>\\n          <tr>\\n            <th>Uid</th>\\n            <th>Name</th>\\n          </tr>\\n          </thead>\\n          <tbody>\\n          <tr ng-repeat=\"organization in vm.organizations.list\">\\n            <td>{{::organization.uid}}</td>\\n            <td>{{organization.name}}</td>\\n            <td><input type=\"checkbox\" ng-model=\"vm.selectedOrganizations[organization.id]\"></td>\\n          </tr>\\n          </tbody>\\n        </table>\\n      </mno-widget-body>\\n    </mno-widget>\\n  </div>\\n  <div class=\"modal-footer\">\\n    <div class=\"row actions\">\\n      <div class=\"col-xs-12\">\\n        <button type=\"button\" ng-click=\"vm.onSubmit()\" ng-disabled=\"vm.isLoading\" class=\"btn btn-primary\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          Save\\n        </button>\\n        <a href=\"\" ng-click=\"vm.onCancel()\"><i class=\"fa fa-times\"></i> cancel</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/staffs/create-staff-modal/create-staff.html','<div id=\"staff-user-modal\">\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.staffs.add_staff.modal.title</h3>\\n  </div>\\n\\n  <form name=\"vm.form.user\" novalidate>\\n    <div class=\"modal-body\">\\n      <div class=\"row\">\\n        <div class=\"col-sm-6\">\\n          <input type=\"text\" class=\"form-control input-sm\" id=\"user-first-name\" ng-model=\"vm.user.name\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.name\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.name\\' | translate}}\" required>\\n        </div>\\n        <div class=\"col-sm-6\">\\n          <input type=\"text\" class=\"form-control input-sm\" id=\"user-last-name\" ng-model=\"vm.user.surname\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.surname\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.surname\\' | translate}}\" required>\\n        </div>\\n      </div>\\n\\n      <div class=\"row top-buffer-1\">\\n        <div class=\"col-sm-6\">\\n          <input type=\"email\" class=\"form-control input-sm\" id=\"user-email\" ng-model=\"vm.user.email\" ng-change=\"vm.onEmailChange()\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.email\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.email\\' | translate}}\" required>\\n        </div>\\n        <div class=\"col-sm-6\">\\n          <select ng-model=\"vm.user.admin_role\" class=\"form-control input-sm\" ng-options=\"role.value as role.label | translate for role in vm.admin_roles\" required>\\n            <option value=\"\" disabled=\"disabled\" selected=\"selected\" translate>mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.role</option>\\n          </select>\\n        </div>\\n      </div>\\n\\n      <div class=\"alert alert-warning\" ng-if=\"vm.staffAlreadyExists\">\\n        <span><i class=\"fa fa-warning\"></i></span>\\n        {{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.staff_exists\\' | translate}}\\n      </div>\\n    </div>\\n  </form>\\n\\n  <div class=\"modal-footer\">\\n    <div class=\"row actions\">\\n      <div class=\"col-xs-12\">\\n        <button type=\"button\" ng-click=\"vm.onSubmit()\" ng-disabled=\"vm.isLoading || vm.form.user.$invalid\" class=\"btn btn-primary\" ng-hide=\"vm.staffAlreadyExists\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          {{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.save\\' | translate}}\\n        </button>\\n        <button type=\"button\" ng-click=\"vm.addStaff()\" ng-disabled=\"vm.isLoading || vm.form.user.$invalid\" class=\"btn btn-primary\" ng-show=\"vm.staffAlreadyExists\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          {{\\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.confirm\\' | translate}}\\n        </button>\\n        <a href=\"\" ng-click=\"vm.onCancel()\"><i class=\"fa fa-times\"></i>{{ \\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.cancel\\' | translate}}</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/sub-tenant/update-account-managers-modal/update-account-managers.html','<div id=\"sub-tenant-modal\">\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.sub_tenant.select_account_managers.modal.title</h3>\\n  </div>\\n\\n  <div class=\"modal-body\">\\n    <rd-widget-body classes=\"large no-padding\"> <!-- loading=\"staff.loading\"  -->\\n      <div>\\n          <table st-pipe=\"vm.callServer\" st-table=\"vm.listOfStaff\" class=\"table table-striped\">\\n            <thead>\\n            <tr>\\n              <th st-sort=\"name\" class=\"col-lg-2\">Name</th>\\n              <th st-sort=\"surname\" class=\"col-lg-3\">Surname</th>\\n              <th st-sort=\"created_at\" class=\"col-lg-3\">Creation</th>\\n              <th st-sort=\"admin_role\" class=\"col-lg-3\">Role</th>\\n            </tr>\\n            <tr>\\n              <th>\\n                <input st-search=\"name\" placeholder=\"Search for name\" class=\"form-control input-sm search-bar\" type=\"text\">\\n              </th>\\n              <th>\\n                <input st-search=\"surname\" placeholder=\"Search for surname\" class=\"form-control input-sm search-bar\" type=\"text\">\\n              </th>\\n              <th></th>\\n              <th>\\n                <select st-search=\"admin_role\" class=\"form-control input-sm\">\\n                  <option value=\"\" selected=\"selected\" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.admin_role.all</option>\\n                  <option value=\"{{role.value}}\" ng-repeat=\"role in vm.staff_roles\">{{ role.label | translate }}</option>\\n                </select>\\n              </th>\\n            </tr>\\n            </thead>\\n            <tbody ng-show=\"vm.staff.loading\">\\n            <tr>\\n              <td colspan=\"6\" class=\"text-center\">Loading ...</td>\\n            </tr>\\n            </tbody>\\n            <tbody ng-show=\"!vm.staff.loading\">\\n            <tr ng-repeat=\"staffElem in vm.listOfStaff\">\\n              <td>{{staffElem.name}}</td>\\n              <td>{{staffElem.surname}}</td>\\n              <td>{{staffElem.created_at | date: \\'dd/MM/yyyy\\'}}</td>\\n              <td translate>{{vm.getAdminRoleLabel(staffElem.admin_role)}}</td>\\n              <td><input type=\"checkbox\" ng-model=\"vm.selectedUsers[staffElem.id]\"></td>\\n            </tr>\\n            </tbody>\\n          </table>\\n      </div>\\n    </rd-widget-body>\\n  </div>\\n\\n  <div class=\"modal-footer\">\\n    <div class=\"row actions\">\\n      <div class=\"col-xs-12\">\\n        <button type=\"button\" ng-click=\"vm.onSubmit()\" ng-disabled=\"vm.isLoading\" class=\"btn btn-primary\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          Save\\n        </button>\\n        <a href=\"\" ng-click=\"vm.onCancel()\"><i class=\"fa fa-times\"></i> cancel</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/sub-tenant/update-clients-modal/update-clients.html','<div id=\"sub-tenant-modal\">\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.sub_tenant.select_clients.modal.title</h3>\\n  </div>\\n\\n  <div class=\"modal-body\">\\n    <rd-widget>\\n      <rd-widget-header icon=\"fa-sitemap\" title=\"Select Organization\">&nbsp;\\n        <input type=\"text\" ng-model=\"vm.organizations.search\" ng-change=\"vm.searchChange()\" placeholder=\"Search all\" class=\"form-control input-sm search-bar\">\\n      </rd-widget-header>\\n      <rd-widget-body loading=\"vm.organizations.loading\" classes=\"large no-padding\">\\n        <table class=\"table table-layout-fixed\">\\n          <thead>\\n          <tr>\\n            <th>Uid</th>\\n            <th>Name</th>\\n          </tr>\\n          </thead>\\n          <tbody>\\n          <tr ng-repeat=\"organization in vm.organizations.list\">\\n            <td>{{::organization.uid}}</td>\\n            <td>{{organization.name}}</td>\\n            <td><input type=\"checkbox\" ng-model=\"vm.selectedOrganizations[organization.id]\"></td>\\n          </tr>\\n          </tbody>\\n        </table>\\n      </rd-widget-body>\\n    </rd-widget>\\n  </div>\\n\\n  <div class=\"modal-footer\">\\n    <div class=\"row actions\">\\n      <div class=\"col-xs-12\">\\n        <button type=\"button\" ng-click=\"vm.onSubmit()\" ng-disabled=\"vm.isLoading\" class=\"btn btn-primary\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          Save\\n        </button>\\n        <a href=\"\" ng-click=\"vm.onCancel()\"><i class=\"fa fa-times\"></i> cancel</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');\n$templateCache.put('app/views/sub-tenants/create-sub-tenant-modal/create-sub-tenant.html','<div id=\"sub-tenant-modal\">\\n  <div class=\"modal-header\">\\n    <h3 class=\"modal-title\" translate>mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.title</h3>\\n  </div>\\n\\n  <form name=\"vm.form.sub-tenant\" novalidate>\\n    <div class=\"modal-body\">\\n      <div class=\"row\">\\n        <div class=\"col-sm-12\">\\n          <input type=\"text\" class=\"form-control input-sm\" id=\"sub-tenant-first-name\" ng-model=\"vm.subTenant.name\" placeholder=\"{{\\'mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.placeholder.name\\' | translate}}\" aria-label=\"{{\\'mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.placeholder.name\\' | translate}}\" required>\\n        </div>\\n      </div>\\n    </div>\\n  </form>\\n\\n  <div class=\"modal-footer\">\\n    <div class=\"row actions\">\\n      <div class=\"col-xs-12\">\\n        <button type=\"button\" ng-click=\"vm.onSubmit()\" ng-disabled=\"vm.isLoading || vm.form.subTenant.$invalid\" class=\"btn btn-primary\">\\n          <span ng-show=\"vm.isLoading\"><i class=\"fa fa-spinner fa-pulse fa-fw\"></i></span>\\n          Save\\n        </button>\\n        <a href=\"\" ng-click=\"vm.onCancel()\"><i class=\"fa fa-times\"></i> cancel</a>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n');}]);"]}